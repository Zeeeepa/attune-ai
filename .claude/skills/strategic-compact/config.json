{
  "name": "strategic-compact",
  "description": "Preserve collaboration state through context compaction",
  "version": "1.0.0",
  "author": "Empathy Framework Team",
  "triggers": {
    "commands": ["/compact", "/save-state"],
    "hooks": ["PreCompact"],
    "conditions": {
      "token_usage_percent": 50,
      "message_count": 50
    }
  },
  "preserves": [
    "trust_level",
    "empathy_level",
    "detected_patterns",
    "session_id",
    "current_phase",
    "completed_phases",
    "pending_handoff",
    "key_preferences"
  ],
  "limits": {
    "max_patterns": 10,
    "max_preferences": 10,
    "max_states_per_user": 5
  },
  "integrations": {
    "context_manager": "empathy_llm_toolkit.context.ContextManager",
    "compaction_manager": "empathy_llm_toolkit.context.CompactionStateManager",
    "pre_compact_hook": "empathy_llm_toolkit.hooks.scripts.pre_compact.run_pre_compact"
  },
  "attribution": {
    "inspired_by": "everything-claude-code",
    "author": "Affaan Mustafa (@affaan-m)",
    "license": "MIT",
    "url": "https://github.com/affaan-m/everything-claude-code"
  }
}
