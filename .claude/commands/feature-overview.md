# Feature Overview Generator

Generate comprehensive technical documentation for code modules, suitable for architects, engineers, and content creators.

## Usage

```
/feature-overview [path]
```

**Arguments:**
- `path` (optional): Directory or file to analyze. Defaults to current directory.

**Examples:**
```
/feature-overview src/empathy_os/meta_workflows/
/feature-overview src/empathy_os/memory/
/feature-overview .
```

## What It Does

This command runs a 5-agent pipeline to analyze code and generate:

1. **Code Scanner** - Identifies modules, classes, functions, and their relationships
2. **Insights Reporter** - Highlights architectural decisions and design patterns
3. **Release Notes Writer** - Documents features in changelog-friendly format
4. **Quality Checker** - Validates completeness and accuracy
5. **Blog Content Creator** - Transforms insights into developer-friendly content

## Instructions for Claude

When the user invokes `/feature-overview`, follow these steps:

### Step 1: Determine Scope

If no path provided, ask:

Use AskUserQuestion with:
- Question: "What would you like me to analyze?"
- Header: "Scope"
- Options:
  - "Current directory" - Analyze the entire project
  - "Specific module" - I'll ask which module
  - "Recent changes" - Focus on files changed since last commit

### Step 2: Identify Target Audience

Use AskUserQuestion with:
- Question: "Who is the primary audience for this overview?"
- Header: "Audience"
- Options:
  - "Architects (Recommended)" - Focus on design patterns and architecture
  - "Engineers" - Focus on implementation details and APIs
  - "Technical Writers" - Focus on documentation and examples
  - "All" - Comprehensive coverage

### Step 3: Analyze the Code

Read the target files and analyze:
- Module structure and organization
- Key classes and their responsibilities
- Design patterns used
- Data flow and dependencies
- Extension points and APIs

### Step 4: Generate the Overview

Create a comprehensive technical document with:

```markdown
# Feature Overview: [Module Name]

**Generated:** [Date]
**Modules Analyzed:** [Count]
**Target Audience:** [Selected audience]

---

## Executive Summary

[2-3 sentence overview of what this code does]

## Architecture Overview

[Diagram or description of component relationships]

## Core Components

### [Component 1]
- **Purpose:** [What it does]
- **Location:** [file:line]
- **Key Methods:** [List important methods]

### [Component 2]
...

## Design Patterns

| Pattern | Location | Purpose |
|---------|----------|---------|
| [Pattern] | [file] | [Why used] |

## Data Flow

[Description of how data moves through the system]

## Extension Points

| Extension | How to Extend |
|-----------|---------------|
| [Point] | [Instructions] |

## Key Insights

1. [Architectural decision and rationale]
2. [Notable pattern or approach]
3. [Potential improvement or consideration]

## Blog-Ready Summary

> [2-3 paragraph summary suitable for a technical blog post]

---

*Generated by Empathy Framework Feature Overview*
```

### Step 5: Offer Follow-ups

After generating the overview, ask:

Use AskUserQuestion with:
- Question: "What would you like to do next?"
- Header: "Next Steps"
- Options:
  - "Save to file" - Save as markdown in docs/
  - "Generate blog post" - Create full blog post draft
  - "Analyze another module" - Run on different code
  - "Done" - Finish

## Quality Settings

This command uses the **maximize quality** tier configuration:
- Insights Reporter: `capable` tier
- Quality Checker: `premium` tier
- Blog Content Creator: `premium` tier

Estimated cost: $0.40-0.80 per run with real LLM execution.

## Related Commands

- `/release-prep` - Prepare a full release with changelog
- `/manage-docs` - Keep documentation in sync with code
- `/create-agent` - Create custom AI agents
