============================================================
DOCUMENTATION GENERATION REPORT
============================================================

Document Type: Api Reference
Target Audience: Developers

------------------------------------------------------------
DOCUMENT OUTLINE
------------------------------------------------------------
# Empathy Framework - Cross-Platform Utilities API Reference

## Documentation Outline

---

## 1. Overview & Introduction

### 1.1 Purpose
- What this module provides
...

------------------------------------------------------------
GENERATED DOCUMENTATION
------------------------------------------------------------

# Empathy Framework - Cross-Platform Utilities API Reference

**Version:** 1.0.0
**Module:** `empathy_os.platform_utils`
**License:** Fair Source License 0.9
**Copyright:** 2025 Smart-AI-Memory

---

## Table of Contents

1. [Overview & Introduction](#1-overview--introduction)
2. [Platform Detection Functions](#2-platform-detection-functions)
3. [Directory Utilities](#3-directory-utilities)
4. [Asyncio Configuration](#4-asyncio-configuration)
5. [File Handling Utilities](#5-file-handling-utilities)
6. [Platform Reference Tables](#6-platform-reference-tables)
7. [Best Practices & Patterns](#7-best-practices--patterns)
8. [Troubleshooting](#8-troubleshooting)

---

## 1. Overview & Introduction

### 1.1 Purpose

The `empathy_os.platform_utils` module provides a comprehensive suite of cross-platform utilities for the Empathy Framework. This module abstracts away platform-specific differences, enabling developers to write code that works seamlessly across Windows, macOS, and Linux.

**What this module provides:**

| Category | Functions | Purpose |
|----------|-----------|---------|
| **Platform Detection** | `is_windows()`, `is_macos()`, `is_linux()` | Identify the current operating system |
| **Directory Management** | `get_default_log_dir()`, `get_default_data_dir()`, `get_default_config_dir()`, `get_default_cache_dir()` | Platform-appropriate paths for application files |
| **Asyncio Configuration** | `setup_asyncio_policy()`, `safe_run_async()` | Cross-platform event loop handling |
| **File Operations** | `open_text_file()` | UTF-8 encoding utilities for consistent text handling |

**Why cross-platform utilities matter:**

Different operating systems have distinct conventions for:
- File system paths and directory structures
- Environment variables and configuration locations
- Asyncio event loop implementations
- Default file encodings (Windows defaults to cp1252, Unix to UTF-8)

Without proper abstraction, applications must implement complex conditional logic throughout the codebase. This module centralizes platform-specific behavior, making your code cleaner, more maintainable, and less error-prone.

### 1.2 Quick Start

```python
from empathy_os.platform_utils import (
    get_default_log_dir,
    setup_asyncio_policy,
    is_windows,
)

# Initialize platform-specific settings early in your application
setup_asyncio_policy()

# Get platform-appropriate directories
log_dir = get_default_log_dir()
log_dir.mkdir(parents=True, exist_ok=True)

# Use platform detection for conditional logic
if is_windows():
    print(f"Windows log directory: {log_dir}")
else:
    print(f"Unix-like log directory: {log_dir}")
```

**Complete initialization example:**

```python
from pathlib import Path
from empathy_os.platform_utils import (
    setup_asyncio_policy,
    get_default_log_dir,
    get_default_data_dir,
    get_default_config_dir,
    get_default_cache_dir,
)


def initialize_application() -> dict[str, Path]:
    """Initialize application with platform-appropriate settings.

    Returns:
        Dictionary mapping directory names to their Path objects.
    """
    # MUST be called before any asyncio operations
    setup_asyncio_policy()

    # Create all necessary directories
    directories = {
        "log": get_default_log_dir(),
        "data": get_default_data_dir(),
        "config": get_default_config_dir(),
        "cache": get_default_cache_dir(),
    }

    for name, path in directories.items():
        path.mkdir(parents=True, exist_ok=True)
        print(f"{name.capitalize()} directory: {path}")

    return directories


# Call at application startup
if __name__ == "__main__":
    dirs = initialize_application()
```

### 1.3 Installation & Requirements

**Python Version Requirements:**
- Python 3.8 or higher
- Type hints compatible with Python 3.8+

**Dependencies:**

This module uses only Python standard library components:

| Module | Purpose |
|--------|---------|
| `asyncio` | Event loop configuration |
| `os` | Environment variables and file access checks |
| `platform` | Operating system detection |
| `pathlib` | Cross-platform path handling |
| `typing` | Type annotations |

**Internal Dependencies:**
- `empathy_os.config._validate_file_path` (for file path validation)

**Import Statement:**

```python
# Import specific functions (recommended)
from empathy_os.platform_utils import (
    is_windows,
    is_macos,
    is_linux,
    get_default_log_dir,
    get_default_data_dir,
    get_default_config_dir,
    get_default_cache_dir,
    setup_asyncio_policy,
    safe_run_async,
    open_text_file,
)

# Or import the module with an alias
import empathy_os.platform_utils as platform_utils

# Usage with alias
if platform_utils.is_windows():
    log_dir = platform_utils.get_default_log_dir()
```

### 1.4 Module Structure

```
empathy_os/platform_utils.py
│
├── Platform Detection
│   ├── is_windows() -> bool
│   ├── is_macos() -> bool
│   └── is_linux() -> bool
│
├── Directory Utilities
│   ├── get_default_log_dir() -> Path
│   ├── get_default_data_dir() -> Path
│   ├── get_default_config_dir() -> Path
│   └── get_default_cache_dir() -> Path
│
├── Asyncio Configuration
│   ├── setup_asyncio_policy() -> None
│   └── safe_run_async(coro, debug) -> Any
│
└── File Handling
    └── open_text_file(path, mode, **kwargs) -> TextIO
```

---

## 2.

------------------------------------------------------------
STATISTICS
------------------------------------------------------------
Word Count: 571
Section Count: ~7

============================================================
Generated using premium tier model
============================================================
