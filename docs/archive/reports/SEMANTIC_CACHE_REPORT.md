---
description: Semantic Cache Benchmark Report: **Generated:** 2026-01-23 21:32:00 **Purpose:** Test hybrid cache semantic matching vs hash-only cache **Test Method:** Run wor
---

# Semantic Cache Benchmark Report

**Generated:** 2026-01-23 21:32:00
**Purpose:** Test hybrid cache semantic matching vs hash-only cache
**Test Method:** Run workflows with identical, similar, and very similar prompts

---

## Executive Summary

This benchmark tests whether semantic caching (hybrid mode) can match similar prompts that differ only in wording.

**Key Questions:**
1. Does hybrid cache match semantically similar prompts?
2. What's the hit rate improvement over hash-only cache?
3. Is the ~100ms similarity search worth it?

---

## Test Design

### Prompt Variations

**Code Review Test:**
- **Original:** "Failed login for {username}"
- **Semantically Similar:** "Login attempt failed for {username}"
- **Very Similar:** Same text, different whitespace

**Security Audit Test:**
- **Original:** `run_command()`, `get_secret()`, `password = "admin123"`
- **Semantically Similar:** `execute_command()`, `retrieve_secret()`, `password = "admin123"`
- **Very Similar:** `run_command()`, `get_secret()`, `pwd = "admin123"`

### Cache Strategies Tested


## Code-Review - HASH Cache

### Run Details

| Run | Prompt Variant | Cost | Time | Hits | Misses | Hit Rate |
|-----|----------------|------|------|------|--------|----------|
| 1 | original | $0.000000 | 0.03s | 0 | 2 | 0.0% |
| 2 | semantically_similar | $0.000000 | 0.01s | 0 | 4 | 0.0% |
| 3 | very_similar | $0.000000 | 0.02s | 0 | 6 | 0.0% |

### Summary

- **Average Cost:** $0.000000
- **Average Time:** 0.02s
- **Average Hit Rate:** 0.0%
- **Total Hits:** 0
- **Total Misses:** 12


## Security-Audit - HASH Cache

### Run Details

| Run | Prompt Variant | Cost | Time | Hits | Misses | Hit Rate |
|-----|----------------|------|------|------|--------|----------|
| 1 | original | $0.139566 | 5.96s | 0 | 7 | 0.0% |
| 2 | semantically_similar | $0.139566 | 3.93s | 0 | 8 | 0.0% |
| 3 | very_similar | $0.139566 | 3.86s | 0 | 9 | 0.0% |

### Summary

- **Average Cost:** $0.139566
- **Average Time:** 4.58s
- **Average Hit Rate:** 0.0%
- **Total Hits:** 0
- **Total Misses:** 24


## Code-Review - HYBRID Cache

### Run Details

| Run | Prompt Variant | Cost | Time | Hits | Misses | Hit Rate |
|-----|----------------|------|------|------|--------|----------|
| 1 | original | $0.000000 | 0.02s | 0 | 2 | 0.0% |
| 2 | semantically_similar | $0.000000 | 0.02s | 0 | 4 | 0.0% |
| 3 | very_similar | $0.000000 | 0.01s | 0 | 6 | 0.0% |

### Summary

- **Average Cost:** $0.000000
- **Average Time:** 0.02s
- **Average Hit Rate:** 0.0%
- **Total Hits:** 0
- **Total Misses:** 12


## Security-Audit - HYBRID Cache

### Run Details

| Run | Prompt Variant | Cost | Time | Hits | Misses | Hit Rate |
|-----|----------------|------|------|------|--------|----------|
| 1 | original | $0.139566 | 3.81s | 0 | 7 | 0.0% |
| 2 | semantically_similar | $0.139566 | 4.00s | 0 | 8 | 0.0% |
| 3 | very_similar | $0.139566 | 3.86s | 0 | 9 | 0.0% |

### Summary

- **Average Cost:** $0.139566
- **Average Time:** 3.89s
- **Average Hit Rate:** 0.0%
- **Total Hits:** 0
- **Total Misses:** 24

---

## Comparison: Hash vs Hybrid Cache

### Security-Audit

| Metric | Hash-Only | Hybrid | Improvement |
|--------|-----------|--------|-------------|
| Avg Hit Rate | 0.0% | 0.0% | +0.0% |
| Avg Cost | $0.139566 | $0.139566 | $0.000000 |
| Avg Time | 4.58s | 3.89s | 0.69s |

### Code-Review

| Metric | Hash-Only | Hybrid | Improvement |
|--------|-----------|--------|-------------|
| Avg Hit Rate | 0.0% | 0.0% | +0.0% |
| Avg Cost | $0.000000 | $0.000000 | $0.000000 |
| Avg Time | 0.02s | 0.02s | 0.00s |

---

## Key Findings


### Semantic Matching Performance

**Average hit rate with hybrid cache:** 0.0%

❌ **UNDERWHELMING:** Hybrid cache only achieves 0.0% hit rate

**Recommendation:** Do NOT claim "70% hit rate" - use actual measured value

---

## Honest Marketing Claims (Based on This Data)

### What We CAN Say


### What We Should NOT Say (Unless Verified)

❌ "70% cache hit rate with hybrid cache"
- Reality: Actual benchmark shows different results (see above)
- Only claim the measured values

---

## Reproducibility

Run this benchmark yourself:

```bash
pip install empathy-framework[cache]
python benchmark_semantic_cache.py
```

Expected runtime: ~5-10 minutes

---

*Generated by benchmark_semantic_cache.py*
