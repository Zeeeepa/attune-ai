============================= test session starts ==============================
platform darwin -- Python 3.10.11, pytest-9.0.2, pluggy-1.6.0 -- /Users/patrickroebuck/attune-ai/.venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/patrickroebuck/attune-ai
configfile: pytest.ini (WARNING: ignoring pytest config in pyproject.toml!)
plugins: anyio-4.12.1, mock-3.15.1, xdist-3.8.0, asyncio-1.3.0, testmon-2.2.0, picked-0.5.1, cov-7.0.0
asyncio: mode=auto, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 6266 items / 7 skipped

tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityEnum::test_enum_values PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityEnum::test_enum_members PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestComplexityScore::test_initialization PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerInitialization::test_initialization_with_tiktoken PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerInitialization::test_initialization_without_tiktoken PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerSimpleTasks::test_simple_task_with_tokenizer PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerSimpleTasks::test_simple_task_without_tokenizer PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerSimpleTasks::test_simple_task_with_small_context PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerModerateTasks::test_moderate_task PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerModerateTasks::test_moderate_task_with_files PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerComplexTasks::test_complex_task PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerComplexTasks::test_complex_task_with_many_files PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerVeryComplexTasks::test_very_complex_task PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerVeryComplexTasks::test_very_complex_by_tokens_only PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerVeryComplexTasks::test_very_complex_by_lines_only PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_fallback_estimation_accuracy PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_empty_description PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_no_context_no_files PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_empty_files_list PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_boundary_simple_moderate PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_boundary_moderate_complex PASSED [  0%]
tests/unit/adaptive/test_task_complexity.py::TestTaskComplexityScorerEdgeCases::test_boundary_complex_very_complex PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestTaskComplexity::test_enum_values_exist PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestTaskComplexity::test_enum_count PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestTaskComplexity::test_enum_is_string_enum PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestComplexityScore::test_create_score_with_all_fields PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestComplexityScore::test_create_simple_score PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestComplexityScore::test_create_very_complex_score PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestTaskComplexityScorerInit::test_scorer_initializes PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestTaskComplexityScorerInit::test_scorer_has_tokenizer_attribute PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestScoreSimpleTasks::test_score_simple_description_only PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestScoreSimpleTasks::test_score_simple_with_one_file PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestConfidenceScores::test_confidence_with_tokenizer PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestConfidenceScores::test_confidence_is_valid_range PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestEdgeCases::test_score_empty_description PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestEdgeCases::test_score_with_none_context PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestEdgeCases::test_score_with_none_files PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestEdgeCases::test_score_with_empty_files_list PASSED [  0%]
tests/unit/adaptive/test_task_complexity_coverage_boost.py::TestEdgeCases::test_score_returns_complexity_score PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_create_entry_with_all_fields PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_create_entry_without_ttl PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_is_expired_with_no_ttl_returns_false PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_is_expired_within_ttl_returns_false PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_is_expired_at_exact_ttl_returns_false PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_is_expired_after_ttl_returns_true PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheEntry::test_entry_stores_complex_response PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_default_values PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_total_property PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_hit_rate_with_zero_total_returns_zero PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_hit_rate_all_hits PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_hit_rate_all_misses PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_hit_rate_mixed PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_hit_rate_fractional PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestCacheStats::test_to_dict PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestBaseCacheKeyGeneration::test_cache_key_is_deterministic PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestBaseCacheKeyGeneration::test_cache_key_is_64_chars PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestBaseCacheKeyGeneration::test_different_inputs_produce_different_keys PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestBaseCacheKeyGeneration::test_default_ttl_is_one_day PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestBaseCacheKeyGeneration::test_custom_max_size_and_ttl PASSED [  0%]
tests/unit/cache/test_cache_base.py::TestBaseCacheKeyGeneration::test_stats_initialized PASSED [  0%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_init_creates_config_path PASSED [  0%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_is_cache_installed_true FAILED [  0%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_is_cache_installed_false PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_should_prompt_when_not_installed PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_should_not_prompt_when_already_installed PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_should_not_prompt_when_declined PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_should_not_prompt_when_already_shown PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_should_not_prompt_when_disabled PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_prompt_cache_install_accept PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_prompt_cache_install_decline PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_prompt_cache_install_keyboard_interrupt PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_install_cache_dependencies_success PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_install_cache_dependencies_failure PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_disable_prompts PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_enable_prompts PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_get_config PASSED [  1%]
tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_set_config PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_ttl_expiration_basic PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_ttl_none_never_expires PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_auto_cleanup_expired_on_load PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_put_and_get_round_trip PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_get_nonexistent_returns_none PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_clear_removes_all_entries PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_persistent_across_instances PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_ttl_zero_expires_immediately PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_eviction_on_size_limit PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_cache_hit_for_valid_entry PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_cache_miss_for_nonexistent_key PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_ttl_expiration_edge_case_exact_time PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_cleanup_multiple_expired_entries PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_ttl_negative_value_expires_immediately PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestEvictionPolicies::test_storage_preserves_entry_metadata PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_load_from_disk PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_save_to_disk_creates_file PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_directory_creation PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_cache_stats_hit_rate_calculation PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_cache_stats_zero_lookups_hit_rate PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_cache_stats_to_dict PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_memory_footprint_tracking PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_disk_size_limit_enforcement PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_cache_stats_incremental_updates PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_handles_corrupt_cache_file PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_storage_multiple_save_operations PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestMemoryManagement::test_cache_stats_eviction_tracking PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_put_updates_existing_entry PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_get_expired_entry_returns_none PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_multiple_entries_distinct_keys PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_storage_empty_after_initialization PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_auto_save_persists_immediately PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_cache_entry_dataclass_structure PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_delete_entry_by_key PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestStorageOperations::test_storage_handles_unicode_keys_and_values PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestConcurrentAccess::test_storage_multiple_puts_same_key PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestConcurrentAccess::test_storage_isolation_between_instances PASSED [  1%]
tests/unit/cache/test_eviction_policies.py::TestConcurrentAccess::test_storage_read_write_interleaving PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_init PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_cache_miss PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_cache_hit_exact_match PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_cache_miss_different_prompt PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_cache_key_includes_model PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_cache_key_includes_workflow_and_stage PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_ttl_expiration PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_custom_ttl PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_evict_expired PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_clear_cache PASSED [  1%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_lru_eviction PASSED [  2%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_hit_rate_calculation PASSED [  2%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_size_info PASSED [  2%]
tests/unit/cache/test_hash_cache.py::TestHashOnlyCache::test_access_time_tracking PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheInitialization::test_init_with_defaults PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheInitialization::test_init_with_custom_parameters PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheInitialization::test_init_creates_cache_stats PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_cache_miss_on_first_call PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_cache_hit_on_second_call PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_updates_access_time_on_hit PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_returns_none_for_expired_entry PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_evicts_expired_entry PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_cache_miss_for_different_prompt PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheGetOperations::test_get_cache_miss_for_different_workflow PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCachePutOperations::test_put_stores_response_in_memory PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCachePutOperations::test_put_creates_cache_entry_with_metadata PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCachePutOperations::test_put_uses_custom_ttl PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCachePutOperations::test_put_uses_default_ttl_when_not_specified PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCachePutOperations::test_put_sets_access_time PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCachePutOperations::test_put_triggers_lru_eviction_check PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheLRUEviction::test_maybe_evict_lru_does_nothing_when_under_limit PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheLRUEviction::test_maybe_evict_lru_evicts_when_over_limit PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheLRUEviction::test_maybe_evict_lru_evicts_oldest_entries PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheLRUEviction::test_evict_entry_removes_from_memory_and_access_times PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheLRUEviction::test_evict_entry_handles_missing_key_gracefully PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheExpiration::test_evict_expired_removes_expired_entries PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheExpiration::test_evict_expired_keeps_valid_entries PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheExpiration::test_evict_expired_returns_zero_when_no_expired PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheClearAndStats::test_clear_removes_all_entries PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheClearAndStats::test_clear_removes_access_times PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheClearAndStats::test_get_stats_returns_cache_statistics PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheClearAndStats::test_size_info_returns_cache_size_metrics PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheClearAndStats::test_size_info_returns_zero_for_empty_cache PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheEdgeCases::test_multiple_workflows_in_same_cache PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheEdgeCases::test_multiple_stages_in_same_workflow PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheEdgeCases::test_multiple_models_for_same_prompt PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheEdgeCases::test_cache_handles_complex_response_objects PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheEdgeCases::test_cache_handles_empty_prompt PASSED [  2%]
tests/unit/cache/test_hash_only_coverage_boost.py::TestHashOnlyCacheEdgeCases::test_cache_handles_very_long_prompt PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_init_creates_cache_dir PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_put_and_get PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_get_nonexistent_key PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_get_expired_entry_returns_none PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_delete PASSED   [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_delete_nonexistent_returns_false PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_clear PASSED    [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_evict_expired PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_get_all PASSED  [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_save_and_load PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_load_skips_expired_entries PASSED [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_size_mb PASSED  [  2%]
tests/unit/cache/test_storage.py::TestCacheStorage::test_stats PASSED    [  2%]
tests/unit/cli/commands/test_batch_coverage_boost.py::TestCmdBatchSubmit::test_batch_submit_missing_file_returns_1 PASSED [  2%]
tests/unit/cli/commands/test_batch_coverage_boost.py::TestCmdBatchSubmit::test_batch_submit_missing_api_key_returns_1 PASSED [  2%]
tests/unit/cli/commands/test_batch_coverage_boost.py::TestCmdBatchStatus::test_batch_status_missing_api_key_returns_1 PASSED [  2%]
tests/unit/cli/commands/test_batch_coverage_boost.py::TestCmdBatchResults::test_batch_results_missing_api_key_returns_1 PASSED [  2%]
tests/unit/cli/commands/test_batch_coverage_boost.py::TestCmdBatchWait::test_batch_wait_missing_api_key_returns_1 PASSED [  2%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestCmdCacheStats::test_cache_stats_calls_collect PASSED [  2%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestCmdCacheStats::test_cache_stats_json_output PASSED [  2%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestCmdCacheClear::test_cache_clear_returns_none PASSED [  2%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestCollectCacheStats::test_collect_stats_no_log_file PASSED [  2%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestCollectCacheStats::test_collect_stats_empty_log PASSED [  2%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestCollectCacheStats::test_collect_stats_with_cache_hit PASSED [  3%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestDisplayCacheReport::test_display_report_with_error PASSED [  3%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestDisplayCacheReport::test_display_report_normal_stats PASSED [  3%]
tests/unit/cli/commands/test_cache_coverage_boost.py::TestDisplayCacheReport::test_display_report_verbose_mode PASSED [  3%]
tests/unit/cli/commands/test_info_coverage_boost.py::TestCmdInfo::test_cmd_info_loads_default_config PASSED [  3%]
tests/unit/cli/commands/test_info_coverage_boost.py::TestCmdInfo::test_cmd_info_loads_custom_config PASSED [  3%]
tests/unit/cli/commands/test_info_coverage_boost.py::TestCmdInfo::test_cmd_info_returns_none PASSED [  3%]
tests/unit/cli/commands/test_info_coverage_boost.py::TestCmdFrameworks::test_cmd_frameworks_function_exists PASSED [  3%]
tests/unit/cli/commands/test_inspection_coverage_boost.py::TestScan::test_scan_calls_ruff PASSED [  3%]
tests/unit/cli/commands/test_inspection_coverage_boost.py::TestScan::test_scan_with_fix_flag PASSED [  3%]
tests/unit/cli/commands/test_inspection_coverage_boost.py::TestInspectCmd::test_inspect_cmd_calls_subprocess PASSED [  3%]
tests/unit/cli/commands/test_inspection_coverage_boost.py::TestInspectCmd::test_inspect_cmd_with_format PASSED [  3%]
tests/unit/cli/commands/test_memory_coverage_boost.py::TestMemoryApp::test_memory_app_exists PASSED [  3%]
tests/unit/cli/commands/test_memory_coverage_boost.py::TestMemoryCommands::test_memory_status_calls_subprocess PASSED [  3%]
tests/unit/cli/commands/test_memory_coverage_boost.py::TestMemoryCommands::test_memory_start_calls_subprocess PASSED [  3%]
tests/unit/cli/commands/test_memory_coverage_boost.py::TestMemoryCommands::test_memory_stop_calls_subprocess PASSED [  3%]
tests/unit/cli/commands/test_memory_coverage_boost.py::TestMemoryCommands::test_memory_stats_calls_subprocess PASSED [  3%]
tests/unit/cli/commands/test_memory_coverage_boost.py::TestMemoryCommands::test_memory_patterns_calls_subprocess PASSED [  3%]
tests/unit/cli/parsers/test_sync_coverage_boost.py::TestRegisterParsers::test_register_parsers_adds_sync_claude PASSED [  3%]
tests/unit/cli/parsers/test_sync_coverage_boost.py::TestRegisterParsers::test_sync_claude_has_patterns_dir_arg PASSED [  3%]
tests/unit/cli/parsers/test_sync_coverage_boost.py::TestRegisterParsers::test_sync_claude_has_output_dir_arg PASSED [  3%]
tests/unit/cli/parsers/test_sync_coverage_boost.py::TestRegisterParsers::test_sync_claude_default_patterns_dir PASSED [  3%]
tests/unit/cli/parsers/test_sync_coverage_boost.py::TestRegisterParsers::test_sync_claude_default_output_dir PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheStatsCollection::test_collect_stats_no_log_file PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheStatsCollection::test_collect_stats_from_log_file PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheStatsCommand::test_cmd_cache_stats_table_format PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheStatsCommand::test_cmd_cache_stats_json_format PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheStatsCommand::test_cmd_cache_stats_verbose PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheReport::test_display_cache_report_error PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheReport::test_display_cache_report_success PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheReport::test_display_cache_report_verbose PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheReport::test_display_cache_report_performance_levels PASSED [  3%]
tests/unit/cli/test_cache_commands.py::TestCacheClearCommand::test_cmd_cache_clear PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestGetEmpathyVersion::test_returns_version_string PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestGetEmpathyVersion::test_returns_dev_on_import_error PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestVersionCallback::test_exits_when_value_true PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestVersionCallback::test_no_exit_when_value_false PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestConsole::test_console_exists PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestCLIAppStructure::test_app_exists SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLIAppStructure::test_app_has_name SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLIAppStructure::test_memory_app_registered PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestCLIAppStructure::test_provider_app_registered SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLICommands::test_scan_command_exists SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLICommands::test_inspect_command_exists SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLICommands::test_cheatsheet_command_exists SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLICommands::test_version_option_exists SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestCLICommands::test_help_available SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryCommands::test_memory_status_command_exists SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryCommands::test_memory_start_command_exists PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestProviderCommands::test_provider_help SKIPPED [  3%]
tests/unit/cli/test_cli_core.py::TestUtilityFunctions::test_cheatsheet_function PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestUtilityFunctions::test_sync_claude_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestUtilityFunctions::test_dashboard_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestUtilityFunctions::test_costs_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestUtilityFunctions::test_init_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestUtilityFunctions::test_status_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryAppFunctions::test_memory_status_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryAppFunctions::test_memory_start_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryAppFunctions::test_memory_stop_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryAppFunctions::test_memory_stats_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestMemoryAppFunctions::test_memory_patterns_calls_subprocess PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestCLIMain::test_main_function_exists PASSED [  3%]
tests/unit/cli/test_cli_core.py::TestCLIMain::test_main_calls_app SKIPPED [  3%]
tests/unit/cli/test_routing_commands.py::TestRoutingCommands::test_routing_stats_command PASSED [  4%]
tests/unit/cli/test_routing_commands.py::TestRoutingCommands::test_routing_stats_no_data PASSED [  4%]
tests/unit/cli/test_routing_commands.py::TestRoutingCommands::test_routing_check_no_upgrade_needed PASSED [  4%]
tests/unit/cli/test_routing_commands.py::TestRoutingCommands::test_routing_check_upgrade_needed PASSED [  4%]
tests/unit/cli/test_routing_commands.py::TestRoutingCommands::test_routing_check_all_workflows PASSED [  4%]
tests/unit/cli/test_routing_commands.py::TestRoutingCommands::test_routing_models_command PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowListCommand::test_list_workflows_basic PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowListCommand::test_list_workflows_json_output PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowDescribeCommand::test_describe_without_name_shows_error PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowDescribeCommand::test_describe_nonexistent_workflow_shows_error PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowRunCommand::test_run_without_name_shows_error PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowRunCommand::test_run_with_invalid_json_shows_helpful_error PASSED [  4%]
tests/unit/cli/test_workflow_commands.py::TestWorkflowCommandEdgeCases::test_invalid_action_returns_error PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_scrub_email_address PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_scrub_returns_tuple PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_empty_text_handling PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[Email: user@example.com-email-[EMAIL]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[SSN: 123-45-6789-ssn-[SSN]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[Call: 555-123-4567-phone-[PHONE]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[CC: 4532-1234-5678-9010-credit_card-[CC]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[IP: 192.168.1.1-ipv4-[IP]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[MRN-1234567-mrn-[MRN]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multi_pattern_detection[Patient ID: 123456-patient_id-[PATIENT_ID]] PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_multiple_pii_in_single_text PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_pii_detection_includes_position PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_confidence_scoring PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_detection_to_dict PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPIIDetection::test_detection_to_audit_safe_dict PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestCustomPatterns::test_add_custom_pattern PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestCustomPatterns::test_custom_pattern_with_confidence PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestCustomPatterns::test_duplicate_pattern_name_raises_error PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestCustomPatterns::test_invalid_regex_pattern_raises_error PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestCustomPatterns::test_remove_custom_pattern PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestCustomPatterns::test_cannot_remove_default_pattern PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPatternManagement::test_disable_pattern PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPatternManagement::test_enable_pattern PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPatternManagement::test_get_statistics PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPatternManagement::test_statistics_after_adding_custom PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPatternManagement::test_get_pattern_info PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestPatternManagement::test_get_pattern_info_for_nonexistent PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestEdgeCases::test_overlapping_patterns PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestEdgeCases::test_very_long_text PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestEdgeCases::test_special_characters_in_text PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestEdgeCases::test_text_with_no_pii PASSED [  4%]
tests/unit/memory/security/test_pii_scrubber.py::TestEdgeCases::test_validate_patterns PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_valid_pattern_id_standard_format PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_valid_pattern_id_alternative_format PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_invalid_pattern_id_empty PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_invalid_pattern_id_wrong_type PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_invalid_pattern_id_path_traversal PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_invalid_pattern_id_null_bytes PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidatePatternId::test_invalid_pattern_id_length_bounds PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_valid_agent_id_simple PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_valid_agent_id_email_format PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_valid_agent_id_with_dots_and_dashes PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_invalid_agent_id_empty PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_invalid_agent_id_wrong_type PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_invalid_agent_id_dangerous_characters PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_invalid_agent_id_null_bytes PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateAgentId::test_invalid_agent_id_length_bounds PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateClassification::test_valid_classification_uppercase PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateClassification::test_valid_classification_lowercase PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateClassification::test_valid_classification_mixed_case PASSED [  4%]
tests/unit/memory/test_control_panel.py::TestValidateClassification::test_valid_classification_none PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateClassification::test_invalid_classification_wrong_value PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateClassification::test_invalid_classification_wrong_type PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_valid_file_path_simple PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_valid_file_path_with_allowed_dir PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_invalid_file_path_empty PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_invalid_file_path_wrong_type PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_invalid_file_path_null_bytes PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_invalid_file_path_system_directories PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestValidateFilePath::test_invalid_file_path_outside_allowed_dir PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_initialization_default_values PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_initialization_custom_values PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_initialization_invalid_window PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_initialization_invalid_max_requests PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_is_allowed_first_request PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_is_allowed_under_limit PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_is_allowed_at_limit PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_is_allowed_window_expiration PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_is_allowed_multiple_clients PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_get_remaining_no_requests PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_get_remaining_after_requests PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestRateLimiter::test_get_remaining_at_zero PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_initialization_with_key PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_initialization_from_env PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_initialization_no_key PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_is_valid_correct_key PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_is_valid_incorrect_key PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_is_valid_no_key_provided PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestAPIKeyAuth::test_is_valid_auth_disabled PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryStats::test_default_initialization PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryStats::test_custom_initialization PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryStats::test_asdict_conversion PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestControlPanelConfig::test_default_initialization PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestControlPanelConfig::test_custom_initialization PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelInitialization::test_initialization_default_config PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelInitialization::test_initialization_custom_config PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelStatus::test_status_redis_running PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelStatus::test_status_redis_stopped PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelStatus::test_status_long_term_not_initialized PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelStatus::test_status_long_term_available PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelPatternCount::test_count_patterns_no_storage PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelPatternCount::test_count_patterns_empty_storage PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelPatternCount::test_count_patterns_with_files PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelListPatterns::test_list_patterns_invalid_classification PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelListPatterns::test_list_patterns_invalid_limit_negative PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelListPatterns::test_list_patterns_invalid_limit_zero PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelListPatterns::test_list_patterns_invalid_limit_too_large PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelDeletePattern::test_delete_pattern_invalid_pattern_id PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelDeletePattern::test_delete_pattern_invalid_user_id PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelClearShortTerm::test_clear_short_term_invalid_agent_id PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelExportPatterns::test_export_patterns_invalid_path PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelExportPatterns::test_export_patterns_system_directory PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelExportPatterns::test_export_patterns_invalid_classification PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelHealthCheck::test_health_check_all_healthy PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelHealthCheck::test_health_check_redis_not_running PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestMemoryControlPanelHealthCheck::test_health_check_unencrypted_sensitive_patterns PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPrintStatus::test_print_status_output PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPrintStats::test_print_stats_output PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPrintHealth::test_print_health_output PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPatternRegex::test_standard_pattern_regex_valid PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPatternRegex::test_standard_pattern_regex_invalid PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPatternRegex::test_alternative_pattern_regex_valid PASSED [  5%]
tests/unit/memory/test_control_panel.py::TestPatternRegex::test_alternative_pattern_regex_invalid PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestGenerateAgentId::test_generates_unique_ids PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestGenerateAgentId::test_includes_session_type PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestGenerateAgentId::test_includes_timestamp PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestSessionInfo::test_to_dict_and_from_dict PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestSessionInfo::test_is_stale_fresh_session PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestSessionInfo::test_is_stale_old_heartbeat PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorMockMode::test_raises_on_mock_mode PASSED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorWithRedis::test_announce_registers_session SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorWithRedis::test_depart_removes_session SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorWithRedis::test_get_active_sessions_parses_data SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorWithRedis::test_get_active_sessions_filters_stale SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestConflictResolution::test_priority_resolution_higher_tier_wins SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestConflictResolution::test_priority_resolution_lower_tier_loses SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestConflictResolution::test_last_write_wins_strategy SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestDistributedLocking::test_acquire_lock_success SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestDistributedLocking::test_acquire_lock_failure SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestDistributedLocking::test_release_lock_when_owner SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestDistributedLocking::test_release_lock_when_not_owner SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestBackgroundService::test_raises_on_mock_mode SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestBackgroundService::test_service_start_acquires_lock SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestBackgroundService::test_service_start_fails_if_lock_held SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCheckRedisCrossSessionSupport::test_returns_false_for_mock SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCheckRedisCrossSessionSupport::test_returns_true_with_client SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestShortTermMemoryCrossSessionIntegration::test_cross_session_available_mock SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestShortTermMemoryCrossSessionIntegration::test_cross_session_available_with_client SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestShortTermMemoryCrossSessionIntegration::test_enable_cross_session_mock_raises SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestShortTermMemoryCrossSessionIntegration::test_enable_cross_session_returns_coordinator SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorProperties::test_session_info_property SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorProperties::test_agent_id_property SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorProperties::test_credentials_property SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorNullClient::test_announce_with_null_client_no_op SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorNullClient::test_depart_with_null_client_no_op SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorNullClient::test_get_active_sessions_with_null_client SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorGetSession::test_get_session_found SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorGetSession::test_get_session_not_found SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorGetSession::test_get_session_stale_returns_none SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorInvalidData::test_get_active_sessions_handles_invalid_json SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorInvalidData::test_get_active_sessions_handles_missing_fields SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorHeartbeat::test_send_heartbeat_private SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorHeartbeat::test_start_and_stop_heartbeat SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestCrossSessionCoordinatorHeartbeat::test_stop_heartbeat_when_not_running SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestBackgroundServiceAdditional::test_service_is_running_property SKIPPED [  6%]
tests/unit/memory/test_cross_session.py::TestBackgroundServiceAdditional::test_service_stop_when_not_started SKIPPED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_causal_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_resolution_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_similarity_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_structural_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_testing_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_documentation_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_sequence_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_enum_has_derivation_relationships PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeTypeEnum::test_edge_type_can_be_created_from_string_value PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_creation_with_required_fields PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_creation_with_default_values PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_creation_with_custom_values PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_id_property_generates_unique_id PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_id_is_unique_for_different_types PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_weight_range PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeDataclass::test_edge_confidence_range PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_to_dict_includes_all_fields PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_to_dict_converts_enum_to_string PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_to_dict_converts_datetime_to_isoformat PASSED [  6%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_from_dict_creates_edge_with_all_fields PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_from_dict_uses_defaults_for_missing_optional_fields PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_from_dict_handles_legacy_source_wizard_field PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_from_dict_prefers_source_workflow_over_source_wizard PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_roundtrip_serialization PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeSerialization::test_roundtrip_preserves_complex_metadata PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_workflow_edge_patterns_includes_security_audit PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_workflow_edge_patterns_includes_bug_predict PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_workflow_edge_patterns_includes_perf_audit PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_workflow_edge_patterns_includes_code_review PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_workflow_edge_patterns_includes_test_gen PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_workflow_edge_patterns_includes_dependency_check PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestWorkflowEdgePatterns::test_all_workflow_patterns_use_valid_edge_types PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_causal_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_resolution_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_structural_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_testing_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_documentation_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_sequence_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_edge_types_for_symmetric_relationships PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_mapping_is_bidirectional PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestReverseEdgeTypes::test_reverse_mapping_is_reflexive_for_symmetric_edges PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_same_source_and_target PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_empty_metadata PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_none_values_in_metadata PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_zero_weight PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_zero_confidence PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_very_long_description PASSED [  7%]
tests/unit/memory/test_edges_coverage_boost.py::TestEdgeEdgeCases::test_edge_with_special_characters_in_ids PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionConfig::test_default_config PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionConfig::test_sessions_dir_property PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionConfig::test_patterns_dir_property PASSED [  7%]
tests/unit/memory/test_file_session.py::TestWorkingEntry::test_not_expired_when_no_expiry PASSED [  7%]
tests/unit/memory/test_file_session.py::TestWorkingEntry::test_not_expired_when_future_expiry PASSED [  7%]
tests/unit/memory/test_file_session.py::TestWorkingEntry::test_expired_when_past_expiry PASSED [  7%]
tests/unit/memory/test_file_session.py::TestWorkingEntry::test_to_dict_round_trip PASSED [  7%]
tests/unit/memory/test_file_session.py::TestStagedPatternFile::test_default_confidence PASSED [  7%]
tests/unit/memory/test_file_session.py::TestStagedPatternFile::test_not_expired_when_no_expiry PASSED [  7%]
tests/unit/memory/test_file_session.py::TestStagedPatternFile::test_to_dict_round_trip PASSED [  7%]
tests/unit/memory/test_file_session.py::TestSessionState::test_new_session PASSED [  7%]
tests/unit/memory/test_file_session.py::TestSessionState::test_to_dict_round_trip PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_initialization_creates_directories PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_stash_and_retrieve PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_retrieve_nonexistent_key PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_stash_with_ttl_expires PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_delete_key PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_keys_pattern_matching PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_stage_pattern PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_staged_patterns_sorted_by_confidence PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_promote_pattern PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_promote_pattern_below_threshold PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_context_management PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_get_all_context PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_get_stats PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_is_connected_always_true PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_supports_realtime_false PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_session_persistence PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileSessionMemory::test_context_manager PASSED [  7%]
tests/unit/memory/test_file_session.py::TestGetFileSessionMemory::test_creates_memory_with_defaults PASSED [  7%]
tests/unit/memory/test_file_session.py::TestGetFileSessionMemory::test_creates_memory_with_custom_settings PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileFirstIntegration::test_unified_memory_file_first PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileFirstIntegration::test_capabilities_without_redis PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileFirstIntegration::test_compact_state_generation PASSED [  7%]
tests/unit/memory/test_file_session.py::TestFileFirstIntegration::test_export_to_claude_md PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphInitialization::test_creates_empty_graph PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphInitialization::test_creates_storage_directory PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphInitialization::test_loads_existing_graph PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphInitialization::test_handles_corrupt_json PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_add_finding_creates_node PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_add_finding_with_all_fields PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_add_finding_unknown_type_defaults_to_pattern PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_get_node_returns_node PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_get_node_returns_none_for_missing PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_update_node_modifies_properties PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_update_node_returns_false_for_missing PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_delete_node_removes_node PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_delete_node_removes_connected_edges PASSED [  8%]
tests/unit/memory/test_graph.py::TestNodeOperations::test_delete_node_returns_false_for_missing PASSED [  8%]
tests/unit/memory/test_graph.py::TestEdgeOperations::test_add_edge_creates_edge PASSED [  8%]
tests/unit/memory/test_graph.py::TestEdgeOperations::test_add_edge_raises_for_invalid_source PASSED [  8%]
tests/unit/memory/test_graph.py::TestEdgeOperations::test_add_edge_raises_for_invalid_target PASSED [  8%]
tests/unit/memory/test_graph.py::TestEdgeOperations::test_add_bidirectional_edge PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphTraversal::test_find_related_outgoing PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphTraversal::test_find_related_incoming PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphTraversal::test_find_related_both_directions PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphTraversal::test_find_related_with_edge_type_filter PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphTraversal::test_find_related_max_depth PASSED [  8%]
tests/unit/memory/test_graph.py::TestGraphTraversal::test_find_related_nonexistent_node PASSED [  8%]
tests/unit/memory/test_graph.py::TestPathFinding::test_get_path_finds_direct_path PASSED [  8%]
tests/unit/memory/test_graph.py::TestPathFinding::test_get_path_finds_multi_hop_path PASSED [  8%]
tests/unit/memory/test_graph.py::TestPathFinding::test_get_path_respects_max_depth PASSED [  8%]
tests/unit/memory/test_graph.py::TestPathFinding::test_get_path_returns_empty_for_no_path PASSED [  8%]
tests/unit/memory/test_graph.py::TestPathFinding::test_get_path_nonexistent_nodes PASSED [  8%]
tests/unit/memory/test_graph.py::TestSimilaritySearch::test_find_similar_by_name PASSED [  8%]
tests/unit/memory/test_graph.py::TestSimilaritySearch::test_find_similar_by_description PASSED [  8%]
tests/unit/memory/test_graph.py::TestSimilaritySearch::test_find_similar_by_type PASSED [  8%]
tests/unit/memory/test_graph.py::TestSimilaritySearch::test_find_similar_by_file PASSED [  8%]
tests/unit/memory/test_graph.py::TestSimilaritySearch::test_find_similar_respects_limit PASSED [  8%]
tests/unit/memory/test_graph.py::TestSimilaritySearch::test_find_similar_returns_scores PASSED [  8%]
tests/unit/memory/test_graph.py::TestIndexOperations::test_find_by_type PASSED [  8%]
tests/unit/memory/test_graph.py::TestIndexOperations::test_find_by_workflow PASSED [  8%]
tests/unit/memory/test_graph.py::TestIndexOperations::test_find_by_file PASSED [  8%]
tests/unit/memory/test_graph.py::TestStatistics::test_get_statistics_empty_graph PASSED [  8%]
tests/unit/memory/test_graph.py::TestStatistics::test_get_statistics_populated_graph PASSED [  8%]
tests/unit/memory/test_graph.py::TestClearOperation::test_clear_removes_all_data PASSED [  8%]
tests/unit/memory/test_graph.py::TestClearOperation::test_clear_resets_indexes PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestNodeCreation::test_create_node_with_required_fields PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestNodeCreation::test_node_default_values PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestNodeCreation::test_node_to_dict PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestNodeCreation::test_node_from_dict PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestSpecializedNodes::test_bug_node_extra_fields PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestSpecializedNodes::test_vulnerability_node_extra_fields PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestEdgeCreation::test_create_edge PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestEdgeCreation::test_edge_id_property PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestEdgeCreation::test_edge_to_dict PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestEdgeCreation::test_reverse_edge_types_mapping PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_empty_graph PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_add_finding_creates_node PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_add_edge_connects_nodes PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_get_nonexistent_node_returns_none PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_delete_node_removes_node PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_delete_node_removes_connected_edges PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_update_node_modifies_properties PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphBasicOperations::test_clear_removes_all PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphTraversal::test_find_related_outgoing PASSED [  8%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphTraversal::test_find_related_with_depth PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphTraversal::test_find_related_with_edge_filter PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphTraversal::test_get_path_finds_shortest_path PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphTraversal::test_get_path_no_connection PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphSearch::test_find_by_type PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphSearch::test_find_by_workflow PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphSearch::test_find_similar_returns_matches PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphSearch::test_find_similar_with_threshold PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphStatistics::test_get_statistics_node_counts PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphStatistics::test_get_statistics_severity_distribution PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphPersistence::test_save_and_load PASSED [  9%]
tests/unit/memory/test_graph_extended.py::TestMemoryGraphPersistence::test_auto_save_on_modification PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNodeType::test_code_entity_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNodeType::test_issue_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNodeType::test_solution_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNodeType::test_testing_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNode::test_node_creation_basic PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNode::test_node_creation_full PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNode::test_node_to_dict PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNode::test_node_from_dict PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNode::test_node_roundtrip PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestNode::test_node_default_timestamps PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestBugNode::test_bug_node_creation PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestVulnerabilityNode::test_vulnerability_node_creation PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestPerformanceNode::test_performance_node_creation PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestPatternNode::test_pattern_node_creation PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdgeType::test_causal_edge_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdgeType::test_resolution_edge_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdgeType::test_similarity_edge_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdgeType::test_structural_edge_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_creation_basic PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_creation_full PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_id_property PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_to_dict PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_from_dict PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_roundtrip PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestEdge::test_edge_default_timestamp PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_causal_reverses PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_fix_reverses PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_structural_reverses PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_symmetric_types PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_reverse_mappings_are_bidirectional PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_reverse_mapping_count PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestReverseEdgeTypes::test_common_edge_types_have_reverses PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestWizardEdgePatterns::test_security_audit_patterns PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestWizardEdgePatterns::test_bug_predict_patterns PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestWizardEdgePatterns::test_test_gen_patterns PASSED [  9%]
tests/unit/memory/test_graph_structures.py::TestWizardEdgePatterns::test_all_wizards_have_patterns PASSED [  9%]
tests/unit/memory/test_long_term.py::TestClassificationSystem::test_classification_enum_values PASSED [  9%]
tests/unit/memory/test_long_term.py::TestClassificationSystem::test_default_classification_rules PASSED [  9%]
tests/unit/memory/test_long_term.py::TestClassificationSystem::test_sensitive_requires_encryption PASSED [  9%]
tests/unit/memory/test_long_term.py::TestClassificationSystem::test_public_has_longest_retention PASSED [  9%]
tests/unit/memory/test_long_term.py::TestEncryption::test_has_encryption_available SKIPPED [  9%]
tests/unit/memory/test_long_term.py::TestClassificationRules::test_create_custom_classification_rule PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryBasics::test_store_and_retrieve_simple_data PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryBasics::test_store_with_classification PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryBasics::test_retrieve_nonexistent_key_returns_none PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryBasics::test_store_complex_nested_data PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryBasics::test_store_overwrites_existing_data PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryDelete::test_delete_existing_key PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryDelete::test_delete_nonexistent_key PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryDelete::test_delete_and_re_store PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryListKeys::test_list_keys_empty_storage PASSED [  9%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryListKeys::test_list_keys_returns_all_keys PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryListKeys::test_list_keys_with_classification_filter PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryListKeys::test_list_keys_after_deletion PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryClear::test_clear_removes_all_keys PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryClear::test_clear_returns_count_of_deleted PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryClear::test_clear_empty_storage_returns_zero PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryClear::test_operations_work_after_clear PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_encrypt_decrypt_roundtrip SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_encrypted_data_differs_from_plaintext SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_each_encryption_produces_unique_ciphertext SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_decrypt_with_wrong_key_raises_security_error SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_decrypt_corrupted_ciphertext_raises_security_error SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_encrypt_unicode_content SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_encrypt_empty_string SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManager::test_encryption_manager_enabled SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManagerWithoutCryptography::test_encryption_disabled_flag PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsStatistics::test_statistics_empty_storage PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsStatistics::test_statistics_counts_patterns PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsStatistics::test_statistics_counts_by_classification PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsListPatterns::test_list_patterns_returns_all PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsListPatterns::test_list_patterns_filter_by_classification PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsListPatterns::test_list_patterns_filter_by_pattern_type PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_store_and_retrieve PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_retrieve_nonexistent PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_delete_pattern PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_delete_nonexistent PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_list_patterns PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_list_patterns_with_classification_filter PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_list_patterns_with_created_by_filter PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestMemDocsStorage::test_list_patterns_combined_filters PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManagerWithMocking::test_encryption_disabled_when_library_unavailable PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManagerWithMocking::test_encrypt_raises_when_disabled PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManagerWithMocking::test_decrypt_raises_when_disabled PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManagerWithMocking::test_encrypt_decrypt_roundtrip SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestEncryptionManagerWithMocking::test_encrypt_with_custom_key SKIPPED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsIntegrationEdgeCases::test_store_with_explicit_classification PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsIntegrationEdgeCases::test_store_with_internal_classification PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsIntegrationEdgeCases::test_store_with_custom_metadata PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsIntegrationEdgeCases::test_retrieve_pattern_with_access_control PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsIntegrationEdgeCases::test_list_patterns_returns_list PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestSecureMemDocsIntegrationEdgeCases::test_get_statistics PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryEdgeCases::test_delete_existing_key PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryEdgeCases::test_delete_nonexistent_key PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryEdgeCases::test_list_keys_empty PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryEdgeCases::test_list_keys_after_store PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryEdgeCases::test_clear_removes_all_data PASSED [ 10%]
tests/unit/memory/test_long_term_extended.py::TestLongTermMemoryEdgeCases::test_store_with_sensitive_classification PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestPatternMetadataSerialization::test_pattern_metadata_creation_with_all_fields PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestPatternMetadataSerialization::test_pattern_metadata_dict_conversion_preserves_all_fields PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestPatternMetadataSerialization::test_pattern_metadata_json_serialization PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestPatternMetadataSerialization::test_pattern_metadata_handles_empty_custom_metadata PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestPatternMetadataSerialization::test_pattern_metadata_handles_special_characters_in_strings PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestPatternMetadataSerialization::test_pattern_metadata_validates_retention_days_positive PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_healthcare_keywords_as_sensitive PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_financial_keywords_as_sensitive PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_proprietary_keywords_as_internal PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_by_pattern_type_clinical_as_sensitive PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_by_pattern_type_architecture_as_internal PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_generic_content_as_public PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_mixed_keywords_uses_highest_sensitivity PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestClassificationLogic::test_classify_case_insensitive_keyword_matching PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_store_empty_key_raises_value_error PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_store_whitespace_only_key_raises_value_error PASSED [ 10%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_store_key_with_path_traversal_attempt PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_store_null_byte_in_key_handled_safely PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_store_non_json_serializable_data_raises_type_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_store_invalid_classification_uses_default PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_retrieve_empty_key_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_retrieve_nonexistent_key_returns_none PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_delete_empty_key_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestLongTermMemoryInputValidation::test_list_keys_with_invalid_classification_returns_empty PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestSecureMemDocsErrorHandling::test_store_pattern_secrets_detected_blocks_storage PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestSecureMemDocsErrorHandling::test_store_pattern_empty_pattern_type_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestSecureMemDocsErrorHandling::test_store_pattern_invalid_custom_metadata_type_raises_type_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestSecureMemDocsErrorHandling::test_retrieve_pattern_expired_retention_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestSecureMemDocsErrorHandling::test_delete_pattern_empty_pattern_id_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestSecureMemDocsErrorHandling::test_delete_pattern_by_non_creator_raises_permission_error PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestMemDocsStorageBoundaryConditions::test_storage_handles_large_content PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestMemDocsStorageBoundaryConditions::test_storage_handles_unicode_content PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestMemDocsStorageBoundaryConditions::test_storage_list_patterns_with_filters PASSED [ 11%]
tests/unit/memory/test_long_term_methods.py::TestMemDocsStorageBoundaryConditions::test_storage_delete_nonexistent_returns_false PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_manager_initialization_with_key SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_manager_initialization_without_key_generates_ephemeral SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_decryption_round_trip SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_produces_different_ciphertext_each_time SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_detects_tampering SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_decryption_with_wrong_key_fails SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_handles_unicode_characters SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_handles_empty_string SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestEncryptionManager::test_encryption_handles_large_data SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityPermissionsAndAccess::test_public_classification_accessible_to_all_users PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityPermissionsAndAccess::test_sensitive_classification_restricted_to_creator PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityPermissionsAndAccess::test_internal_classification_domain_restricted PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityPermissionsAndAccess::test_creator_can_access_own_sensitive_patterns PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestAuditLogging::test_audit_log_created_on_pattern_store PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestPIIHandling::test_pii_removed_before_storage PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityErrorHandling::test_store_pattern_empty_content_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityErrorHandling::test_store_pattern_empty_user_id_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityErrorHandling::test_retrieve_nonexistent_pattern_raises_value_error PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityErrorHandling::test_decryption_invalid_base64_raises_security_error SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestSecurityErrorHandling::test_store_pattern_invalid_classification_raises_error PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_encryption_key_rotation SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_encryption_various_data_sizes SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_classification_enum_values PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_store_pattern_with_metadata PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_retrieve_with_permissions_disabled PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_encryption_special_characters SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_multiple_pattern_storage_sequence PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_encryption_newlines_preserved SKIPPED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_pii_scrubbing_multiple_types PASSED [ 11%]
tests/unit/memory/test_long_term_security.py::TestIntegrationScenarios::test_audit_log_multiple_operations PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassification::test_classification_has_public PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassification::test_classification_has_internal PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassification::test_classification_has_sensitive PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassification::test_classification_values_are_unique PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassification::test_classification_count PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassificationRules::test_create_classification_rules_with_all_fields PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassificationRules::test_create_classification_rules_with_defaults PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassificationRules::test_classification_rules_for_public PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestClassificationRules::test_classification_rules_for_sensitive PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_default_rules_has_all_classifications PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_default_rules_count PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_default_public_rules PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_default_internal_rules PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_default_sensitive_rules PASSED [ 11%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_sensitive_requires_encryption PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestDefaultClassificationRules::test_sensitive_requires_audit PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestPatternMetadata::test_create_pattern_metadata_with_all_fields PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestPatternMetadata::test_create_pattern_metadata_with_defaults PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestPatternMetadata::test_pattern_metadata_for_sensitive_data PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestPatternMetadata::test_pattern_metadata_tracks_sanitization PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurePattern::test_create_secure_pattern_with_all_fields PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurePattern::test_secure_pattern_contains_metadata PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurePattern::test_secure_pattern_with_encrypted_content PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurityExceptions::test_security_error_can_be_raised PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurityExceptions::test_security_error_is_exception PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurityExceptions::test_permission_error_can_be_raised PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurityExceptions::test_permission_error_is_exception PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurityExceptions::test_security_error_with_custom_message PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestSecurityExceptions::test_permission_error_with_custom_message PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestIntegration::test_secure_pattern_with_default_rules PASSED [ 12%]
tests/unit/memory/test_long_term_types_coverage_boost.py::TestIntegration::test_sensitive_pattern_enforces_encryption PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_with_query PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_filter_by_pattern_type PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_filter_by_classification PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_combined_filters PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_with_limit PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_no_results PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestMemorySearchBasics::test_search_without_memory PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestRelevanceScoring::test_exact_match_ranks_highest PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestRelevanceScoring::test_keyword_match_scores_lower PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestRelevanceScoring::test_metadata_match_scores_lowest PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestEdgeCases::test_search_empty_query PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestEdgeCases::test_search_none_query PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestEdgeCases::test_search_with_special_characters PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestEdgeCases::test_search_very_long_query PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestEdgeCases::test_search_with_zero_limit PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestEdgeCases::test_search_with_negative_limit PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestGetAllPatterns::test_iter_all_patterns_empty_storage PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestGetAllPatterns::test_iter_all_patterns_with_invalid_json PASSED [ 12%]
tests/unit/memory/test_memory_search.py::TestGetAllPatterns::test_iter_all_patterns_nested_directories PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_enum_has_code_entities PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_enum_has_issues_and_findings PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_enum_has_solutions_and_patterns PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_enum_has_testing_types PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_enum_has_documentation_types PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_enum_has_dependency_types PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeTypeEnum::test_node_type_can_be_created_from_string_value PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeDataclass::test_node_creation_with_required_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeDataclass::test_node_creation_with_default_values PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeDataclass::test_node_creation_with_custom_values PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeDataclass::test_node_severity_levels PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeDataclass::test_node_status_values PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeDataclass::test_node_confidence_range PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_to_dict_includes_all_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_to_dict_converts_enum_to_string PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_to_dict_converts_datetime_to_isoformat PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_from_dict_creates_node_with_all_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_from_dict_uses_defaults_for_missing_optional_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_from_dict_handles_legacy_source_wizard_field PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_from_dict_prefers_source_workflow_over_source_wizard PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeSerialization::test_roundtrip_serialization PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestBugNode::test_bug_node_creation_with_required_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestBugNode::test_bug_node_post_init_sets_type_to_bug PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestBugNode::test_bug_node_creation_with_custom_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestBugNode::test_bug_node_default_values PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestVulnerabilityNode::test_vulnerability_node_creation_with_required_fields PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestVulnerabilityNode::test_vulnerability_node_post_init_sets_type PASSED [ 12%]
tests/unit/memory/test_nodes_coverage_boost.py::TestVulnerabilityNode::test_vulnerability_node_creation_with_custom_fields PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestVulnerabilityNode::test_vulnerability_node_default_values PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPerformanceNode::test_performance_node_creation_with_required_fields PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPerformanceNode::test_performance_node_post_init_sets_type PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPerformanceNode::test_performance_node_creation_with_custom_fields PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPerformanceNode::test_performance_node_default_values PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPatternNode::test_pattern_node_creation_with_required_fields PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPatternNode::test_pattern_node_post_init_sets_type PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPatternNode::test_pattern_node_creation_with_custom_fields PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestPatternNode::test_pattern_node_default_values PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_empty_metadata PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_empty_tags PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_none_source_line PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_special_characters_in_name PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_very_long_description PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_complex_metadata PASSED [ 13%]
tests/unit/memory/test_nodes_coverage_boost.py::TestNodeEdgeCases::test_node_with_unicode_in_fields PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRedisStatus::test_default_values PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRedisStatus::test_custom_values PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRedisStartMethod::test_all_methods_have_values PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestCheckRedisRunning::test_returns_false_when_redis_not_available PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestCheckRedisRunning::test_uses_custom_host_and_port PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestFindCommand::test_finds_existing_command PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestFindCommand::test_returns_none_for_missing_command PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRunSilent::test_returns_success_and_output PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRunSilent::test_returns_failure_for_failed_command PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRunSilent::test_handles_timeout PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestRunSilent::test_handles_exception PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaHomebrew::test_returns_false_if_brew_not_found PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaHomebrew::test_returns_false_if_redis_not_installed PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaHomebrew::test_returns_true_on_successful_start PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaSystemd::test_returns_false_if_systemctl_not_found PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaSystemd::test_returns_true_on_successful_start PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaSystemd::test_tries_redis_server_service PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaDocker::test_returns_false_if_docker_not_found PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaDocker::test_returns_false_if_daemon_not_running PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaDocker::test_starts_existing_container PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaDocker::test_creates_new_container PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaDirect::test_returns_false_if_redis_server_not_found PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStartViaDirect::test_uses_daemonize_on_unix PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestEnsureRedis::test_returns_already_running_if_available PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestEnsureRedis::test_returns_mock_if_auto_start_false PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestEnsureRedis::test_tries_homebrew_on_macos PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestEnsureRedis::test_tries_systemd_on_linux PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestEnsureRedis::test_ensure_redis_returns_status PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestEnsureRedis::test_returns_mock_when_all_methods_fail PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStopRedis::test_stops_homebrew PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStopRedis::test_stops_systemd PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStopRedis::test_stops_docker PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStopRedis::test_stops_direct PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStopRedis::test_returns_false_for_already_running PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestStopRedis::test_returns_false_for_mock PASSED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestGetRedisOrMock::test_returns_status_when_available FAILED [ 13%]
tests/unit/memory/test_redis_bootstrap.py::TestGetRedisOrMock::test_returns_mock_status_when_unavailable PASSED [ 13%]
tests/unit/memory/test_redis_integration.py::TestConnectionManagement::test_connection_success_with_fake_redis SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestConnectionManagement::test_connection_health_check_ping SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestConnectionManagement::test_disconnection_handling SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestConnectionManagement::test_connection_stats_tracking SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestDataPersistence::test_stash_and_retrieve_basic_string SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestDataPersistence::test_stash_overwrites_existing_key SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestDataPersistence::test_retrieve_nonexistent_key_returns_none SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestDataPersistence::test_stash_complex_nested_data SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestDataPersistence::test_stash_unicode_data SKIPPED [ 13%]
tests/unit/memory/test_redis_integration.py::TestDataPersistence::test_clear_working_memory SKIPPED [ 14%]
tests/unit/memory/test_redis_integration.py::TestTTLExpiration::test_ttl_strategy_values PASSED [ 14%]
tests/unit/memory/test_redis_integration.py::TestTTLExpiration::test_stash_with_different_ttl_strategies SKIPPED [ 14%]
tests/unit/memory/test_redis_integration.py::TestPagination::test_paginated_result_empty SKIPPED [ 14%]
tests/unit/memory/test_redis_integration.py::TestPagination::test_paginated_result_single_item SKIPPED [ 14%]
tests/unit/memory/test_redis_integration.py::TestMetrics::test_metrics_track_stash_operations SKIPPED [ 14%]
tests/unit/memory/test_redis_integration.py::TestMetrics::test_metrics_track_retrieve_operations SKIPPED [ 14%]
tests/unit/memory/test_short_term.py::TestMockModeBasics::test_initialization_with_mock_mode PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMockModeBasics::test_mock_mode_automatically_enabled_when_redis_unavailable FAILED [ 14%]
tests/unit/memory/test_short_term.py::TestMockModeBasics::test_mock_storage_is_isolated_per_instance PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestBasicStashRetrieve::test_stash_and_retrieve_simple_data PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestBasicStashRetrieve::test_stash_overwrites_existing_data PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestBasicStashRetrieve::test_retrieve_nonexistent_key_returns_none PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestBasicStashRetrieve::test_stash_with_complex_nested_data PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestTTLStrategies::test_ttl_strategy_enum_values PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestTTLStrategies::test_stash_with_custom_ttl PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestTTLStrategies::test_stash_with_ttl_strategy_enum PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestTTLStrategies::test_different_ttl_strategies_for_different_data_types PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestAccessControl::test_access_tier_hierarchy PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestAccessControl::test_observer_can_read PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestAccessControl::test_contributor_can_stage PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestAccessControl::test_validator_can_promote PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestAccessControl::test_steward_has_full_access PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestAccessControl::test_contributor_and_above_can_stash PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConnectionRetry::test_redis_config_default_retry_settings PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConnectionRetry::test_redis_config_custom_retry_settings PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConnectionRetry::test_connection_retry_on_failure PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConnectionRetry::test_redis_config_to_redis_kwargs PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_metrics_initialization PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_record_successful_operation PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_record_failed_operation PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_latency_average_calculation PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_latency_max_tracking PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_success_rate_calculation PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_success_rate_with_no_operations PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestMetricsTracking::test_metrics_to_dict_serialization PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestStagedPatterns::test_staged_pattern_creation PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestStagedPatterns::test_staged_pattern_serialization PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestStagedPatterns::test_staged_pattern_default_values PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConflictContext::test_conflict_context_creation PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConflictContext::test_conflict_resolution_workflow PASSED [ 14%]
tests/unit/memory/test_short_term.py::TestConflictContext::test_conflict_context_serialization PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_stash_batch_success PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_stash_batch_empty_list PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_stash_batch_requires_contributor PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_stash_batch_type_validation PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_retrieve_batch_success PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_retrieve_batch_partial_results PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_retrieve_batch_empty_keys PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestBatchOperations::test_stash_batch_with_custom_ttl PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestPubSubOperations::test_publish_success PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestPubSubOperations::test_publish_requires_contributor PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestPubSubOperations::test_subscribe_receives_messages PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestPubSubOperations::test_subscribe_multiple_handlers PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestPubSubOperations::test_unsubscribe_stops_messages PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestPubSubOperations::test_close_pubsub_cleanup PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestStreamOperations::test_stream_append_success PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestStreamOperations::test_stream_append_requires_contributor PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestStreamOperations::test_stream_read_returns_entries PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestStreamOperations::test_stream_read_with_start_id PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestStreamOperations::test_stream_read_with_count_limit PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestStreamOperations::test_stream_read_empty_stream PASSED [ 14%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_push_success PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_push_requires_contributor PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_push_priority PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_pop_success PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_pop_empty_queue PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_length PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_length_empty PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_peek_without_removing PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestQueueOperations::test_queue_fifo_order PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_add_success PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_add_requires_contributor PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_add_with_custom_timestamp PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_query_returns_events PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_query_with_time_window PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_query_with_limit PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_count PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestTimelineOperations::test_timeline_empty_returns_empty PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestAtomicOperations::test_atomic_promote_pattern_success PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestAtomicOperations::test_atomic_promote_requires_validator PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestAtomicOperations::test_atomic_promote_nonexistent_pattern PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestAtomicOperations::test_atomic_promote_with_confidence_threshold PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestAtomicOperations::test_atomic_promote_validates_pattern_id PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestAtomicOperations::test_atomic_promote_validates_confidence_range PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestPaginatedOperations::test_list_staged_patterns_paginated PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestPaginatedOperations::test_scan_keys_pagination PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestMetricsTracking::test_get_metrics_returns_dict PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestMetricsTracking::test_reset_metrics PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestMetricsTracking::test_metrics_track_operations PASSED [ 15%]
tests/unit/memory/test_short_term_advanced.py::TestCleanup::test_close_cleans_all_resources PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_success PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_removes_from_staging PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_returns_correct_pattern PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_steward_can_promote PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_below_confidence_threshold PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_pattern_stays_staged_on_failure PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_exact_confidence_threshold PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_zero_confidence_threshold PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_max_confidence_threshold PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_requires_validator_tier PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_observer_cannot_promote PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_nonexistent_pattern PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_empty_pattern_id_raises_value_error PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_whitespace_pattern_id_raises_value_error PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_confidence_above_one_raises_value_error PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_atomic_promote_negative_confidence_raises_value_error PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_promote_multiple_patterns_sequentially PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_mixed_promotion_results PASSED [ 15%]
tests/unit/memory/test_short_term_atomic.py::TestAtomicPromotePattern::test_idempotent_promotion_fails_on_second_attempt PASSED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestRedisConnectionFailureGracefulDegradation::test_initialization_with_unavailable_redis_falls_back_to_mock SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestRedisConnectionFailureGracefulDegradation::test_connection_failure_during_initialization_raises_error SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestRedisConnectionFailureGracefulDegradation::test_retry_with_exponential_backoff_on_connection_failure SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestRedisConnectionFailureGracefulDegradation::test_operations_work_in_mock_mode_after_connection_failure SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestRedisConnectionFailureGracefulDegradation::test_operation_failure_is_handled_gracefully SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestTTLExpiration::test_expired_data_not_returned_in_mock_mode SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestTTLExpiration::test_non_expired_data_is_returned SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestTTLExpiration::test_ttl_expiration_boundary_conditions SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestTTLExpiration::test_ttl_with_different_strategies SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestTTLExpiration::test_stash_with_no_ttl_uses_default SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestConcurrentWriteThreadSafety::test_concurrent_stash_operations_no_data_corruption SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestConcurrentWriteThreadSafety::test_concurrent_retrieve_operations_thread_safe SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestConcurrentWriteThreadSafety::test_concurrent_stash_and_retrieve_mixed_operations SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestConcurrentWriteThreadSafety::test_concurrent_delete_operations_thread_safe SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestConnectionPoolExhaustion::test_max_connections_configuration SKIPPED [ 15%]
tests/unit/memory/test_short_term_failures.py::TestConnectionPoolExhaustion::test_mock_mode_doesnt_use_connection_pool SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestConnectionPoolExhaustion::test_connection_timeout_configuration SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestConnectionPoolExhaustion::test_many_concurrent_operations_in_mock_mode SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestConnectionPoolExhaustion::test_cleanup_closes_connections_properly SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestConnectionPoolExhaustion::test_close_with_real_client_cleanup SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestFailureRecoveryScenarios::test_partial_data_loss_on_expiration_doesnt_crash_application SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestFailureRecoveryScenarios::test_metrics_continue_tracking_after_failures SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestFailureRecoveryScenarios::test_pubsub_failure_doesnt_break_other_operations SKIPPED [ 16%]
tests/unit/memory/test_short_term_failures.py::TestFailureRecoveryScenarios::test_recovery_after_batch_operation_partial_failure SKIPPED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_push_returns_queue_length PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_push_requires_contributor_tier PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_push_priority_adds_to_front PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_push_normal_adds_to_back PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_push_adds_metadata PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_push_complex_task PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_pop_returns_fifo_order PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_pop_empty_returns_none PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_pop_removes_item PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_pop_multiple_items PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_length_returns_correct_count PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_length_empty_queue PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_length_after_multiple_operations PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_peek_doesnt_remove_items PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_peek_returns_front_items PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_peek_empty_queue PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_peek_count_larger_than_queue PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_queue_peek_default_count_is_one PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_task_processing_scenario PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_priority_queue_scenario PASSED [ 16%]
tests/unit/memory/test_short_term_queues.py::TestTaskQueues::test_multiple_queues_isolation PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_returns_entry_id PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_requires_contributor_tier PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_validator_can_write PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_adds_agent_id_and_timestamp PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_multiple_entries PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_max_len_trims_old_entries PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_append_complex_data PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_returns_entries_in_order PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_with_start_id_filters_entries PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_nonexistent_stream_returns_empty PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_with_count_limit PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_observer_can_read PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_new_returns_empty_in_mock_mode PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_stream_read_new_nonexistent_stream PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_audit_trail_scenario PASSED [ 16%]
tests/unit/memory/test_short_term_streams.py::TestRedisStreams::test_multiple_streams_isolation PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_start_score_with_none_returns_negative_infinity PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_end_score_with_none_returns_positive_infinity PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_start_score_with_datetime_returns_timestamp PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_end_score_with_datetime_returns_timestamp PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_default_limit_is_100 PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_default_offset_is_0 PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_both_times_none_returns_full_range PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_full_query_with_all_parameters PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_time_range_ordering PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_same_start_and_end_time PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_custom_limit_value PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_custom_offset_value PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_query_for_last_hour PASSED [ 16%]
tests/unit/memory/test_short_term_time_window.py::TestTimeWindowQuery::test_query_for_specific_day PASSED [ 16%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_add_creates_entry PASSED [ 16%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_add_requires_contributor_tier PASSED [ 16%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_add_with_explicit_timestamp PASSED [ 16%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_add_default_timestamp_is_now PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_add_includes_event_id_and_agent PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_add_multiple_events PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_returns_events_in_order PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_with_time_window PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_with_limit PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_with_offset PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_empty_returns_empty_list PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_no_matching_window PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_query_observer_can_read PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_count_returns_correct_number PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_count_with_time_window PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_count_empty_returns_zero PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_timeline_count_no_matching_window PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_agent_activity_tracking_scenario PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_multiple_timelines_isolation PASSED [ 17%]
tests/unit/memory/test_short_term_timeline.py::TestTimeline::test_pagination_scenario PASSED [ 17%]
tests/unit/memory/test_types.py::TestAccessTier::test_tier_values PASSED [ 17%]
tests/unit/memory/test_types.py::TestAccessTier::test_tier_comparison PASSED [ 17%]
tests/unit/memory/test_types.py::TestTTLStrategy::test_strategy_values PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisConfig::test_default_values PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisConfig::test_custom_values PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisConfig::test_to_redis_kwargs_basic PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisConfig::test_to_redis_kwargs_with_ssl PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisConfig::test_security_settings_defaults PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_default_values PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_record_operation_success PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_record_operation_failure PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_latency_avg_calculation PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_latency_avg_empty PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_success_rate_calculation PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_success_rate_empty PASSED [ 17%]
tests/unit/memory/test_types.py::TestRedisMetrics::test_to_dict PASSED   [ 17%]
tests/unit/memory/test_types.py::TestPaginatedResult::test_basic_result PASSED [ 17%]
tests/unit/memory/test_types.py::TestPaginatedResult::test_default_total_scanned PASSED [ 17%]
tests/unit/memory/test_types.py::TestTimeWindowQuery::test_default_values PASSED [ 17%]
tests/unit/memory/test_types.py::TestTimeWindowQuery::test_start_score_infinite PASSED [ 17%]
tests/unit/memory/test_types.py::TestTimeWindowQuery::test_end_score_infinite PASSED [ 17%]
tests/unit/memory/test_types.py::TestTimeWindowQuery::test_start_score_from_datetime PASSED [ 17%]
tests/unit/memory/test_types.py::TestTimeWindowQuery::test_end_score_from_datetime PASSED [ 17%]
tests/unit/memory/test_types.py::TestAgentCredentials::test_basic_credentials PASSED [ 17%]
tests/unit/memory/test_types.py::TestAgentCredentials::test_observer_permissions PASSED [ 17%]
tests/unit/memory/test_types.py::TestAgentCredentials::test_contributor_permissions PASSED [ 17%]
tests/unit/memory/test_types.py::TestAgentCredentials::test_validator_permissions PASSED [ 17%]
tests/unit/memory/test_types.py::TestAgentCredentials::test_steward_permissions PASSED [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_basic_pattern PASSED [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_validation_empty_pattern_id PASSED [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_validation_empty_agent_id PASSED [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_validation_confidence_range PASSED [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_validation_context_type PASSED [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_to_dict PASSED  [ 17%]
tests/unit/memory/test_types.py::TestStagedPattern::test_from_dict PASSED [ 17%]
tests/unit/memory/test_types.py::TestConflictContext::test_basic_context PASSED [ 17%]
tests/unit/memory/test_types.py::TestConflictContext::test_to_dict PASSED [ 17%]
tests/unit/memory/test_types.py::TestConflictContext::test_from_dict PASSED [ 17%]
tests/unit/memory/test_types.py::TestSecurityError::test_is_exception PASSED [ 17%]
tests/unit/memory/test_types.py::TestSecurityError::test_can_be_raised PASSED [ 17%]
tests/unit/memory/test_unified.py::TestEnvironment::test_development_environment PASSED [ 17%]
tests/unit/memory/test_unified.py::TestEnvironment::test_staging_environment PASSED [ 17%]
tests/unit/memory/test_unified.py::TestEnvironment::test_production_environment PASSED [ 17%]
tests/unit/memory/test_unified.py::TestEnvironment::test_environment_from_string PASSED [ 17%]
tests/unit/memory/test_unified.py::TestEnvironment::test_all_environments_exist PASSED [ 17%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_default_config PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_custom_config PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_from_environment_default PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_from_environment_production PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_from_environment_mock_mode PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_from_environment_custom_redis_host_port PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_from_environment_invalid_env_falls_back PASSED [ 18%]
tests/unit/memory/test_unified.py::TestMemoryConfig::test_from_environment_staging PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryInit::test_init_with_mock_redis PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryInit::test_init_with_redis_url PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryInit::test_init_with_auto_start PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryInit::test_credentials_property PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryInit::test_init_long_term_memory_failure PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryBackendStatus::test_get_backend_status_with_mock_redis PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryBackendStatus::test_get_backend_status_long_term_info PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryShortTermOps::test_stash_success PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryShortTermOps::test_stash_with_custom_ttl PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryShortTermOps::test_stash_no_file_session PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryShortTermOps::test_retrieve_success PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryShortTermOps::test_retrieve_no_file_session PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryStagedPatterns::test_stage_pattern_success PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryStagedPatterns::test_stage_pattern_no_short_term PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryStagedPatterns::test_get_staged_patterns PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryStagedPatterns::test_get_staged_patterns_empty PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryLongTermOps::test_persist_pattern_success PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryLongTermOps::test_persist_pattern_no_long_term PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryLongTermOps::test_recall_pattern_success PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryLongTermOps::test_recall_pattern_not_found PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemorySearch::test_search_patterns_no_long_term PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemorySearch::test_search_patterns_with_query PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemorySearch::test_search_patterns_with_type_filter PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemorySearch::test_search_patterns_with_limit PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryPromotion::test_promote_pattern_success PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryPromotion::test_promote_pattern_not_found PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryPromotion::test_promote_pattern_no_backends PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryProperties::test_has_short_term_true PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryProperties::test_has_short_term_false PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryProperties::test_has_long_term_true PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryProperties::test_using_real_redis_false_when_mock PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryProperties::test_short_term_property_raises_when_none PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryProperties::test_long_term_property_resilient_after_refactoring PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryHealthCheck::test_health_check_structure PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryHealthCheck::test_health_check_long_term_info PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryHealthCheck::test_health_check_environment PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryTTLStrategy::test_ttl_with_short_duration PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryTTLStrategy::test_ttl_with_session_duration PASSED [ 18%]
tests/unit/memory/test_unified.py::TestUnifiedMemoryTTLStrategy::test_ttl_with_long_duration PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_create_agents_with_no_rules PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_create_agent_when_conditions_met PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_skip_agent_when_conditions_not_met PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_create_multiple_agents PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_agent_config_mapped_from_responses PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_creation_stats_tracking PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestDynamicAgentCreator::test_reset_stats PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestGroupAgentsByTierStrategy::test_group_single_tier PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestGroupAgentsByTierStrategy::test_group_multiple_tiers PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestGroupAgentsByTierStrategy::test_group_empty_list PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestEstimateAgentCosts::test_estimate_with_default_costs PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestEstimateAgentCosts::test_estimate_with_custom_costs PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestEstimateAgentCosts::test_estimate_multiple_agents_same_tier PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestValidateAgentDependencies::test_no_warnings_when_dependencies_met PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestValidateAgentDependencies::test_warning_when_publisher_without_builder PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestValidateAgentDependencies::test_warning_when_changelog_updater_without_version_manager PASSED [ 18%]
tests/unit/meta_workflows/test_agent_creator.py::TestValidateAgentDependencies::test_multiple_dependency_warnings PASSED [ 19%]
tests/unit/meta_workflows/test_agent_creator.py::TestValidateAgentDependencies::test_no_warnings_for_agents_without_dependencies PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestSocraticFormEngine::test_ask_questions_with_empty_schema PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestSocraticFormEngine::test_ask_questions_batches_correctly PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestSocraticFormEngine::test_ask_questions_caches_response PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestSocraticFormEngine::test_clear_cache PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestSocraticFormEngine::test_convert_batch_to_ask_user_format PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestConvertAskUserResponseToFormResponse::test_basic_conversion PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestConvertAskUserResponseToFormResponse::test_multi_select_conversion PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_test_related_question PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_coverage_related_question PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_version_related_question PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_fallback_to_question_id PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_publish_related_question PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_quality_related_question PASSED [ 19%]
tests/unit/meta_workflows/test_form_engine.py::TestCreateHeaderFromQuestion::test_security_related_question PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentMatch::test_basic_creation PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentMatch::test_full_creation PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentPatterns::test_release_prep_patterns PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentPatterns::test_test_coverage_patterns PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentPatterns::test_test_maintenance_patterns PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentPatterns::test_manage_docs_patterns PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorInit::test_init PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_release_intent PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_test_coverage_intent PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_documentation_intent PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_with_threshold PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_empty_input PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_none_input PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_sorted_by_confidence PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_case_insensitive PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorDetect::test_detect_includes_matched_keywords PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorCalculateScore::test_keyword_matching PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorCalculateScore::test_phrase_matching PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorCalculateScore::test_weight_multiplier PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorCalculateScore::test_no_match PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorSuggestionText::test_suggestion_text_with_matches PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorSuggestionText::test_suggestion_text_empty_matches PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorSuggestionText::test_suggestion_text_limits_to_3 PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorShouldSuggest::test_should_suggest_true PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorShouldSuggest::test_should_suggest_false_low_confidence PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorGetBestMatch::test_get_best_match_found PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestIntentDetectorGetBestMatch::test_get_best_match_none PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestDetectAndSuggest::test_detect_and_suggest_with_match PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestDetectAndSuggest::test_detect_and_suggest_no_match PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestAutoDetectTemplate::test_auto_detect_high_confidence PASSED [ 19%]
tests/unit/meta_workflows/test_intent_detector.py::TestAutoDetectTemplate::test_auto_detect_low_confidence PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormQuestion::test_single_select_to_ask_user_format PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormQuestion::test_multi_select_to_ask_user_format PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormQuestion::test_boolean_converted_to_yes_no PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormQuestion::test_text_input_format PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormSchema::test_batch_questions_by_four PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormSchema::test_batch_with_exact_multiple PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormSchema::test_empty_questions_list PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormResponse::test_get_existing_response PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormResponse::test_get_nonexistent_response_returns_default PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestFormResponse::test_automatic_timestamp_and_id_generation PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_should_create_with_matching_single_response PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_should_not_create_with_non_matching_response PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_multi_select_matching_single_required_value PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_multi_select_not_matching PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_multiple_required_responses_all_match PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_multiple_required_responses_one_fails PASSED [ 19%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_create_agent_config_from_responses PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestAgentCompositionRule::test_create_agent_config_with_missing_values PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestAgentSpec::test_agent_spec_creation PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestAgentSpec::test_agent_id_unique PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestMetaWorkflowTemplate::test_template_to_json PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestMetaWorkflowTemplate::test_template_round_trip_json PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestMetaWorkflowTemplate::test_template_from_json_invalid PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestMetaWorkflowResult::test_result_to_dict PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestMetaWorkflowResult::test_result_round_trip_dict PASSED [ 20%]
tests/unit/meta_workflows/test_models.py::TestPatternInsight::test_insight_to_dict PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternLearnerInitialization::test_init_default_directory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternLearnerInitialization::test_init_custom_directory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternLearnerInitialization::test_init_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternAnalysis::test_analyze_patterns_empty_directory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternAnalysis::test_analyze_patterns_with_results PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternAnalysis::test_analyze_agent_counts PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternAnalysis::test_analyze_tier_performance PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternAnalysis::test_analyze_costs PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestPatternAnalysis::test_min_confidence_filtering PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestRecommendations::test_get_recommendations_no_data PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestRecommendations::test_get_recommendations_with_data PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestRecommendations::test_recommendations_filter_by_template PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestAnalyticsReport::test_generate_analytics_report PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestAnalyticsReport::test_analytics_report_empty_directory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestMemoryIntegration::test_store_execution_in_memory_no_memory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestMemoryIntegration::test_store_execution_in_memory_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestMemoryIntegration::test_search_executions_fallback PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestMemoryIntegration::test_get_smart_recommendations_no_memory PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestErrorHandling::test_analyze_patterns_invalid_template PASSED [ 20%]
tests/unit/meta_workflows/test_pattern_learner.py::TestErrorHandling::test_load_corrupted_result PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestSessionContextInitialization::test_init_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestSessionContextInitialization::test_init_without_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestSessionContextInitialization::test_init_with_custom_session_id PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestSessionContextInitialization::test_init_with_custom_ttl PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordChoice::test_record_choice_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordChoice::test_record_choice_without_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordChoice::test_record_multiple_choices PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordChoice::test_record_choice_with_custom_ttl PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestGetRecentChoice::test_get_recent_choice_recorded PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestGetRecentChoice::test_get_recent_choice_not_found PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestGetRecentChoice::test_get_recent_choice_without_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestSuggestDefaults::test_suggest_defaults_empty PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestSuggestDefaults::test_suggest_defaults_with_schema PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordExecution::test_record_execution_success PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordExecution::test_record_execution_failure PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestRecordExecution::test_record_execution_without_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestGetSessionStats::test_get_session_stats_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestGetSessionStats::test_get_session_stats_without_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestClearSession::test_clear_session_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestClearSession::test_clear_session_without_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestHelperMethods::test_make_choice_key PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestHelperMethods::test_validate_choice_single_select PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestHelperMethods::test_validate_choice_multi_select PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestHelperMethods::test_validate_choice_no_options PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestConvenienceFunctions::test_create_session_context PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestConvenienceFunctions::test_create_session_context_with_memory PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestConvenienceFunctions::test_get_session_defaults PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestIntegrationScenarios::test_workflow_with_session_context PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestIntegrationScenarios::test_multiple_templates_same_session PASSED [ 20%]
tests/unit/meta_workflows/test_session_context.py::TestIntegrationScenarios::test_session_ttl_behavior PASSED [ 20%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryInit::test_init_with_custom_dir PASSED [ 20%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryInit::test_init_creates_directory PASSED [ 20%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryInit::test_init_with_default_dir PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryLoadTemplate::test_load_builtin_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryLoadTemplate::test_load_user_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryLoadTemplate::test_load_nonexistent_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryLoadTemplate::test_load_invalid_template_raises PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistrySaveTemplate::test_save_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistrySaveTemplate::test_save_template_content PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistrySaveTemplate::test_save_overwrites_existing PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryListTemplates::test_list_includes_builtin PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryListTemplates::test_list_excludes_builtin PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryListTemplates::test_list_includes_user_templates PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryListTemplates::test_list_sorted PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryIsBuiltin::test_builtin_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryIsBuiltin::test_user_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryIsBuiltin::test_nonexistent_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryGetInfo::test_get_info_builtin PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryGetInfo::test_get_info_user_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryGetInfo::test_get_info_nonexistent PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryDelete::test_delete_user_template PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestTemplateRegistryDelete::test_delete_nonexistent PASSED [ 21%]
tests/unit/meta_workflows/test_template_registry.py::TestGetDefaultRegistry::test_returns_registry PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowInitialization::test_init_with_template PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowInitialization::test_init_with_template_id PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowInitialization::test_init_with_neither_raises_error PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowInitialization::test_init_with_invalid_template_id_raises_error PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowInitialization::test_init_with_custom_storage_dir PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowExecution::test_execute_with_provided_response PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestMetaWorkflowExecution::test_execute_mock_agents PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultStorage::test_result_saved_to_disk PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultStorage::test_config_file_content PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultStorage::test_report_generation PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultLoading::test_load_execution_result PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultLoading::test_load_nonexistent_result_raises_error PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultLoading::test_list_execution_results PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestResultLoading::test_list_empty_directory PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestErrorHandling::test_execution_error_creates_error_result PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestAgentExecution::test_mock_execution_cost_by_tier PASSED [ 21%]
tests/unit/meta_workflows/test_workflow.py::TestAgentExecution::test_all_agents_executed PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestPromptMetricsDataclass::test_initialization PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestPromptMetricsDataclass::test_to_dict PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestPromptMetricsDataclass::test_from_dict PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestPromptMetricsDataclass::test_roundtrip_serialization PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerInitialization::test_initialization_creates_file PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerInitialization::test_initialization_creates_parent_directory PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerInitialization::test_initialization_with_existing_file PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerLogging::test_log_metric_writes_to_file PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerLogging::test_log_metric_appends_to_file PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerLogging::test_log_metric_json_lines_format PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerRetrieval::test_get_metrics_empty_file PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerRetrieval::test_get_metrics_all PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerRetrieval::test_get_metrics_filter_by_workflow PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerRetrieval::test_get_metrics_filter_by_date_range PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerSummary::test_get_summary_empty PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerSummary::test_get_summary_basic PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerSummary::test_get_summary_with_failures PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerSummary::test_get_summary_with_retries PASSED [ 21%]
tests/unit/metrics/test_prompt_metrics.py::TestMetricsTrackerSummary::test_get_summary_filter_by_workflow PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestModelPerformance::test_create_model_performance_with_required_fields PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestModelPerformance::test_create_model_performance_with_recent_failures PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestModelPerformance::test_quality_score_calculation PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestModelPerformance::test_quality_score_prioritizes_success_rate PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestModelPerformance::test_quality_score_favors_lower_cost PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestAdaptiveModelRouterInit::test_router_initializes_with_telemetry PASSED [ 21%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestAdaptiveModelRouterInit::test_router_has_class_constants PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetBestModel::test_get_best_model_returns_default_when_no_history PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetBestModel::test_get_best_model_selects_highest_quality_score PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetBestModel::test_get_best_model_respects_max_cost_constraint PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetBestModel::test_get_best_model_respects_max_latency_constraint PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetBestModel::test_get_best_model_respects_min_success_rate PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestRecommendTierUpgrade::test_recommend_tier_upgrade_when_high_failure_rate PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestRecommendTierUpgrade::test_recommend_tier_upgrade_when_acceptable_performance PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestRecommendTierUpgrade::test_recommend_tier_upgrade_insufficient_data PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestRecommendTierUpgrade::test_recommend_tier_upgrade_at_exact_threshold PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetRoutingStats::test_get_routing_stats_returns_empty_for_no_data PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetRoutingStats::test_get_routing_stats_calculates_totals PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetRoutingStats::test_get_routing_stats_groups_by_model PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetRoutingStats::test_get_routing_stats_filters_by_workflow PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetRoutingStats::test_get_routing_stats_filters_by_stage_when_specified PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetRoutingStats::test_get_routing_stats_includes_all_stages_when_none_specified PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestAnalyzeModelPerformance::test_analyze_model_performance_returns_empty_for_no_data PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestAnalyzeModelPerformance::test_analyze_model_performance_calculates_metrics PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestAnalyzeModelPerformance::test_analyze_model_performance_groups_by_model PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestAnalyzeModelPerformance::test_analyze_model_performance_counts_recent_failures PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetWorkflowStageEntries::test_get_workflow_stage_entries_filters_by_workflow PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetWorkflowStageEntries::test_get_workflow_stage_entries_filters_by_stage_when_specified PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetWorkflowStageEntries::test_get_workflow_stage_entries_includes_all_stages_when_none PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetDefaultModel::test_get_default_model_returns_from_registry PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetDefaultModel::test_get_default_model_falls_back_when_registry_missing PASSED [ 22%]
tests/unit/models/test_adaptive_routing_coverage_boost.py::TestGetDefaultModel::test_get_default_model_handles_case_insensitive_tier PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_pro_tier_recommends_api PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_api_only_tier_returns_api PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_max_tier_small_module_uses_subscription PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_max_tier_medium_module_uses_subscription PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_max_tier_large_module_uses_api PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_enterprise_tier_follows_max_logic PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_free_tier_small_module_uses_subscription PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_free_tier_large_module_uses_api PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_explicit_subscription_mode_overrides_auto PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyRecommendedMode::test_explicit_api_mode_overrides_auto PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyTokenEstimation::test_estimate_tokens_default_multiplier PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyTokenEstimation::test_estimate_tokens_custom_multiplier PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyTokenEstimation::test_estimate_tokens_large_module PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyCostEstimation::test_estimate_cost_subscription_mode PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyCostEstimation::test_estimate_cost_api_mode PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyCostEstimation::test_estimate_cost_auto_mode_uses_recommended PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyCostEstimation::test_estimate_cost_none_mode_uses_recommended PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyProsCons::test_pros_cons_includes_all_modes PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyProsCons::test_pros_cons_subscription_structure PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyProsCons::test_pros_cons_api_structure PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyProsCons::test_pros_cons_auto_includes_recommendation PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategySerialization::test_to_dict_includes_all_fields PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategySerialization::test_from_dict_restores_strategy PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategySerialization::test_round_trip_serialization PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyPersistence::test_save_creates_file PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyPersistence::test_save_creates_parent_directories PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyPersistence::test_save_writes_valid_json PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyPersistence::test_load_reads_saved_strategy PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyPersistence::test_load_nonexistent_file_returns_default PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyPersistence::test_load_invalid_json_returns_default PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestGetAuthStrategy::test_get_auth_strategy_loads_from_home PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestGetAuthStrategy::test_get_auth_strategy_returns_default_if_not_configured PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestCountLinesOfCode::test_count_lines_empty_file PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestCountLinesOfCode::test_count_lines_simple_file PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestCountLinesOfCode::test_count_lines_accepts_path_object PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestCountLinesOfCode::test_count_lines_nonexistent_file_returns_zero PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestGetModuleSizeCategory::test_categorize_small_module PASSED [ 22%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestGetModuleSizeCategory::test_categorize_medium_module PASSED [ 23%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestGetModuleSizeCategory::test_categorize_large_module PASSED [ 23%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestGetModuleSizeCategory::test_categorize_boundary_at_2000 PASSED [ 23%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyEdgeCases::test_strategy_with_zero_lines PASSED [ 23%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyEdgeCases::test_strategy_at_exact_threshold_boundaries PASSED [ 23%]
tests/unit/models/test_auth_strategy_coverage_boost.py::TestAuthStrategyEdgeCases::test_metadata_field_is_mutable PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCreation::test_creates_with_anthropic_provider PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCreation::test_creates_with_openai_provider PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCreation::test_creates_with_google_provider PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCreation::test_creates_with_explicit_api_key PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCreation::test_defaults_to_anthropic_provider PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[summarize-cheap] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[triage-cheap] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[classify-cheap] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[simple_qa-cheap] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[review_security-capable] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[analyze_performance-capable] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[fix_bug-capable] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[generate_code-capable] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[write_tests-capable] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[complex_reasoning-premium] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[architectural_decision-premium] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_task_type_routes_to_correct_tier[coordinate-premium] PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorTaskRouting::test_unknown_task_type_routes_to_capable PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorRun::test_run_returns_response PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorRun::test_run_with_system_prompt PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorHybridMode::test_hybrid_mode_initialized PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorHybridMode::test_hybrid_mode_config_structure PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorHybridMode::test_hybrid_mode_provider_detection PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCostTracking::test_executor_has_telemetry_store PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorCostTracking::test_run_tracks_token_usage PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorErrorHandling::test_handles_api_error PASSED [ 23%]
tests/unit/models/test_empathy_executor_new.py::TestEmpathyLLMExecutorErrorHandling::test_handles_timeout PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponse::test_llm_response_basic_creation PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponse::test_llm_response_with_all_fields PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponse::test_llm_response_defaults PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_input_tokens_alias PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_output_tokens_alias PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_model_used_alias PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_cost_alias PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_total_tokens_property PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_success_property_with_content PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestLLMResponseProperties::test_success_property_without_content PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestExecutionContext::test_execution_context_defaults PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestExecutionContext::test_execution_context_with_all_fields PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestExecutionContext::test_execution_context_partial_fields PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_initialization_defaults PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_initialization_custom PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_run_basic PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_run_with_system_prompt PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_run_with_context PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_run_with_kwargs PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_call_history_tracking PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_token_estimation PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_response_fields PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_get_model_for_task PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutor::test_mock_executor_estimate_cost PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutorIntegration::test_multiple_calls_with_different_tasks PASSED [ 23%]
tests/unit/models/test_executor_coverage_boost.py::TestMockLLMExecutorIntegration::test_mock_executor_with_complex_context PASSED [ 23%]
tests/unit/models/test_model_registry_class.py::TestModelRegistryInitialization::test_default_initialization PASSED [ 23%]
tests/unit/models/test_model_registry_class.py::TestModelRegistryInitialization::test_custom_registry_initialization PASSED [ 23%]
tests/unit/models/test_model_registry_class.py::TestModelRegistryInitialization::test_cache_building_on_init PASSED [ 23%]
tests/unit/models/test_model_registry_class.py::TestModelRegistryInitialization::test_tier_cache_populated PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestModelRegistryInitialization::test_model_id_cache_populated PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelById::test_get_haiku_by_id PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelById::test_get_sonnet_by_id PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelById::test_get_opus_by_id PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelById::test_get_nonexistent_model_returns_none PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelById::test_get_model_by_id_uses_cache PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelsByTier::test_get_cheap_models PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelsByTier::test_get_capable_models PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelsByTier::test_get_premium_models PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelsByTier::test_get_nonexistent_tier_returns_empty_list PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelsByTier::test_get_models_by_tier_case_insensitive PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModelsByTier::test_get_models_by_tier_uses_cache PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModel::test_get_anthropic_cheap PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModel::test_get_anthropic_capable PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModel::test_get_anthropic_premium PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModel::test_get_model_invalid_provider_raises_error PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModel::test_get_model_invalid_tier_returns_none PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetModel::test_get_model_case_insensitive PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestListMethods::test_list_providers PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestListMethods::test_list_tiers PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestListMethods::test_list_tiers_returns_tier_values PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetAllModels::test_get_all_models_returns_registry PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetAllModels::test_get_all_models_has_anthropic PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetAllModels::test_get_all_models_structure PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetPricingForModel::test_get_pricing_for_haiku PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetPricingForModel::test_get_pricing_for_sonnet PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetPricingForModel::test_get_pricing_for_opus PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestGetPricingForModel::test_get_pricing_for_nonexistent_model PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestRegistryPerformance::test_tier_cache_provides_o1_lookup PASSED [ 24%]
tests/unit/models/test_model_registry_class.py::TestRegistryPerformance::test_model_id_cache_provides_o1_lookup PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintRegistry::test_print_registry_table_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintRegistry::test_print_registry_json_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintRegistry::test_print_registry_with_provider_filter PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintRegistry::test_print_registry_unknown_provider PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTasks::test_print_tasks_table_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTasks::test_print_tasks_json_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTasks::test_print_tasks_with_tier_filter PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTasks::test_print_tasks_unknown_tier PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintCosts::test_print_costs_table_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintCosts::test_print_costs_json_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintCosts::test_print_costs_with_provider_filter PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintCosts::test_print_costs_unknown_provider PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestValidateFile::test_validate_file_valid PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestValidateFile::test_validate_file_invalid PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestValidateFile::test_validate_file_json_format PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintEffectiveConfig::test_print_effective_config PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintEffectiveConfig::test_print_effective_config_unknown_provider PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetrySummary::test_print_telemetry_summary_table PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetrySummary::test_print_telemetry_summary_json PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetryCosts::test_print_telemetry_costs_table PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetryCosts::test_print_telemetry_costs_json PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetryProviders::test_print_telemetry_providers_table PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetryProviders::test_print_telemetry_providers_json PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetryFallbacks::test_print_telemetry_fallbacks_table PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintTelemetryFallbacks::test_print_telemetry_fallbacks_json PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintProviderConfig::test_print_provider_config_table PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestPrintProviderConfig::test_print_provider_config_json PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestConfigureProvider::test_configure_provider_interactive PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestConfigureProvider::test_configure_provider_set PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestConfigureProvider::test_configure_provider_show_current PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_registry_command PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_tasks_command PASSED [ 24%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_costs_command PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_validate_command PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_effective_command PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_telemetry_summary PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_telemetry_costs PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_telemetry_providers PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_telemetry_fallbacks PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_provider_command PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestMainCLI::test_main_no_command PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestCLIEdgeCases::test_print_costs_with_zero_tokens PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestCLIEdgeCases::test_print_telemetry_summary_no_calls PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestCLIEdgeCases::test_main_registry_with_json_format PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestCLIEdgeCases::test_main_costs_with_custom_tokens PASSED [ 25%]
tests/unit/models/test_models_cli.py::TestCLIEdgeCases::test_main_provider_set_hybrid PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintRegistryRealData::test_print_registry_table_format_all_providers PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintRegistryRealData::test_print_registry_json_format_all_providers PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintRegistryRealData::test_print_registry_anthropic_only PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintRegistryRealData::test_print_registry_invalid_provider_exits PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintRegistryRealData::test_print_registry_shows_pricing_info PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_table_format_all_tiers PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_json_format_all_tiers PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_cheap_tier_only PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_capable_tier_only PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_premium_tier_only PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_invalid_tier_exits PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintTasksRealData::test_print_tasks_counts_per_tier PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_default_tokens PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_custom_tokens PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_json_format PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_anthropic_only PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_zero_tokens PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_large_tokens PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintCostsRealData::test_print_costs_invalid_provider_exits PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestValidateFileRealData::test_validate_valid_yaml_file PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestValidateFileRealData::test_validate_invalid_yaml_syntax SKIPPED raising (fix in v4.0.3)) [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestValidateFileRealData::test_validate_nonexistent_file SKIPPED raising (fix in v4.0.3)) [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestValidateFileRealData::test_validate_file_json_format PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintEffectiveConfigRealData::test_print_effective_config_anthropic PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintEffectiveConfigRealData::test_print_effective_config_shows_task_routing PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintEffectiveConfigRealData::test_print_effective_config_shows_timeouts PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestPrintEffectiveConfigRealData::test_print_effective_config_invalid_provider_exits PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_summary_table PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_summary_json PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_costs_table PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_costs_json PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_providers_table PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_providers_json PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_fallbacks_table PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_print_telemetry_fallbacks_json PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestTelemetryWithRealData::test_telemetry_with_empty_store PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestProviderConfigRealData::test_print_provider_config_table PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestProviderConfigRealData::test_print_provider_config_json PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestProviderConfigRealData::test_configure_provider_show_current PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_no_command PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_registry_command PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_registry_with_provider PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_registry_json_format PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_tasks_command PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_tasks_with_tier PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_tasks_json_format PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_costs_command PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_costs_with_custom_tokens PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_costs_with_provider PASSED [ 25%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_costs_json_format PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_validate_command PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_validate_json_format PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_effective_command PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_provider_command PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestMainCLIRealData::test_main_provider_json_format PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestEdgeCases::test_costs_with_very_large_tokens PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestEdgeCases::test_costs_with_negative_tokens_invalid PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestEdgeCases::test_registry_json_format_structure PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestEdgeCases::test_tasks_json_format_structure PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestEdgeCases::test_print_registry_all_tiers_present PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestEdgeCases::test_effective_config_task_routing_coverage PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestRealModelData::test_model_registry_not_empty PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestRealModelData::test_all_providers_have_models PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestRealModelData::test_model_info_has_required_fields PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestRealModelData::test_model_costs_are_positive PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestRealModelData::test_task_mappings_not_empty PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestRealModelData::test_get_tier_for_task_returns_valid_tier PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestCLIArgumentParsing::test_main_with_multiple_flags PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestCLIArgumentParsing::test_main_telemetry_with_custom_days PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestCLIArgumentParsing::test_main_costs_all_flags PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestOutputFormatConsistency::test_all_table_formats_have_headers PASSED [ 26%]
tests/unit/models/test_models_cli_comprehensive.py::TestOutputFormatConsistency::test_all_json_formats_parseable PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigSecurity::test_save_blocks_path_traversal PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigSecurity::test_save_blocks_null_bytes PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigSecurity::test_save_blocks_system_directories PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigSecurity::test_save_allows_valid_paths PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigHybridMode::test_hybrid_mode_creation SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigHybridMode::test_get_model_for_tier_hybrid_mode SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigHybridMode::test_custom_mode_with_tier_providers SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigHybridMode::test_get_effective_registry_hybrid SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigEdgeCases::test_empty_tier_providers_fallback SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigEdgeCases::test_invalid_mode_from_dict PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigEdgeCases::test_load_nonexistent_file PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigEdgeCases::test_load_invalid_json PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestProviderConfigEdgeCases::test_to_dict_roundtrip PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestGlobalConfigManagement::test_set_and_get_config PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestGlobalConfigManagement::test_get_config_lazy_loads PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestGlobalConfigManagement::test_reset_clears_cached_config PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestOllamaDetection::test_check_ollama_not_running SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestOllamaDetection::test_check_ollama_timeout SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestEnvFileLoading::test_load_env_handles_missing_files PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestEnvFileLoading::test_provider_detection_with_env_vars PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestEnvFileLoading::test_provider_detection_with_openai SKIPPED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestEnvFileLoading::test_auto_detect_with_single_provider PASSED [ 26%]
tests/unit/models/test_provider_config_extended.py::TestEnvFileLoading::test_auto_detect_with_multiple_providers PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelTier::test_model_tier_hierarchy PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelTier::test_tier_comparison PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelProvider::test_provider_values PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelProvider::test_provider_to_string PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelProvider::test_anthropic_provider PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelInfo::test_model_info_creation PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelInfo::test_model_info_compatibility_properties PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelInfo::test_model_info_to_router_config PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelInfo::test_model_info_to_workflow_config PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelInfo::test_model_info_to_cost_tracker_pricing PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelInfo::test_model_info_frozen_dataclass PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelRegistry::test_registry_has_anthropic_provider PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelRegistry::test_anthropic_has_all_tiers PASSED [ 26%]
tests/unit/models/test_registry.py::TestModelRegistry::test_anthropic_models PASSED [ 26%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_model_success PASSED [ 26%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_model_case_insensitive PASSED [ 26%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_model_invalid_provider PASSED [ 27%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_model_invalid_tier PASSED [ 27%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_all_models PASSED [ 27%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_pricing_for_model PASSED [ 27%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_pricing_for_nonexistent_model PASSED [ 27%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_supported_providers PASSED [ 27%]
tests/unit/models/test_registry.py::TestRegistryHelpers::test_get_tiers PASSED [ 27%]
tests/unit/models/test_registry.py::TestTierPricing::test_tier_pricing_exists PASSED [ 27%]
tests/unit/models/test_registry.py::TestTierPricing::test_tier_pricing_structure PASSED [ 27%]
tests/unit/models/test_registry.py::TestTierPricing::test_tier_pricing_hierarchy PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_simple_tasks_map_to_cheap_tier PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_complex_reasoning_maps_to_premium_tier PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_code_generation_maps_to_capable_tier PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_task_tier_map_correctness PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_tier_selection_deterministic PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_context_influences_tier_selection PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_override_tier_selection PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestTaskTierMapping::test_default_tier_for_unknown_tasks PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_rate_limit_triggers_fallback PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_timeout_triggers_fallback PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_api_error_triggers_fallback PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_fallback_chain_cheap_to_capable_to_premium XFAIL [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_premium_tier_has_no_fallback XFAIL [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_max_retries_respected PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_exponential_backoff PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestFallbackActivation::test_circuit_breaker_integration PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_token_count_accurate PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_cost_calculation_correct PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_different_models_have_different_costs PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_fallback_updates_cost_tracking PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_batch_operations_sum_costs PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_cost_tracking_persists PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_cost_reporting_api PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestCostTrackingAccuracy::test_cost_budget_enforcement PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingDecisions::test_routing_logged_for_audit PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingDecisions::test_routing_decisions_explainable PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingDecisions::test_performance_metrics_tracked PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingDecisions::test_provider_availability_checked PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingDecisions::test_load_balancing_across_providers SKIPPED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingDecisions::test_sticky_sessions_same_provider_for_conversation PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingAndCostIntegration::test_end_to_end_routing_with_cost_tracking PASSED [ 27%]
tests/unit/models/test_routing_and_cost.py::TestRoutingAndCostIntegration::test_fallback_chain_with_cost_impact PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskType::test_cheap_tier_tasks_exist PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskType::test_capable_tier_tasks_exist PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskType::test_premium_tier_tasks_exist PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskType::test_task_type_values_are_strings PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskType::test_task_count PASSED    [ 27%]
tests/unit/models/test_tasks.py::TestTaskInfo::test_task_info_creation PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskInfo::test_task_info_is_frozen PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskInfo::test_task_info_registry_has_entries PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskInfo::test_task_info_registry_tiers_correct PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskInfo::test_task_info_has_descriptions PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskTierMappings::test_cheap_tasks_is_frozenset PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskTierMappings::test_capable_tasks_is_frozenset PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskTierMappings::test_premium_tasks_is_frozenset PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskTierMappings::test_no_overlap_between_tiers PASSED [ 27%]
tests/unit/models/test_tasks.py::TestTaskTierMappings::test_task_tier_map_completeness PASSED [ 27%]
tests/unit/models/test_tasks.py::TestNormalizeTaskType::test_lowercase_conversion PASSED [ 27%]
tests/unit/models/test_tasks.py::TestNormalizeTaskType::test_hyphen_to_underscore PASSED [ 27%]
tests/unit/models/test_tasks.py::TestNormalizeTaskType::test_space_to_underscore PASSED [ 27%]
tests/unit/models/test_tasks.py::TestNormalizeTaskType::test_mixed_formats PASSED [ 27%]
tests/unit/models/test_tasks.py::TestNormalizeTaskType::test_already_normalized PASSED [ 27%]
tests/unit/models/test_tasks.py::TestGetTierForTask::test_cheap_task_returns_cheap_tier PASSED [ 27%]
tests/unit/models/test_tasks.py::TestGetTierForTask::test_capable_task_returns_capable_tier PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTierForTask::test_premium_task_returns_premium_tier PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTierForTask::test_unknown_task_returns_capable_tier PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTierForTask::test_accepts_task_type_enum PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTierForTask::test_case_insensitive PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTasksForTier::test_get_cheap_tier_tasks PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTasksForTier::test_get_capable_tier_tasks PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetTasksForTier::test_get_premium_tier_tasks PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetAllTasks::test_returns_dict PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetAllTasks::test_has_all_tiers PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetAllTasks::test_correct_counts PASSED [ 28%]
tests/unit/models/test_tasks.py::TestGetAllTasks::test_tasks_are_lists PASSED [ 28%]
tests/unit/models/test_tasks.py::TestIsKnownTask::test_known_task_returns_true PASSED [ 28%]
tests/unit/models/test_tasks.py::TestIsKnownTask::test_unknown_task_returns_false PASSED [ 28%]
tests/unit/models/test_tasks.py::TestIsKnownTask::test_case_insensitive PASSED [ 28%]
tests/unit/models/test_tasks.py::TestIsKnownTask::test_normalizes_input PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_batch_eligible_tasks_is_frozenset PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_realtime_required_tasks_is_frozenset PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_no_overlap_between_batch_and_realtime PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_summarize_is_batch_eligible PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_classify_is_batch_eligible PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_document_code_is_batch_eligible PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_chat_is_realtime_required PASSED [ 28%]
tests/unit/models/test_tasks.py::TestBatchEligibility::test_critical_fix_is_realtime_required PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_all_task_types_have_tier_mapping PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_tier_mapping_values_are_model_tiers PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_specific_task_tier_assignments[TaskType.SUMMARIZE-ModelTier.CHEAP] PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_specific_task_tier_assignments[TaskType.CLASSIFY-ModelTier.CHEAP] PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_specific_task_tier_assignments[TaskType.GENERATE_CODE-ModelTier.CAPABLE] PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_specific_task_tier_assignments[TaskType.FIX_BUG-ModelTier.CAPABLE] PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_specific_task_tier_assignments[TaskType.COORDINATE-ModelTier.PREMIUM] PASSED [ 28%]
tests/unit/models/test_tasks.py::TestTaskTypeCompleteness::test_specific_task_tier_assignments[TaskType.COMPLEX_REASONING-ModelTier.PREMIUM] PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTaskRoutingAccuracy::test_empty_data PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTaskRoutingAccuracy::test_single_successful_routing PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTaskRoutingAccuracy::test_multiple_routings_mixed_success PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTaskRoutingAccuracy::test_breakdown_by_task_type PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTaskRoutingAccuracy::test_breakdown_by_strategy PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTaskRoutingAccuracy::test_date_filtering PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTestExecutionTrends::test_empty_data PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTestExecutionTrends::test_single_successful_execution PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTestExecutionTrends::test_multiple_executions_mixed_results PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTestExecutionTrends::test_most_failing_tests PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestCoverageProgress::test_empty_data PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestCoverageProgress::test_single_coverage_record PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestCoverageProgress::test_improving_trend PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestCoverageProgress::test_declining_trend PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestAgentPerformance::test_empty_data PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestAgentPerformance::test_single_agent_assignment PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestAgentPerformance::test_multiple_agents PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTier1Summary::test_empty_data PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTier1Summary::test_comprehensive_summary PASSED [ 28%]
tests/unit/models/test_tier1_analytics.py::TestTier1Summary::test_summary_with_date_filtering PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_create_minimal_record PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_create_full_record PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_to_dict_serialization PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_from_dict_deserialization PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_round_trip_serialization PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_default_values PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTaskRoutingRecord::test_json_serializable PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTestExecutionRecord::test_create_minimal_record PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTestExecutionRecord::test_create_full_record PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTestExecutionRecord::test_to_dict_serialization PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTestExecutionRecord::test_from_dict_deserialization PASSED [ 28%]
tests/unit/models/test_tier1_records.py::TestTestExecutionRecord::test_default_values PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestCoverageRecord::test_create_minimal_record PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestCoverageRecord::test_create_full_record PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestCoverageRecord::test_to_dict_serialization PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestCoverageRecord::test_from_dict_deserialization PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestCoverageRecord::test_default_values PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestAgentAssignmentRecord::test_create_minimal_record PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestAgentAssignmentRecord::test_create_full_record PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestAgentAssignmentRecord::test_to_dict_serialization PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestAgentAssignmentRecord::test_from_dict_deserialization PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestAgentAssignmentRecord::test_default_values PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestEdgeCases::test_empty_lists PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestEdgeCases::test_empty_dicts PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestEdgeCases::test_large_values PASSED [ 29%]
tests/unit/models/test_tier1_records.py::TestEdgeCases::test_unicode_strings PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestTierProgression::test_cheap_to_capable PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestTierProgression::test_capable_to_premium PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestTierProgression::test_premium_has_no_next PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestTierProgression::test_unknown_tier_returns_none PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_timeout_error_triggers_fallback_cheap PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_timeout_error_triggers_fallback_capable PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_connection_error_triggers_fallback PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_os_error_triggers_fallback PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_value_error_does_not_trigger_fallback PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_type_error_does_not_trigger_fallback PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestShouldFallback::test_premium_never_falls_back PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestEdgeCases::test_custom_exception_subclass_of_connection_error PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestEdgeCases::test_custom_exception_subclass_of_timeout_error PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestEdgeCases::test_custom_exception_subclass_of_os_error PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestEdgeCases::test_generic_exception_does_not_trigger_fallback PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestIntegrationWithFallbackPolicy::test_can_import_both_classes PASSED [ 29%]
tests/unit/models/test_tier_fallback_helper.py::TestIntegrationWithFallbackPolicy::test_tier_progression_matches_fallback_policy_tiers PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateTokensBasic::test_estimate_tokens_empty_string PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateTokensBasic::test_estimate_tokens_simple_text PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateTokensBasic::test_estimate_tokens_heuristic_fallback PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateTokensBasic::test_estimate_tokens_different_models PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestGetEncoding::test_get_encoding_claude SKIPPED [ 29%]
tests/unit/models/test_token_estimator.py::TestGetEncoding::test_get_encoding_gpt4 SKIPPED [ 29%]
tests/unit/models/test_token_estimator.py::TestGetEncoding::test_get_encoding_unknown_model SKIPPED [ 29%]
tests/unit/models/test_token_estimator.py::TestGetEncoding::test_get_encoding_caching SKIPPED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_basic PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_known_workflows PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_unknown_workflow PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_risk_levels PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_with_file_path PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_with_directory_path PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_invalid_provider PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateWorkflowCost::test_estimate_workflow_cost_stage_details PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateSingleCallCost::test_estimate_single_call_cost_basic PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateSingleCallCost::test_estimate_single_call_cost_different_tasks PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateSingleCallCost::test_estimate_single_call_cost_output_multipliers PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEstimateSingleCallCost::test_estimate_single_call_cost_cost_calculation PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEdgeCases::test_estimate_tokens_very_long_text PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEdgeCases::test_estimate_tokens_special_characters PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEdgeCases::test_estimate_workflow_cost_empty_input PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEdgeCases::test_estimate_workflow_cost_nonexistent_file PASSED [ 29%]
tests/unit/models/test_token_estimator.py::TestEdgeCases::test_estimate_single_call_unknown_task_type PASSED [ 29%]
tests/unit/models/test_validation_coverage_boost.py::TestValidationError::test_validation_error_str PASSED [ 29%]
tests/unit/models/test_validation_coverage_boost.py::TestValidationError::test_validation_error_warning PASSED [ 29%]
tests/unit/models/test_validation_coverage_boost.py::TestValidationResult::test_add_warning_method PASSED [ 29%]
tests/unit/models/test_validation_coverage_boost.py::TestValidationResult::test_str_with_errors PASSED [ 29%]
tests/unit/models/test_validation_coverage_boost.py::TestValidationResult::test_str_with_warnings PASSED [ 29%]
tests/unit/models/test_validation_coverage_boost.py::TestValidationResult::test_str_with_both_errors_and_warnings PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stages_with_invalid_tier PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stages_with_invalid_provider PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stages_with_timeout_below_min PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stages_with_timeout_above_max PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stages_with_non_integer_timeout PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stages_with_non_integer_max_retries PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorStages::test_validate_stage_non_dict_stage PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorProviderTier::test_validate_provider_tier_with_invalid_provider PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorProviderTier::test_validate_provider_tier_with_invalid_tier PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorProviderTier::test_validate_provider_tier_with_missing_combination PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorProviderTier::test_validate_provider_tier_valid_combination PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestConfigValidatorDefaultProvider::test_validate_config_with_invalid_default_provider PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateYamlFile::test_validate_yaml_file_not_found PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateYamlFile::test_validate_yaml_file_invalid_yaml PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateYamlFile::test_validate_yaml_file_empty PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateYamlFile::test_validate_yaml_file_invalid_path PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateYamlFile::test_validate_yaml_file_valid PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateConfigFunction::test_validate_config_with_valid_config PASSED [ 30%]
tests/unit/models/test_validation_coverage_boost.py::TestValidateConfigFunction::test_validate_config_with_invalid_config PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertConfig::test_to_dict PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertConfig::test_from_dict PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_init_creates_database PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_add_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_add_alert_with_string_enums PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_add_alert_webhook_requires_url PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_add_alert_email_requires_address PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_list_alerts PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_get_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_get_alert_not_found PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_delete_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_delete_alert_not_found PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngine::test_enable_disable_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineMetrics::test_get_metrics_with_data PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineMetrics::test_get_metrics_no_telemetry PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineTriggering::test_check_and_trigger_no_alerts PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineTriggering::test_check_and_trigger_threshold_exceeded PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineTriggering::test_check_and_trigger_threshold_not_exceeded PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineTriggering::test_check_and_trigger_disabled_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineTriggering::test_check_and_trigger_cooldown PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestAlertEngineTriggering::test_alert_history_recorded PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestWebhookDelivery::test_deliver_webhook_success PASSED [ 30%]
tests/unit/monitoring/test_alerts.py::TestGetAlertEngine::test_get_alert_engine_default_path PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineInitialization::test_default_initialization PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineInitialization::test_creates_parent_directory PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineInitialization::test_initializes_database_schema PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineAddAlert::test_add_alert_basic PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineAddAlert::test_add_alert_with_webhook PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineAddAlert::test_add_alert_with_email PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineAddAlert::test_add_multiple_alerts PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineListAlerts::test_list_alerts_empty PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineListAlerts::test_list_alerts_returns_all_fields PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineListAlerts::test_list_alerts_enabled_field_is_boolean PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineListAlerts::test_list_alerts_default_values PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineDeleteAlert::test_delete_alert_success PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineDeleteAlert::test_delete_nonexistent_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineDeleteAlert::test_delete_alert_leaves_others PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineMetricTypes::test_daily_cost_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineMetricTypes::test_error_rate_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineMetricTypes::test_avg_latency_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineMetricTypes::test_token_usage_alert PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineChannelTypes::test_stdout_channel PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineChannelTypes::test_webhook_channel PASSED [ 30%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEngineChannelTypes::test_email_channel PASSED [ 31%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEnginePersistence::test_alerts_persist_across_instances PASSED [ 31%]
tests/unit/monitoring/test_alerts_cli.py::TestAlertEnginePersistence::test_delete_persists_across_instances PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendInitialization::test_empty_initialization PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendInitialization::test_initialization_with_backends PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendInitialization::test_from_config_creates_jsonl_backend PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendInitialization::test_from_config_with_otel_import_error PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendInitialization::test_from_config_without_otel_collector PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendManagement::test_add_backend PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendManagement::test_add_invalid_backend_raises_error PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendManagement::test_remove_backend PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendManagement::test_remove_nonexistent_backend PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendLogging::test_log_call_to_all_backends PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendLogging::test_log_workflow_to_all_backends PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendErrorHandling::test_log_call_continues_on_backend_failure PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendErrorHandling::test_failed_backend_skipped_on_subsequent_calls PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendErrorHandling::test_reset_failures_retries_failed_backends PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendStatus::test_get_active_backends PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendStatus::test_get_failed_backends PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendStatus::test_len_returns_active_backend_count PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendStatus::test_repr PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendFlush::test_flush_calls_backend_flush PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendFlush::test_flush_handles_backend_without_flush PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestMultiBackendFlush::test_flush_handles_flush_failure PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestGlobalMultiBackend::test_get_multi_backend_creates_instance PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestGlobalMultiBackend::test_reset_multi_backend_clears_instance PASSED [ 31%]
tests/unit/monitoring/test_multi_backend.py::TestGlobalMultiBackend::test_reset_flushes_before_clearing PASSED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_default_endpoint_detection FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_custom_endpoint FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_custom_batch_size FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_environment_variable_endpoint FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_otel_not_installed XFAILnt) [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_collector_not_available FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_is_port_open_localhost_closed FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_is_port_open_invalid_host FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_check_availability_no_endpoint FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_check_availability_invalid_endpoint FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_log_call_when_unavailable FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_log_workflow_when_unavailable FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_log_call_with_mocked_otel PASSED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_flush_when_unavailable FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_call_with_error_record FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_call_with_fallback FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_workflow_with_skipped_stage FAILED [ 31%]
tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_workflow_with_stage_error FAILED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_create_valid_capability PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_create_capability_without_tools PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_capability_is_frozen PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_create_capability_with_empty_name PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_create_capability_with_invalid_name_type PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_create_capability_with_empty_description PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentCapability::test_create_capability_with_invalid_tools_type PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_valid_requirements PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_requirements_with_defaults PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_requirements_is_frozen PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_requirements_with_negative_min_tokens PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_requirements_with_invalid_max_tokens PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_requirements_with_zero_timeout PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_requirements_with_negative_timeout PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestResourceRequirements::test_create_requirements_with_zero_memory PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_valid_template PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_custom_resources PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_template_is_frozen PASSED [ 31%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_empty_id PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_empty_role PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_capabilities_type PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_empty_capabilities PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_capability_item PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_tier PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_tools_type PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_tool_item PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_empty_instructions PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_quality_gates_type PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestAgentTemplate::test_create_template_with_invalid_resource_requirements PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_template_by_id PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_nonexistent_template PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_template_with_invalid_id_type PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_template_with_empty_id PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_all_templates PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_templates_by_capability PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_templates_by_nonexistent_capability PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_templates_by_capability_with_invalid_type PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_templates_by_tier PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_get_templates_by_invalid_tier PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestTemplateRegistry::test_templates_by_tier_coverage PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_test_coverage_analyzer PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_security_auditor PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_code_reviewer PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_documentation_writer PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_performance_optimizer PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_architecture_analyst PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_refactoring_specialist PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_all_templates_have_valid_structure PASSED [ 32%]
tests/unit/orchestration/test_agent_templates.py::TestPreBuiltTemplates::test_template_ids_are_unique PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionType::test_json_predicate_exists PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionType::test_natural_language_exists PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionType::test_composite_exists PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_create_json_predicate_condition PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_create_natural_language_condition PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_auto_detect_json_type PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_auto_detect_natural_language_type PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_eq_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_ne_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_gt_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_in_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_regex_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_and_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestCondition::test_validate_or_operator PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_eq_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_eq_false PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_ne_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_gt_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_gt_false PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_gte_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_lt_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_lte_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_in_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_in_false PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_nin_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_exists_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_exists_false PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_regex_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_regex_false PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_nested_value PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_and_true PASSED [ 32%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_and_false PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_or_true PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_or_false PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionEvaluator::test_evaluate_not_true PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestBranch::test_create_branch_with_strategy_name PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestBranch::test_create_branch_with_multiple_agents PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategy::test_init_with_condition_and_branches PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategy::test_init_without_else_branch PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategy::test_init_with_conditions PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategyExecute::test_execute_takes_then_branch_when_condition_true PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategyExecute::test_execute_takes_else_branch_when_condition_false PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategyExecute::test_execute_returns_empty_result_when_no_else_branch PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategyExecute::test_execute_adds_conditional_to_context PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestConditionalStrategyExecute::test_execute_with_complex_condition PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategyExecute::test_execute_matches_first_condition PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategyExecute::test_execute_matches_second_condition PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategyExecute::test_execute_uses_default_branch_when_no_match PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategyExecute::test_execute_returns_empty_result_when_no_match_and_no_default PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategyExecute::test_execute_stops_on_first_match PASSED [ 33%]
tests/unit/orchestration/test_condition_evaluator.py::TestMultiConditionalStrategyExecute::test_execute_with_or_condition PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestCondition::test_json_predicate_validation PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestCondition::test_natural_language_auto_detection PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestCondition::test_invalid_operator_rejected PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestCondition::test_nested_predicate_validation PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestCondition::test_invalid_predicate_type PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_eq_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_ne_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_gt_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_gte_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_lt_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_lte_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_in_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_nin_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_exists_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_regex_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_nested_path_evaluation PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_deeply_nested_path PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_and_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_or_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_not_operator PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_direct_equality PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_keyword_fallback PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionEvaluator::test_keyword_fallback_negation PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionalStrategy::test_then_branch_execution PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionalStrategy::test_else_branch_execution PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionalStrategy::test_no_else_branch PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestMultiConditionalStrategy::test_first_match_wins PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestMultiConditionalStrategy::test_default_branch_fallback PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestMultiConditionalStrategy::test_no_match_no_default PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionalIntegration::test_strategy_registry_includes_conditional PASSED [ 33%]
tests/unit/orchestration/test_conditional_strategy.py::TestConditionalIntegration::test_get_strategy_returns_conditional PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_create_minimal_config PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_create_full_config PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_record_outcome_success PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_record_outcome_failure PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_record_outcome_invalid_quality_score PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_to_dict_serialization PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_from_dict_deserialization PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestAgentConfiguration::test_round_trip_serialization PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_init_creates_directory PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_init_with_existing_directory PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_init_default_directory PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_save_configuration PASSED [ 33%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_save_updates_cache PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_save_invalid_id PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_save_path_traversal_protection PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_load_existing_configuration PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_load_nonexistent_configuration PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_load_invalid_id PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_load_lazy_initialization PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_by_task_pattern PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_by_success_rate PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_by_quality_score PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_combined_filters PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_sorting PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_limit PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_search_invalid_parameters PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_get_best_for_task PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_get_best_for_task_not_found PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_delete_existing_configuration PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_delete_nonexistent_configuration PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_delete_invalid_id PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_list_all_configurations PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_list_all_sorted_by_last_used PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_pattern_library_integration_saves_pattern PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_pattern_library_integration_waits_for_proof PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_handles_corrupted_config_file PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestConfigurationStore::test_handles_missing_directory_on_load PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_normal_path PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_null_bytes PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_empty_string PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_non_string PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_outside_allowed_dir PASSED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_system_directory SKIPPED [ 34%]
tests/unit/orchestration/test_config_store.py::TestPathValidation::test_validate_file_path_within_allowed_dir PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestTaskAnalysisDeterminism::test_simple_task_classification_deterministic PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestTaskAnalysisDeterminism::test_moderate_task_classification_deterministic PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestTaskAnalysisDeterminism::test_complex_task_classification_deterministic PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestTaskAnalysisDeterminism::test_domain_classification_accuracy PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestTaskAnalysisDeterminism::test_capability_extraction_comprehensive PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestTaskAnalysisDeterminism::test_empty_task_handled_gracefully PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestAgentSelectionLogic::test_agents_match_required_capabilities PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestAgentSelectionLogic::test_agent_count_matches_complexity SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestAgentSelectionLogic::test_no_duplicate_agents_selected PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestCompositionPatternSelection::test_parallel_pattern_for_parallelizable_tasks SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestCompositionPatternSelection::test_sequential_pattern_for_dependent_tasks SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestCompositionPatternSelection::test_refinement_pattern_for_quality_gates SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestCompositionPatternSelection::test_pattern_selection_respects_agent_count SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestQualityGatesEnforcement::test_quality_gates_copied_to_execution_plan SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestQualityGatesEnforcement::test_minimum_quality_gate_defaults SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestCostAndDurationEstimation::test_cost_estimation_increases_with_complexity SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestCostAndDurationEstimation::test_duration_estimation_reasonable SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestLearningLoopIntegration::test_successful_execution_increases_pattern_confidence SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestLearningLoopIntegration::test_failed_execution_decreases_pattern_confidence SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestFailureHandlingAndRecovery::test_missing_agent_templates_handled PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestFailureHandlingAndRecovery::test_invalid_pattern_selection_fallback SKIPPED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestConcurrentTaskHandling::test_concurrent_task_analysis_isolated PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestMetaOrchestratorIntegration::test_end_to_end_task_orchestration PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestMetaOrchestratorIntegration::test_orchestration_with_quality_gates PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestration_architecture.py::TestResourceLimits::test_max_agent_count_not_exceeded PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskRequirements::test_task_requirements_creation PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskRequirements::test_task_requirements_defaults PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestMetaOrchestratorInit::test_initialization PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestMetaOrchestratorInit::test_keyword_patterns_defined PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_complexity_simple PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_complexity_moderate PASSED [ 34%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_complexity_complex PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_complexity_default PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_testing PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_security PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_code_quality PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_documentation PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_performance PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_architecture PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_refactoring PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_classify_domain_default PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_extract_capabilities_from_domain PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_extract_capabilities_with_context PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_is_parallelizable_release_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_is_parallelizable_sequential_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_is_parallelizable_complex_default PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestTaskAnalysis::test_analyze_task_end_to_end PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAgentSelection::test_select_agents_by_capability PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAgentSelection::test_select_agents_security_domain PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAgentSelection::test_select_agents_no_matches_uses_default PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAgentSelection::test_get_default_agents_testing PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAgentSelection::test_get_default_agents_security PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCompositionPatternSelection::test_choose_pattern_single_agent_sequential PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCompositionPatternSelection::test_choose_pattern_parallelizable_parallel PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCompositionPatternSelection::test_choose_pattern_testing_sequential PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCompositionPatternSelection::test_choose_pattern_security_parallel PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCompositionPatternSelection::test_choose_pattern_documentation_teaching PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCompositionPatternSelection::test_choose_pattern_refactoring_refinement PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCostEstimation::test_estimate_cost_cheap_agent PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCostEstimation::test_estimate_cost_premium_agent PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCostEstimation::test_estimate_duration_sequential PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestCostEstimation::test_estimate_duration_parallel PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_basic PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_with_context PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_testing_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_security_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_release_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_documentation_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_refactoring_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestAnalyzeAndCompose::test_analyze_and_compose_invalid_task PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestEdgeCases::test_empty_capabilities_uses_defaults PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestEdgeCases::test_general_domain_uses_code_reviewer PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestEdgeCases::test_multiple_domain_keywords_highest_score PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestIntegration::test_test_coverage_boost_workflow PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestIntegration::test_release_preparation_workflow PASSED [ 35%]
tests/unit/orchestration/test_meta_orchestrator.py::TestIntegration::test_security_audit_workflow PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowReference::test_valid_id_reference PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowReference::test_valid_inline_reference PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowReference::test_invalid_both_specified PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowReference::test_invalid_neither_specified PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_initial_state PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_custom_max_depth PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_can_nest_within_limit PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_cannot_nest_at_limit PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_cycle_detection PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_enter_increments_depth PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_enter_preserves_stack PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_from_context_creates_new PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_from_context_extracts_existing PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestingContext::test_to_context_adds_nesting PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowRegistry::test_register_workflow PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowRegistry::test_get_workflow_success PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestWorkflowRegistry::test_get_workflow_not_found PASSED [ 35%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedStrategy::test_execute_by_id PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedStrategy::test_execute_inline PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedStrategy::test_depth_limit_exceeded PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedStrategy::test_cycle_detection PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedStrategy::test_context_inheritance PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestStepDefinition::test_valid_agent_step PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestStepDefinition::test_valid_workflow_step PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestStepDefinition::test_invalid_both PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestStepDefinition::test_invalid_neither PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedIntegration::test_strategy_registry_includes_nested PASSED [ 36%]
tests/unit/orchestration/test_nested_strategy.py::TestNestedIntegration::test_three_level_nesting PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestExecutionRecord::test_create_record PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestExecutionRecord::test_to_dict PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestExecutionRecord::test_from_dict PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternStats::test_initial_state PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternStats::test_update_success PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternStats::test_update_failure PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternStats::test_multiple_updates PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternStats::test_to_dict_includes_computed PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestContextSignature::test_from_context PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestContextSignature::test_identical_similarity PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestContextSignature::test_different_task_types PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestContextSignature::test_partial_task_match PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestContextSignature::test_agent_count_similarity PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestLearningStore::test_add_and_retrieve PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestLearningStore::test_persistence PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestLearningStore::test_get_all_stats_sorted PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestLearningStore::test_find_similar_records PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternRecommender::test_recommend_from_similar PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternRecommender::test_statistical_fallback PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternRecommender::test_recommendation_contains_metrics PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternLearner::test_record_and_recommend PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternLearner::test_get_stats PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternLearner::test_report PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternLearner::test_empty_report PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestPatternLearner::test_save_and_load PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestLearnerIntegration::test_learning_improves_recommendations PASSED [ 36%]
tests/unit/orchestration/test_pattern_learner.py::TestLearnerIntegration::test_singleton_access PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_valid_path_returns_resolved_path PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_empty_path_raises_value_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_none_path_raises_value_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_null_byte_in_path_raises_value_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_system_directory_etc_raises_value_error SKIPPED instead) [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_system_directory_sys_raises_value_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_system_directory_proc_raises_value_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::Test_ValidateFilePath::test_system_directory_dev_raises_value_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzer::test_init_resolves_project_root PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzer::test_analyze_with_existing_fresh_coverage_uses_cached PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzer::test_analyze_with_stale_coverage_regenerates PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzer::test_analyze_missing_coverage_file_raises_runtime_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzer::test_analyze_identifies_low_coverage_files PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditor::test_init_resolves_project_root PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditor::test_audit_with_no_issues_returns_clean_report PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditor::test_audit_with_high_severity_issues_returns_correct_count PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditor::test_audit_without_bandit_raises_runtime_error PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzer::test_init_resolves_project_root PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzer::test_analyze_with_clean_code_returns_perfect_score PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzer::test_analyze_with_linting_issues_reduces_score PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzer::test_analyze_without_tools_returns_fallback_score PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzer::test_init_resolves_project_root PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzer::test_analyze_with_fully_documented_code_returns_100_percent PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzer::test_analyze_with_missing_docstrings_returns_lower_score PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzer::test_analyze_empty_project_returns_100_percent PASSED [ 36%]
tests/unit/orchestration/test_real_tools.py::TestDataclasses::test_coverage_report_creation PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestDataclasses::test_security_report_creation PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestDataclasses::test_quality_report_creation PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestDataclasses::test_documentation_report_creation PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_init_creates_output_directory PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_init_without_api_key_disables_llm PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_init_with_api_key_enables_llm PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_init_with_missing_anthropic_package_disables_llm PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_generate_basic_test_template PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_generate_tests_for_nonexistent_file_raises_error PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_generate_tests_validates_output_path PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_generate_llm_tests_with_successful_response PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_generate_llm_tests_with_markdown_wrapped_response PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_generate_llm_tests_fallback_on_api_error PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_extract_api_docs_with_valid_code PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestGenerator::test_extract_api_docs_with_invalid_code PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestValidator::test_init_resolves_project_root PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestValidator::test_validate_tests_with_passing_tests PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestValidator::test_validate_tests_with_failing_tests PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestValidator::test_validate_tests_timeout_raises_runtime_error PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestValidator::test_validate_tests_subprocess_error_raises_runtime_error PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealTestValidator::test_validate_tests_limits_output_size PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzerEdgeCases::test_analyze_timeout_uses_partial_results PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCoverageAnalyzerEdgeCases::test_analyze_json_decode_error_raises_runtime_error PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditorEdgeCases::test_audit_with_invalid_json_returns_clean_report PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditorEdgeCases::test_audit_timeout_raises_runtime_error PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditorEdgeCases::test_audit_with_critical_severity_issues PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealSecurityAuditorEdgeCases::test_audit_groups_issues_by_file PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_analyze_counts_python_files PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_run_ruff_with_file_not_found_returns_zero PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_run_ruff_with_exception_returns_zero PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_run_mypy_with_file_not_found_returns_zero PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_run_mypy_with_exception_returns_zero PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_run_mypy_counts_error_lines PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealCodeQualityAnalyzerEdgeCases::test_quality_score_calculation PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzerEdgeCases::test_analyze_skips_dunder_files PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzerEdgeCases::test_analyze_handles_parse_errors_gracefully PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzerEdgeCases::test_analyze_counts_private_vs_public PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestRealDocumentationAnalyzerEdgeCases::test_analyze_limits_missing_docstrings_to_10 PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestToolRegistry::test_all_tools_are_registered PASSED [ 37%]
tests/unit/orchestration/test_real_tools.py::TestToolRegistry::test_all_registered_tools_are_callable PASSED [ 37%]
tests/unit/patterns/test_core.py::TestPatternCategory::test_all_categories_defined PASSED [ 37%]
tests/unit/patterns/test_core.py::TestPatternCategory::test_category_string_values PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_create_pattern_with_valid_data PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_category_enum_conversion PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_missing_required_fields PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_invalid_category PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_frequency_negative PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_reusability_out_of_range PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_examples_default_empty_list PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_to_dict PASSED [ 37%]
tests/unit/patterns/test_core.py::TestBasePattern::test_pattern_from_dict PASSED [ 37%]
tests/unit/patterns/test_core.py::TestCodeGeneratorMixin::test_generate_code_not_implemented PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_step_config_creation PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_step_config_review_step PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_linear_flow_pattern_creation PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_linear_flow_generate_endpoints PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_linear_flow_generate_code PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_phase_config_creation PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_phased_processing_pattern PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_phased_processing_generate_code PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestStructuralPatterns::test_session_based_pattern PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestInputPatterns::test_field_definition_creation PASSED [ 37%]
tests/unit/patterns/test_patterns.py::TestInputPatterns::test_structured_fields_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestInputPatterns::test_structured_fields_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestInputPatterns::test_code_analysis_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestInputPatterns::test_context_based_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestValidationPatterns::test_config_validation_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestValidationPatterns::test_config_validation_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestValidationPatterns::test_step_validation_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestValidationPatterns::test_step_validation_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestValidationPatterns::test_approval_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestValidationPatterns::test_approval_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_risk_level_creation PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_risk_assessment_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_risk_assessment_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_ai_enhancement_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_ai_enhancement_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_prediction_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestBehaviorPatterns::test_fix_application_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestEmpathyPatterns::test_empathy_level_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestEmpathyPatterns::test_empathy_level_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestEmpathyPatterns::test_educational_banner_pattern PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestEmpathyPatterns::test_educational_banner_generate_code PASSED [ 38%]
tests/unit/patterns/test_patterns.py::TestEmpathyPatterns::test_user_guidance_pattern PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_registry_starts_empty PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_register_pattern PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_register_duplicate_id_raises_error PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_get_existing_pattern PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_get_nonexistent_pattern PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_list_all_patterns PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_list_by_category PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_search_by_name_case_insensitive PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_search_by_description PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_search_case_sensitive PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_search_no_results PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_recommend_for_healthcare_wizard PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_recommend_for_coach_wizard PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_recommend_for_ai_wizard PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_recommendations_no_duplicates PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestPatternRegistry::test_get_statistics PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestGlobalRegistry::test_get_pattern_registry_singleton PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestGlobalRegistry::test_global_registry_loads_patterns PASSED [ 38%]
tests/unit/patterns/test_registry.py::TestGlobalRegistry::test_global_registry_pattern_details PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_no_command_prints_help PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_refresh_command PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_summary_command PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_report_command PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_query_command PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_file_command PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestMain::test_main_json_flag PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdRefresh::test_refresh_success PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdSummary::test_summary_no_index PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdSummary::test_summary_text_output PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdSummary::test_summary_json_output PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdSummary::test_summary_no_critical_files PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_no_index PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_health_markdown PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_health_json PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_test_gap_json PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_staleness_json PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_coverage_json PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_sprint_json PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdReport::test_report_default_markdown PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_no_index PASSED [ 38%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_needing_tests PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_stale PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_high_impact PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_attention PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_all PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_limit PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_json_output PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdQuery::test_query_unknown_type PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdFile::test_file_no_index PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdFile::test_file_not_found PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdFile::test_file_text_output PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdFile::test_file_json_output PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdFile::test_file_stale PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCmdFile::test_file_needs_attention PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCLIIntegration::test_end_to_end_workflow PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCLIIntegration::test_all_report_types PASSED [ 39%]
tests/unit/project_index/test_cli.py::TestCLIIntegration::test_all_query_types PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileCategory::test_all_categories_exist PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileCategory::test_category_values PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileCategory::test_category_from_string PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestTestRequirement::test_all_requirements_exist PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestTestRequirement::test_requirement_from_string PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileRecord::test_basic_creation PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileRecord::test_full_creation PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileRecord::test_to_dict PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileRecord::test_from_dict PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileRecord::test_from_dict_defaults PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestFileRecord::test_roundtrip PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestProjectSummary::test_default_creation PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestProjectSummary::test_full_creation PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestProjectSummary::test_to_dict PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestProjectSummary::test_from_dict PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestProjectSummary::test_from_dict_defaults PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestProjectSummary::test_roundtrip PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_default_creation PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_custom_creation PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_default_exclude_patterns PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_default_no_test_patterns PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_to_dict PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_from_dict PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_from_dict_partial PASSED [ 39%]
tests/unit/project_index/test_project_index_models.py::TestIndexConfig::test_roundtrip PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestReportGeneratorInit::test_basic_init PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestReportGeneratorInit::test_filters_source_records PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestReportGeneratorInit::test_empty_records PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestGapReport::test_basic_gap_report PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestGapReport::test_gap_report_prioritization PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestGapReport::test_gap_report_excludes_tested_files PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestGapReport::test_gap_report_excludes_optional PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestGapReport::test_gap_report_high_impact_count PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestGapReport::test_gap_report_by_directory PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestRecommendations::test_high_impact_recommendation PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestTestRecommendations::test_batch_recommendation PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestStalenessReport::test_basic_staleness_report PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestStalenessReport::test_staleness_sorting PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestStalenessReport::test_staleness_excludes_fresh PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestStalenessReport::test_staleness_average_calculation PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestStalenessReport::test_staleness_empty PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestCoverageReport::test_basic_coverage_report PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestCoverageReport::test_coverage_excludes_zero PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestCoverageReport::test_low_coverage_files_sorted PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestCoverageReport::test_coverage_by_directory PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestHealthReport::test_basic_health_report PASSED [ 39%]
tests/unit/project_index/test_reports.py::TestHealthReport::test_health_score_calculation PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestHealthReport::test_health_grades PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestHealthReport::test_health_score_bounds PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_coverage_strength PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_documentation_strength PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_typing_strength PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_no_stale_strength PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_low_coverage_concern PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_missing_tests_concern PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestStrengthsAndConcerns::test_identify_stale_concern PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestActionItems::test_action_items_for_critical_untested PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestActionItems::test_action_items_for_stale PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestSprintPlanningReport::test_basic_sprint_report PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestSprintPlanningReport::test_sprint_respects_capacity PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestSprintPlanningReport::test_sprint_prioritizes_by_impact PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestSprintPlanningReport::test_effort_estimation PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestMarkdownReports::test_health_markdown PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestMarkdownReports::test_test_gap_markdown PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestMarkdownReports::test_staleness_markdown PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestMarkdownReports::test_unknown_report_type_defaults_to_health PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestGroupByDirectory::test_basic_grouping PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestGroupByDirectory::test_root_level_files PASSED [ 40%]
tests/unit/project_index/test_reports.py::TestGroupByDirectory::test_empty_records PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestXmlPromptConfigCreation::test_create_default_config PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestXmlPromptConfigCreation::test_create_with_custom_values PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestMergeWith::test_merge_overwrites_enabled PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestMergeWith::test_merge_preserves_base_when_other_false PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestMergeWith::test_merge_combines_extra_dicts PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestMergeWith::test_merge_template_name PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestMergeWith::test_merge_preserves_base_template_when_other_none PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestFromDict::test_from_dict_with_all_fields PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestFromDict::test_from_dict_with_defaults PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestToDict::test_to_dict_with_defaults PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestToDict::test_to_dict_with_custom_values PASSED [ 40%]
tests/unit/prompts/test_config_coverage_boost.py::TestRoundTrip::test_round_trip_from_dict_to_dict PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestFinding::test_create_finding_with_all_fields PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestFinding::test_create_finding_with_defaults PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestFinding::test_finding_to_dict PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestFinding::test_finding_from_dict PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestFinding::test_finding_from_dict_with_missing_fields PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_create_parsed_response_with_all_fields PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_create_parsed_response_with_defaults PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_parsed_response_to_dict PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_parsed_response_from_dict PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_parsed_response_from_raw PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_parsed_response_from_raw_truncates_long_summary PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParsedResponse::test_parsed_response_from_raw_with_empty_text PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserInit::test_parser_initializes_with_fallback_enabled PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserInit::test_parser_initializes_with_fallback_disabled PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserInit::test_parser_defaults_to_fallback_enabled PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_valid_xml_response PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_empty_response PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_response_without_xml PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_malformed_xml_with_fallback PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_malformed_xml_without_fallback PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_xml_in_markdown_code_block PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_xml_in_generic_code_block PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestXmlResponseParserParse::test_parse_response_without_xml_raises_when_fallback_disabled PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractXml::test_extract_xml_from_markdown_xml_block PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractXml::test_extract_xml_from_generic_code_block PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractXml::test_extract_xml_with_response_tags PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractXml::test_extract_xml_direct PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractXml::test_extract_xml_returns_none_for_no_xml PASSED [ 40%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractText::test_extract_text_from_xml_element PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractText::test_extract_text_strips_whitespace PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractText::test_extract_text_returns_none_for_missing_tag PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractFindings::test_extract_findings_from_xml PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractFindings::test_extract_findings_returns_empty_for_no_findings PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParseFinding::test_parse_finding_with_all_fields PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestParseFinding::test_parse_finding_defaults_severity_to_medium PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractChecklist::test_extract_remediation_checklist PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractChecklist::test_extract_generic_checklist PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractChecklist::test_extract_checklist_returns_empty_for_no_checklist PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractExtra::test_extract_verdict PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractExtra::test_extract_confidence PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractExtra::test_extract_key_insights PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractExtra::test_extract_suggestions PASSED [ 41%]
tests/unit/prompts/test_parser_coverage_boost.py::TestExtractExtra::test_extract_extra_returns_empty_for_no_extra_fields PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_basic_creation PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_full_creation PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_role_required PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_goal_required PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_for_security_audit PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_for_code_review PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_for_code_review_defaults PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_for_research PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_with_extra PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestPromptContext::test_with_extra_overwrite PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestFinding::test_basic_creation PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestFinding::test_full_creation PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestFinding::test_to_dict PASSED     [ 41%]
tests/unit/prompts/test_prompts.py::TestFinding::test_from_dict PASSED   [ 41%]
tests/unit/prompts/test_prompts.py::TestFinding::test_from_dict_defaults PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestFinding::test_roundtrip PASSED   [ 41%]
tests/unit/prompts/test_prompts.py::TestParsedResponse::test_basic_creation PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestParsedResponse::test_full_creation PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestParsedResponse::test_from_raw PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestParsedResponse::test_from_raw_long_text PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestParsedResponse::test_to_dict PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestParsedResponse::test_from_dict PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_empty_response PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_no_xml PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_simple_xml PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_xml_in_markdown PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_xml_in_generic_code_block PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_findings PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_findings_items PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_checklist PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_generic_checklist PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_extra_verdict PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_extra_confidence PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_extra_suggestions PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_invalid_xml_fallback PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_invalid_xml_no_fallback PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_parse_no_xml_no_fallback PASSED [ 41%]
tests/unit/prompts/test_prompts.py::TestXmlResponseParser::test_extract_xml_response_tags PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestBuiltinTemplatesDict::test_builtin_templates_is_dict PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestBuiltinTemplatesDict::test_builtin_templates_has_expected_keys PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestBuiltinTemplatesDict::test_all_builtin_templates_are_xml_prompt_template_instances PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestBuiltinTemplatesDict::test_all_builtin_templates_have_name PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestBuiltinTemplatesDict::test_all_builtin_templates_have_schema_version PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestBuiltinTemplatesDict::test_all_builtin_templates_have_response_format PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestGetTemplate::test_get_template_returns_template_for_valid_name PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestGetTemplate::test_get_template_returns_none_for_invalid_name PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestGetTemplate::test_get_template_returns_none_for_empty_string PASSED [ 41%]
tests/unit/prompts/test_registry_coverage_boost.py::TestGetTemplate::test_get_template_for_all_builtin_templates PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestGetTemplate::test_get_template_returns_same_instance PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestListTemplates::test_list_templates_returns_list PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestListTemplates::test_list_templates_contains_all_builtin_templates PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestListTemplates::test_list_templates_returns_strings PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestListTemplates::test_list_templates_count_matches_builtin_count PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestRegisterTemplate::test_register_template_adds_new_template PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestRegisterTemplate::test_register_template_overwrites_existing PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestRegisterTemplate::test_register_template_accessible_via_get_template PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestRegisterTemplate::test_register_template_appears_in_list_templates PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_security_audit_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_code_review_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_research_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_bug_analysis_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_perf_audit_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_refactor_plan_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_test_gen_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_doc_gen_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_release_prep_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatConstants::test_dependency_check_response_is_string PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_security_audit_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_code_review_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_research_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_bug_analysis_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_perf_audit_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_refactor_plan_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_test_gen_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_doc_gen_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_release_prep_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestTemplateIntegrity::test_dependency_check_template_uses_correct_response_format PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatStructure::test_security_audit_response_contains_xml_tags PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatStructure::test_code_review_response_contains_verdict PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatStructure::test_perf_audit_response_contains_performance_score PASSED [ 42%]
tests/unit/prompts/test_registry_coverage_boost.py::TestResponseFormatStructure::test_release_prep_response_contains_checklist PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_initial_state_is_closed PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_opens_after_failure_threshold PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_stays_closed_below_threshold PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_success_resets_failure_count PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_transitions_to_half_open_after_timeout PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_closes_after_successful_half_open_calls PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStates::test_reopens_on_failure_in_half_open PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerExcludedExceptions::test_excluded_exception_does_not_count PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerExcludedExceptions::test_non_excluded_exception_counts PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerTimingMethods::test_get_time_until_reset_when_open PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerTimingMethods::test_get_time_until_reset_when_closed PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerTimingMethods::test_manual_reset PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerStats::test_get_stats_returns_dict PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerDecorator::test_decorator_wraps_sync_function PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerDecorator::test_decorator_wraps_async_function PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerDecorator::test_decorator_raises_circuit_open_error PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerDecorator::test_decorator_with_fallback PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_get_circuit_breaker_returns_same_instance PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_get_nonexistent_returns_none PASSED [ 42%]
tests/unit/resilience/test_circuit_breaker.py::TestCircuitOpenError::test_error_contains_name_and_reset_time PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_create_fallback_with_name PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_create_fallback_with_default PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_add_function_returns_self PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_add_multiple_functions PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_first_function_succeeds PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_falls_back_on_failure PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_multiple_failures_uses_last_working PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_uses_default_when_all_fail PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_raises_last_exception_no_default PASSED [ 42%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_with_no_functions_raises PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_async_function PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_mixed_sync_async PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDataclass::test_execute_passes_arguments PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_decorator_preserves_function_name PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_sync_function_returns_value PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_sync_function_uses_fallback PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_sync_function_uses_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_sync_function_raises_when_no_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_async_function_returns_value PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_async_function_uses_fallback PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_async_function_with_async_fallback PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_async_function_uses_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_async_function_raises_when_no_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_multiple_fallbacks PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_log_failures_true_by_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_log_failures_false PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackDecorator::test_passes_arguments PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_primary_succeeds PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_uses_fallback PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_multiple_fallbacks PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_uses_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_raises_when_no_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_passes_arguments PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_async_primary PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestWithFallback::test_with_fallback_async_fallback PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackEdgeCases::test_none_default_value PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackEdgeCases::test_empty_fallbacks_list PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackEdgeCases::test_decorated_function_preserves_docstring PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackEdgeCases::test_fallback_chain_order_preserved PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackEdgeCases::test_fallback_with_zero_default PASSED [ 43%]
tests/unit/resilience/test_fallback.py::TestFallbackEdgeCases::test_fallback_with_empty_string_default PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthStatus::test_healthy_status PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthStatus::test_degraded_status PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthStatus::test_unhealthy_status PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthStatus::test_unknown_status PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckResult::test_create_healthy_result PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckResult::test_create_result_with_details PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckResult::test_result_has_timestamp PASSED [ 43%]
tests/unit/resilience/test_health.py::TestSystemHealth::test_create_system_health PASSED [ 43%]
tests/unit/resilience/test_health.py::TestSystemHealth::test_to_dict PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_register_check_as_decorator PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_register_check_with_timeout PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_register_critical_check PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_check_returns_healthy PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_check_returns_unhealthy PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_check_with_dict_response PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_check_handles_exception PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_check_tracks_latency PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_all_checks PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_all_with_unhealthy_check PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckClass::test_run_all_sync PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckAsync::test_async_check_function PASSED [ 43%]
tests/unit/resilience/test_health.py::TestHealthCheckAsync::test_run_all_parallel PASSED [ 43%]
tests/unit/resilience/test_health.py::TestGlobalHealthCheck::test_get_health_check_returns_instance PASSED [ 43%]
tests/unit/resilience/test_health.py::TestGlobalHealthCheck::test_get_health_check_returns_same_instance PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryConfig::test_default_values PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryConfig::test_custom_values PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryConfigDelay::test_get_delay_first_attempt PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryConfigDelay::test_get_delay_exponential_growth PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryConfigDelay::test_get_delay_capped_at_max PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryConfigDelay::test_get_delay_with_jitter PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryDecorator::test_succeeds_on_first_attempt PASSED [ 43%]
tests/unit/resilience/test_retry.py::TestRetryDecorator::test_succeeds_after_transient_failures PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryDecorator::test_raises_after_max_attempts PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryDecorator::test_retryable_exceptions_filter PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryDecorator::test_on_retry_callback_called PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryDecoratorAsync::test_async_succeeds_on_first_attempt PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryDecoratorAsync::test_async_succeeds_after_failures PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryDecoratorAsync::test_async_raises_after_max_attempts PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryWithBackoff::test_retry_with_backoff_success PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryWithBackoff::test_retry_with_backoff_transient_failure PASSED [ 44%]
tests/unit/resilience/test_retry.py::TestRetryWithBackoff::test_retry_with_backoff_sync_function PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutError::test_create_timeout_error PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutError::test_timeout_error_message PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutError::test_timeout_error_is_exception PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutError::test_can_raise_timeout_error PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_decorated_async_completes_in_time PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_decorated_async_times_out PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_custom_error_message PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_fallback_on_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_async_fallback_on_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_preserves_function_name PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_passes_arguments PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_fallback_receives_arguments PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_zero_timeout_immediately_times_out PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorAsync::test_return_value_preserved PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorSync::test_decorated_sync_completes_in_time PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorSync::test_decorated_sync_times_out PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorSync::test_sync_fallback_on_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorSync::test_preserves_sync_function_name PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutDecoratorSync::test_windows_runs_without_timeout SKIPPED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_coroutine_completes_in_time PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_coroutine_times_out PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_fallback_value_on_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_fallback_none_raises PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_fallback_value_types PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_return_value_preserved PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestWithTimeout::test_zero_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_very_small_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_large_timeout PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_exception_propagation PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_multiple_decorated_calls PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_concurrent_timeout_calls PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_nested_timeouts PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_cancellation_cleanup PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_fallback_exception_propagates PASSED [ 44%]
tests/unit/resilience/test_timeout.py::TestTimeoutEdgeCases::test_decorator_with_no_args_uses_default PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainTrigger::test_chain_trigger_initialization PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainTrigger::test_chain_trigger_defaults PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainConfig::test_chain_config_initialization PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainConfig::test_chain_config_with_triggers PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainConfig::test_chain_config_defaults PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainStep::test_chain_step_initialization PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainStep::test_chain_step_with_result PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainStep::test_chain_step_with_timestamps PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainStep::test_chain_step_approval_states PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainExecution::test_chain_execution_initialization PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainExecution::test_chain_execution_with_steps PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainExecution::test_chain_execution_status_values PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainExecution::test_chain_execution_timestamps PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainExecutorInitialization::test_chain_executor_can_be_created PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestChainExecutorInitialization::test_chain_executor_with_nonexistent_config PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestConfigurationLoading::test_load_config_from_yaml_file PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestConfigurationLoading::test_load_config_handles_invalid_yaml PASSED [ 44%]
tests/unit/routing/test_chain_executor.py::TestTriggerEvaluation::test_evaluate_numeric_greater_than PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTriggerEvaluation::test_evaluate_equality_condition PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTriggerEvaluation::test_evaluate_not_equal_condition PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTriggerEvaluation::test_evaluate_handles_missing_variable PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTriggerEvaluation::test_should_trigger_chain PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_create_execution_with_initial_workflow PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_create_execution_with_triggered_steps PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_approve_step PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_reject_step PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_approve_invalid_step_index PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_get_next_step_returns_first_incomplete PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_get_next_step_waits_for_approval PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_get_next_step_skips_rejected PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_complete_step_marks_complete PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_complete_step_triggers_new_chains PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_complete_step_does_not_duplicate_wizards PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainExecutionManagement::test_complete_step_completes_execution PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTemplateManagement::test_get_template_returns_steps PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTemplateManagement::test_get_nonexistent_template_returns_none PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestTemplateManagement::test_list_templates_returns_all PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_is_numeric_with_int PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_is_numeric_with_float PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_is_numeric_with_numeric_string PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_is_numeric_with_non_numeric PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_parse_value_boolean PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_parse_value_null PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_parse_value_numbers PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_parse_value_strings PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_get_nested_simple PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_get_nested_deep_path PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestHelperFunctions::test_get_nested_missing_path PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainDataClassIntegration::test_complete_chain_workflow_structure PASSED [ 45%]
tests/unit/routing/test_chain_executor.py::TestChainDataClassIntegration::test_chain_execution_lifecycle PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationResultDataClass::test_classification_result_initialization PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationResultDataClass::test_classification_result_defaults PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationResultDataClass::test_classification_result_with_no_secondary PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestHaikuClassifierInitialization::test_classifier_can_be_created PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestHaikuClassifierInitialization::test_classifier_with_api_key PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestHaikuClassifierInitialization::test_classifier_without_api_key PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestHaikuClassifierInitialization::test_classifier_lazy_client_loading PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_sync_returns_result PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_code_review_keywords PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_security_keywords PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_test_generation_keywords PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_with_no_matches PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_with_context PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordClassification::test_classify_case_insensitive PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordScoring::test_single_keyword_match PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordScoring::test_multiple_keyword_matches PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordScoring::test_exact_word_match_bonus PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordScoring::test_secondary_wizard_selection PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestKeywordScoring::test_secondary_requires_significant_score PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationEdgeCases::test_classify_empty_request PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationEdgeCases::test_classify_whitespace_only PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationEdgeCases::test_classify_special_characters PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClassificationEdgeCases::test_classify_very_long_request PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestConfidenceScoring::test_confidence_range PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestConfidenceScoring::test_confidence_higher_for_multiple_matches PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestConfidenceScoring::test_no_match_has_low_confidence PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestReasoningExplanation::test_reasoning_provided_for_keyword_match PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestReasoningExplanation::test_reasoning_explains_default_fallback PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClientLazyLoading::test_get_client_without_api_key PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestClientLazyLoading::test_get_client_with_api_key PASSED [ 45%]
tests/unit/routing/test_classifier.py::TestAvailableWizardsOverride::test_keyword_classify_uses_registry PASSED [ 46%]
tests/unit/routing/test_classifier.py::TestAvailableWizardsOverride::test_classify_with_limited_wizards PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowInfo::test_wizard_info_creation PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowInfo::test_wizard_info_defaults PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowInfo::test_wizard_info_with_chain_triggers PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_registry_initializes_with_defaults PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_register_new_wizard PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_get_returns_none_for_unknown PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_find_by_domain PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_find_by_keyword PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_find_by_keyword_case_insensitive PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_get_descriptions_for_classification PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_get_chain_triggers PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_get_chain_triggers_empty_for_no_autochain PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_unregister PASSED [ 46%]
tests/unit/routing/test_routing.py::TestWorkflowRegistry::test_unregister_nonexistent PASSED [ 46%]
tests/unit/routing/test_routing.py::TestClassificationResult::test_classification_result_creation PASSED [ 46%]
tests/unit/routing/test_routing.py::TestClassificationResult::test_classification_result_defaults PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classifier_initialization PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classifier_keyword_classify_security PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classifier_keyword_classify_performance PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classifier_keyword_classify_testing PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classifier_keyword_classify_default PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classifier_keyword_classify_secondary_workflows PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classify_sync PASSED [ 46%]
tests/unit/routing/test_routing.py::TestHaikuClassifier::test_classify_sync_with_context PASSED [ 46%]
tests/unit/routing/test_routing.py::TestRoutingDecision::test_routing_decision_creation PASSED [ 46%]
tests/unit/routing/test_routing.py::TestRoutingDecision::test_routing_decision_defaults PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_router_initialization PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_route_sync_security PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_route_sync_with_context PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_route_sync_builds_chain PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_get_workflow_info PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_get_workflow_info_unknown PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_list_workflows PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_file_python PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_file_javascript PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_file_requirements PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_file_unknown_type PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_error_security PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_error_type PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_error_timeout PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_error_import PASSED [ 46%]
tests/unit/routing/test_routing.py::TestSmartRouter::test_suggest_for_error_unknown PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_security_audit_keywords PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_code_review_file_types PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_bug_predict_domain PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_perf_audit_auto_chain PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_refactor_plan_no_auto_chain PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_all_wizards_have_descriptions PASSED [ 46%]
tests/unit/routing/test_routing.py::TestDefaultWorkflowRegistry::test_all_wizards_have_keywords PASSED [ 46%]
tests/unit/routing/test_routing.py::TestChainBuilding::test_build_chain_includes_primary PASSED [ 46%]
tests/unit/routing/test_routing.py::TestChainBuilding::test_build_chain_includes_secondary PASSED [ 46%]
tests/unit/routing/test_routing.py::TestChainBuilding::test_build_chain_adds_triggers PASSED [ 46%]
tests/unit/routing/test_routing.py::TestChainBuilding::test_build_chain_no_duplicates PASSED [ 46%]
tests/unit/routing/test_routing.py::TestAsyncRouting::test_route_async PASSED [ 46%]
tests/unit/routing/test_routing.py::TestAsyncRouting::test_classify_async_fallback PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_scan_empty_directory PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_scan_single_file PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_scan_nested_directories PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_file_categorization_source PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_file_categorization_test PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_file_categorization_config PASSED [ 46%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_lines_of_code_counting PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_import_detection PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestBasicTraversal::test_summary_statistics PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestIgnorePatterns::test_exclude_pycache PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestIgnorePatterns::test_exclude_git_directory PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestIgnorePatterns::test_exclude_node_modules PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestIgnorePatterns::test_exclude_build_artifacts PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestIgnorePatterns::test_wildcard_patterns PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestPerformanceCaching::test_scan_performance_reasonable PASSED [ 47%]
tests/unit/scanner/test_file_traversal.py::TestPerformanceCaching::test_rescan_performance PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestGitignoreRespect::test_scanner_excludes_git_directory PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestGitignoreRespect::test_scanner_excludes_pycache_directory PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestGitignoreRespect::test_scanner_excludes_venv_directory PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestGitignoreRespect::test_scanner_excludes_node_modules PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestGitignoreRespect::test_scanner_respects_custom_gitignore_patterns PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSensitiveFileBlocking::test_scanner_blocks_env_files PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSensitiveFileBlocking::test_scanner_blocks_credential_files PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSensitiveFileBlocking::test_scanner_excludes_git_internals PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSensitiveFileBlocking::test_scanner_excludes_build_artifacts PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSensitiveFileBlocking::test_scanner_excludes_lock_files PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSymlinkHandling::test_scanner_handles_external_symlinks PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSymlinkHandling::test_scanner_handles_circular_symlinks PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSymlinkHandling::test_scanner_handles_broken_symlinks PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestPathTraversalPrevention::test_scanner_stays_within_project_root PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestPathTraversalPrevention::test_scanner_validates_project_root_is_directory PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestPathTraversalPrevention::test_scanner_handles_deeply_nested_paths PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestPermissionErrorHandling::test_scanner_handles_unreadable_directory PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestPermissionErrorHandling::test_scanner_handles_unreadable_file PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestPermissionErrorHandling::test_scanner_handles_deleted_file_during_scan PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestLargeDirectoryHandling::test_scanner_handles_many_files PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestLargeDirectoryHandling::test_scanner_respects_exclude_patterns_for_performance PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestLargeDirectoryHandling::test_scanner_handles_deep_nesting_efficiently PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSecurityIntegration::test_scanner_comprehensive_security PASSED [ 47%]
tests/unit/scanner/test_scanner_security.py::TestSecurityIntegration::test_scanner_full_scan_security PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_blocks_absolute_system_paths PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_blocks_traversal_with_allowed_dir_only PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_blocks_null_byte_injection PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_blocks_empty_path PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_allows_valid_paths PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_allowed_dir_restriction PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalPrevention::test_blocks_traversal_with_allowed_dir PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalInPatternAPI::test_export_filename_validated PASSED [ 47%]
tests/unit/security/test_path_traversal.py::TestPathTraversalInPatternAPI::test_download_filename_validated PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestSQLInjectionDetection::test_safe_sql_with_placeholders_recognized PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestSQLInjectionDetection::test_safe_sql_with_constant_table_name PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestSQLInjectionDetection::test_unsafe_sql_with_user_data_detected PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestSQLInjectionDetection::test_safe_sql_with_multiple_placeholders PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestRandomUsageDetection::test_random_in_test_file_with_security_note PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestRandomUsageDetection::test_random_with_fixed_seed_is_safe PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestRandomUsageDetection::test_random_in_simulation_is_safe PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestRandomUsageDetection::test_random_in_ab_testing_is_safe PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestRandomUsageDetection::test_random_for_crypto_without_context_unsafe PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDetectionCodeRecognition::test_string_literal_detection_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDetectionCodeRecognition::test_regex_pattern_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDetectionCodeRecognition::test_actual_eval_usage_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDocumentationRecognition::test_comment_line_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDocumentationRecognition::test_docstring_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDocumentationRecognition::test_security_policy_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestDocumentationRecognition::test_actual_code_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestFakeCredentialRecognition::test_example_aws_key_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestFakeCredentialRecognition::test_fake_key_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestFakeCredentialRecognition::test_test_password_not_flagged PASSED [ 47%]
tests/unit/security/test_scanner_phase2_improvements.py::TestFakeCredentialRecognition::test_real_looking_credential_flagged PASSED [ 48%]
tests/unit/security/test_scanner_phase2_improvements.py::TestPhase2Improvements::test_history_py_no_sql_injection_findings SKIPPED [ 48%]
tests/unit/security/test_scanner_phase2_improvements.py::TestPhase2Improvements::test_conftest_py_no_insecure_random_findings SKIPPED [ 48%]
tests/unit/security/test_scanner_phase2_improvements.py::TestPhase2Improvements::test_bug_predict_py_no_command_injection_findings SKIPPED [ 48%]
tests/unit/security/test_scanner_phase2_improvements.py::TestPhase2Improvements::test_full_scan_reduced_false_positives SKIPPED [ 48%]
tests/unit/security/test_scanner_phase2_improvements.py::TestPhase2Documentation::test_safe_sql_method_has_phase2_marker PASSED [ 48%]
tests/unit/security/test_scanner_phase2_improvements.py::TestPhase2Documentation::test_triage_method_has_phase2_comments PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestSQLParameterization::test_history_cleanup_uses_parameterized_queries SKIPPED [ 48%]
tests/unit/security/test_security_remediation.py::TestSQLParameterization::test_sql_injection_attempt_fails_safely SKIPPED [ 48%]
tests/unit/security/test_security_remediation.py::TestRandomUsageDocumentation::test_conftest_has_security_note_in_docstring PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestRandomUsageDocumentation::test_ab_testing_has_security_comment PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestNoActualVulnerabilities::test_no_eval_in_production_code PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestNoActualVulnerabilities::test_sql_queries_use_parameterization PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestCodeSecurity::test_secrets_used_for_security_tokens PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestCodeSecurity::test_no_hardcoded_secrets PASSED [ 48%]
tests/unit/security/test_security_remediation.py::TestSecurityAuditAccuracy::test_reduced_false_positive_rate SKIPPEDn) [ 48%]
tests/unit/security/test_security_remediation.py::TestNoRegressions::test_history_store_basic_operations SKIPPED [ 48%]
tests/unit/security/test_security_remediation.py::TestNoRegressions::test_mock_embeddings_still_reproducible PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_localhost PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_loopback_ipv4 PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_loopback_ipv6 PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_aws_metadata PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_gcp_metadata PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_non_http_schemes PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_internal_service_ports PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_allows_valid_webhooks PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_empty_url PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestSSRFPrevention::test_blocks_url_without_hostname PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestPrivateIPBlocking::test_blocks_class_a_private PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestPrivateIPBlocking::test_blocks_class_b_private PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestPrivateIPBlocking::test_blocks_class_c_private PASSED [ 48%]
tests/unit/security/test_ssrf_prevention.py::TestPrivateIPBlocking::test_blocks_link_local PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperiment::test_create_experiment PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperiment::test_experiment_with_custom_allocation PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestVariant::test_create_variant PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestVariant::test_variant_conversion_rate PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestVariant::test_variant_zero_impressions PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestAllocationStrategy::test_fixed_allocation PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestAllocationStrategy::test_epsilon_greedy PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestAllocationStrategy::test_thompson_sampling PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestAllocationStrategy::test_ucb PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperimentStatus::test_all_statuses_exist PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperimentManager::test_create_manager PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperimentManager::test_create_experiment PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperimentManager::test_get_experiment PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestStatisticalAnalyzer::test_z_test_proportions PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestStatisticalAnalyzer::test_confidence_interval PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestStatisticalAnalyzer::test_t_test_means PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestWorkflowABTester::test_create_tester PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestWorkflowABTester::test_create_workflow_experiment PASSED [ 48%]
tests/unit/socratic/test_ab_testing.py::TestExperimentResult::test_create_result PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestAgentSpec::test_create_agent_spec PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestAgentSpec::test_agent_role PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestAgentSpec::test_agent_serialization PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestAgentSpec::test_agent_has_expected_fields PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestToolSpec::test_create_tool_spec PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestToolSpec::test_tool_serialization PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestStageSpec::test_create_stage_spec PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestStageSpec::test_stage_with_dependencies PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestStageSpec::test_stage_serialization PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestWorkflowBlueprint::test_create_workflow_blueprint PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestWorkflowBlueprint::test_workflow_domain PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestWorkflowBlueprint::test_workflow_serialization PASSED [ 48%]
tests/unit/socratic/test_blueprint.py::TestWorkflowBlueprint::test_workflow_deserialization PASSED [ 49%]
tests/unit/socratic/test_blueprint.py::TestWorkflowBlueprint::test_workflow_get_agent_by_id PASSED [ 49%]
tests/unit/socratic/test_blueprint.py::TestWorkflowBlueprint::test_workflow_get_stage_by_id PASSED [ 49%]
tests/unit/socratic/test_blueprint.py::TestAgentRole::test_all_roles_exist PASSED [ 49%]
tests/unit/socratic/test_blueprint.py::TestToolCategory::test_all_categories_exist PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_create_console PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_use_color_default PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_no_color PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_header PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_subheader PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_error PASSED  [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_info PASSED   [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_success PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_warning PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_dim PASSED    [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_progress_bar PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_progress_full PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_progress_empty PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_table PASSED  [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_table_empty PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_colors_dict_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestConsole::test_console_color_function_disabled PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestGlobalConsole::test_global_console_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestGlobalConsole::test_global_console_is_console_instance PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_create_parser PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_start_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_start_non_interactive PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_resume_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_list_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_list_default_limit PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_blueprints_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_show_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_delete_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_delete_without_force PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_export_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIParser::test_parser_no_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIMain::test_main_no_command PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLIMain::test_main_with_invalid_state PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandList::test_cmd_list_empty PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandList::test_cmd_list_with_sessions PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandBlueprints::test_cmd_blueprints_empty PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandShow::test_cmd_show_not_found PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandDelete::test_cmd_delete_not_found PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandDelete::test_cmd_delete_success PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestCLICommandExport::test_cmd_export_not_found PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestFormRendering::test_render_form_interactive_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestInputHelpers::test_input_single_select_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestInputHelpers::test_input_multi_select_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestInputHelpers::test_input_boolean_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestInputHelpers::test_input_text_exists PASSED [ 49%]
tests/unit/socratic/test_cli.py::TestInputHelpers::test_input_text_area_exists PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestParticipantRole::test_all_roles_exist PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestParticipantRole::test_role_values PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestVoteType::test_all_vote_types_exist PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestChangeType::test_all_change_types_exist PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestChangeType::test_change_type_values PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestParticipant::test_create_participant PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestParticipant::test_participant_default_role PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestParticipant::test_participant_serialization PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestParticipant::test_participant_deserialization PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestChange::test_create_change PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestChange::test_change_with_before_after PASSED [ 49%]
tests/unit/socratic/test_collaboration.py::TestChange::test_change_serialization PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestVotingResult::test_create_voting_result PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestVotingResult::test_voting_result_approval_rate PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestCollaborativeSession::test_create_session PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestCollaborativeSession::test_session_serialization PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestCollaborativeSession::test_session_with_participants PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestCollaborationManager::test_create_manager PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestCollaborationManager::test_create_session PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestCollaborationManager::test_get_session PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestSyncAdapter::test_create_sync_adapter PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestSyncAdapter::test_register_event_handler PASSED [ 50%]
tests/unit/socratic/test_collaboration.py::TestInvitationManager::test_create_manager PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomain::test_code_review_domain_exists PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomain::test_security_domains_exist PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomain::test_testing_domain_exists PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomain::test_devops_domains_exist PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomain::test_performance_domain_exists PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomain::test_general_domain_exists PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestAgentTemplate::test_create_agent_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestAgentTemplate::test_agent_template_with_system_prompt PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestAgentTemplate::test_agent_template_default_values PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestAgentTemplate::test_agent_template_with_tags PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestWorkflowTemplate::test_create_workflow_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestWorkflowTemplate::test_workflow_template_with_stages PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplate::test_create_domain_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_create_registry PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_get_agent PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_get_agent_not_found PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_get_workflow PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_get_domain PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_list_agents PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_list_agents_by_domain PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_list_workflows PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_list_domains PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_detect_domain_code_review PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_detect_domain_security PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_detect_domain_testing PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_detect_domain_performance PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_detect_domain_unknown PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_get_default_workflow PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_register_agent PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestDomainTemplateRegistry::test_register_workflow PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInTemplates::test_code_reviewer_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInTemplates::test_security_scanner_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInTemplates::test_test_generator_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInTemplates::test_result_synthesizer_template PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestGetRegistry::test_get_registry_singleton PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestGetRegistry::test_get_registry_has_templates PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInWorkflows::test_code_review_workflow_exists PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInWorkflows::test_security_audit_workflow_exists PASSED [ 50%]
tests/unit/socratic/test_domain_templates.py::TestBuiltInWorkflows::test_testing_workflow_exists PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestTFIDFEmbeddingProvider::test_create_provider PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestTFIDFEmbeddingProvider::test_embed_text PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestTFIDFEmbeddingProvider::test_embed_normalizes_vector PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestTFIDFEmbeddingProvider::test_embed_batch PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestTFIDFEmbeddingProvider::test_fit_idf PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_create_store PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_add_goal PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_search_goals PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_search_with_min_similarity PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_get_goal PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_remove_goal PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestVectorStore::test_update_success_score PASSED [ 50%]
tests/unit/socratic/test_embeddings.py::TestSemanticGoalMatcher::test_create_matcher PASSED [ 51%]
tests/unit/socratic/test_embeddings.py::TestSemanticGoalMatcher::test_index_goal PASSED [ 51%]
tests/unit/socratic/test_embeddings.py::TestSemanticGoalMatcher::test_find_similar PASSED [ 51%]
tests/unit/socratic/test_embeddings.py::TestSemanticGoalMatcher::test_suggest_workflow PASSED [ 51%]
tests/unit/socratic/test_embeddings.py::TestEmbeddedGoal::test_create_embedded_goal PASSED [ 51%]
tests/unit/socratic/test_embeddings.py::TestEmbeddedGoal::test_serialization PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_create_builder PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_start_session PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_start_session_with_goal PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_set_goal PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_get_next_questions PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_submit_answers PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_is_ready_to_generate PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_generate_workflow PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSocraticWorkflowBuilder::test_get_session_summary PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_detect_code_review_domain PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_detect_security_domain PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_detect_testing_domain PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_detect_documentation_domain PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_detect_performance_domain PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_detect_refactoring_domain PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDetectDomainFunction::test_returns_general_for_unknown PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestQuestionGeneration::test_generate_initial_questions PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestQuestionGeneration::test_get_initial_form PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDomainPatterns::test_domain_patterns_exist PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestDomainPatterns::test_domain_pattern_has_required_fields PASSED [ 51%]
tests/unit/socratic/test_engine.py::TestSessionWorkflow::test_full_workflow_happy_path PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestAudienceLevel::test_all_levels_exist PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestAudienceLevel::test_level_values PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestDetailLevel::test_all_levels_exist PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestOutputFormat::test_all_formats_exist PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanation::test_create_explanation PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanation::test_explanation_to_text PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanation::test_explanation_to_markdown PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanation::test_explanation_to_html PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanation::test_explanation_to_dict PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestWorkflowExplainer::test_create_explainer PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestWorkflowExplainer::test_create_explainer_with_options PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestWorkflowExplainer::test_explain_workflow_for_technical PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestWorkflowExplainer::test_explain_workflow_for_business PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestWorkflowExplainer::test_explain_workflow_for_beginner PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestWorkflowExplainer::test_explain_agent PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestLLMExplanationGenerator::test_create_generator PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestLLMExplanationGenerator::test_create_generator_with_api_key PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplainWorkflowFunction::test_explain_workflow_returns_string PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplainWorkflowFunction::test_explain_workflow_with_audience PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplainWorkflowFunction::test_explain_workflow_with_format PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanationContent::test_technical_includes_details PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanationContent::test_business_explanation_works PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestExplanationContent::test_beginner_explanation_works PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestRoleDescriptions::test_role_descriptions_exist PASSED [ 51%]
tests/unit/socratic/test_explainer.py::TestRoleDescriptions::test_role_descriptions_for_all_audiences PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceCreation::test_minimal_creation PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceCreation::test_success_rate_with_no_uses PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceCreation::test_success_rate_calculation PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceTrend::test_trend_insufficient_data PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceTrend::test_trend_stable_no_older_data PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceTrend::test_trend_improving PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceTrend::test_trend_declining PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceTrend::test_trend_stable_within_threshold PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_successful_use PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_failed_use PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_multiple_uses_updates_average PASSED [ 51%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_use_with_domain PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_use_with_languages PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_use_with_quality_focus PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceRecordUse::test_record_use_trims_recent_scores PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceContextScore::test_default_score_no_data PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceContextScore::test_score_with_base_average PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceContextScore::test_score_weighted_by_domain PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceSerialization::test_to_dict PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceSerialization::test_from_dict PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAgentPerformanceSerialization::test_roundtrip_serialization PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestWorkflowPattern::test_creation PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestWorkflowPattern::test_success_rate_no_uses PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestWorkflowPattern::test_success_rate_calculation PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestWorkflowPattern::test_to_dict PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorInitialization::test_creates_storage_directory PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorInitialization::test_loads_existing_data PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorInitialization::test_handles_corrupted_data PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorRecordExecution::test_records_agent_performance PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorRecordExecution::test_records_workflow_pattern PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorRecordExecution::test_saves_data_to_disk PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_agent_performance PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_agent_performance_not_found PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_all_performance PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_best_agents_for_context PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_successful_patterns PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_successful_patterns_filtered_by_domain PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorQueries::test_get_insights PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackCollectorRecommendations::test_generates_recommendation_for_underperformer PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAdaptiveAgentGenerator::test_initialization PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAdaptiveAgentGenerator::test_generate_agents_without_feedback PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestAdaptiveAgentGenerator::test_get_recommendation_explanation PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackLoop::test_initialization PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackLoop::test_record PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackLoop::test_get_insights PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackLoop::test_get_agent_stats_not_found PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackLoop::test_get_agent_stats_found PASSED [ 52%]
tests/unit/socratic/test_feedback.py::TestFeedbackLoop::test_explain_recommendations PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestFormField::test_create_text_field PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestFormField::test_create_select_field_with_options PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestFormField::test_field_with_validation PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestFormField::test_field_with_show_when PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestForm::test_create_form PASSED     [ 52%]
tests/unit/socratic/test_forms.py::TestForm::test_form_serialization PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestForm::test_form_deserialization SKIPPED [ 52%]
tests/unit/socratic/test_forms.py::TestFormResponse::test_create_form_response PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestValidationResult::test_valid_result PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestValidationResult::test_invalid_result_with_field_errors PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestValidationResult::test_invalid_result_with_form_errors PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestValidationResult::test_all_errors_property PASSED [ 52%]
tests/unit/socratic/test_forms.py::TestFieldType::test_all_field_types PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestToolRegistry::test_registry_not_empty PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestToolRegistry::test_contains_common_tools PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestToolRegistry::test_tool_has_required_fields PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplates::test_templates_not_empty PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplates::test_contains_common_templates PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplates::test_template_has_required_fields PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreation::test_minimal_creation PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreation::test_full_creation PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_defaults PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_goal_override PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_goal_suffix PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_backstory_override PASSED [ 52%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_expertise PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_language_override PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_quality_focus_merge PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentTemplateCreateSpec::test_create_spec_with_custom_id PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentTemplateBuildTools::test_builds_default_tools PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentTemplateBuildTools::test_adds_additional_tools PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentTemplateBuildTools::test_deduplicates_tools PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorInitialization::test_initialization PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorInitialization::test_register_template PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorInitialization::test_register_tool PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorFromTemplate::test_generate_from_existing_template PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorFromTemplate::test_generate_with_customizations PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorFromTemplate::test_generate_from_unknown_template_raises PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorForRequirements::test_generates_security_agent_for_security_focus PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorForRequirements::test_generates_performance_agent_for_performance_focus PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorForRequirements::test_generates_default_when_no_focus PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorForRequirements::test_adds_synthesizer_for_multiple_agents PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorForRequirements::test_applies_automation_level_fully_auto PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorForRequirements::test_applies_automation_level_advisory PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorWorkflow::test_generate_workflow_success PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorWorkflow::test_generate_workflow_invalid_blueprint_raises PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorCreateWorkflowBlueprint::test_creates_blueprint_with_stages PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestAgentGeneratorCreateWorkflowBlueprint::test_groups_agents_by_role PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestGeneratedWorkflowCreation::test_creation PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestGeneratedWorkflowDescribe::test_describe_output PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestGeneratedWorkflowMatchAgent::test_match_agent_by_role PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestGeneratedWorkflowMatchAgent::test_match_agent_no_match PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestGeneratedWorkflowExecute::test_execute_returns_results PASSED [ 53%]
tests/unit/socratic/test_generator.py::TestGeneratedWorkflowExecute::test_execute_empty_stages PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMAnalysisResult::test_create_result PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMAnalysisResult::test_primary_domain_property PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMAnalysisResult::test_optional_fields_have_defaults PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMQuestionResult::test_create_result PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMAgentRecommendation::test_create_recommendation PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMGoalAnalyzerInit::test_init_without_api_key PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMGoalAnalyzerInit::test_init_with_api_key PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMGoalAnalyzerInit::test_init_with_env_api_key PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMGoalAnalyzerInit::test_init_custom_model_tier PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestLLMGoalAnalyzerInit::test_models_constant PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestGetClient::test_get_client_without_api_key PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestGetClient::test_get_client_with_api_key_no_anthropic PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestGetClient::test_get_client_caches_client PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestParseJsonResponse::test_parse_valid_json PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestParseJsonResponse::test_parse_json_in_code_block PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestParseJsonResponse::test_parse_json_in_code_block_no_lang PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestParseJsonResponse::test_parse_json_object_in_text PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestParseJsonResponse::test_parse_invalid_json_returns_empty PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestParseJsonResponse::test_parse_nested_json PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestAnalyzeGoal::test_analyze_goal_with_mock_llm PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestAnalyzeGoal::test_analyze_goal_uses_fallback_on_error PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestAnalyzeGoal::test_analyze_goal_prompt_formatting PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestGenerateQuestions::test_generate_questions_success PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestGenerateQuestions::test_generate_questions_on_error PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestRecommendAgents::test_recommend_agents_success PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestRecommendAgents::test_recommend_agents_fallback PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAnalysis::test_fallback_security_domain PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAnalysis::test_fallback_testing_domain PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAnalysis::test_fallback_returns_valid_result PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAgentRecommendation::test_fallback_security_domain PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAgentRecommendation::test_fallback_code_review_domain PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAgentRecommendation::test_fallback_testing_domain PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAgentRecommendation::test_fallback_unknown_domain PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestFallbackAgentRecommendation::test_fallback_no_goal_analysis PASSED [ 53%]
tests/unit/socratic/test_llm_analyzer.py::TestMockLLMExecutor::test_run_returns_mock_response PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_convert_single_select PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_convert_multi_select PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_convert_text PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_convert_text_area PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_convert_boolean PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_convert_unknown_type_defaults_to_text PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_options_string_format PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_options_dict_format PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_form_progress_calculation PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_fields_sorted_by_priority PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_form_title_and_description PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_question_with_required_flag PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_question_category PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestLlmQuestionsToForm::test_auto_generated_id PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestPromptConstants::test_goal_analysis_prompt_contains_placeholders PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestPromptConstants::test_goal_analysis_prompt_requests_json PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestCallLlm::test_call_llm_uses_executor_fallback PASSED [ 54%]
tests/unit/socratic/test_llm_analyzer.py::TestCallLlm::test_call_llm_handles_response_without_content PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_create_server PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_start_session_tool PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_set_goal_tool PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_get_questions_tool PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_submit_answers_tool PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_list_sessions_tool PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_get_session_tool PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_invalid_tool_call PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticMCPServer::test_tool_with_invalid_session PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticTools::test_tools_defined PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticTools::test_tools_have_required_fields PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestSocraticTools::test_expected_tools_exist PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPServerAsync::test_async_handle_tool_call PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPServerAsync::test_ensure_initialized PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolSchemas::test_start_session_schema PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolSchemas::test_set_goal_schema PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolSchemas::test_schema_valid_json PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolSchemas::test_get_questions_schema PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolSchemas::test_submit_answers_schema PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolSchemas::test_generate_workflow_schema PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolsList::test_list_sessions_tool_exists PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolsList::test_get_session_tool_exists PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolsList::test_list_blueprints_tool_exists PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolsList::test_analyze_goal_tool_exists PASSED [ 54%]
tests/unit/socratic/test_mcp_server.py::TestMCPToolsList::test_recommend_agents_tool_exists PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_create_session PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_create_session_with_id PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_session_serialization PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_session_deserialization PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_session_touch PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_session_is_active PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_session_can_generate PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSocraticSession::test_session_add_question_round PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSessionState::test_state_values PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSessionState::test_state_processing_answers PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSessionState::test_state_generating PASSED [ 54%]
tests/unit/socratic/test_session.py::TestSessionState::test_state_cancelled PASSED [ 54%]
tests/unit/socratic/test_session.py::TestGoalAnalysis::test_create_goal_analysis PASSED [ 54%]
tests/unit/socratic/test_session.py::TestGoalAnalysis::test_goal_analysis_needs_clarification PASSED [ 54%]
tests/unit/socratic/test_session.py::TestGoalAnalysis::test_goal_analysis_assumptions PASSED [ 54%]
tests/unit/socratic/test_session.py::TestRequirementSet::test_create_empty_requirement_set PASSED [ 54%]
tests/unit/socratic/test_session.py::TestRequirementSet::test_add_requirements PASSED [ 54%]
tests/unit/socratic/test_session.py::TestRequirementSet::test_requirement_set_must_not_have PASSED [ 54%]
tests/unit/socratic/test_session.py::TestRequirementSet::test_completeness_score PASSED [ 54%]
tests/unit/socratic/test_session.py::TestRequirementSet::test_quality_attributes PASSED [ 55%]
tests/unit/socratic/test_session.py::TestRequirementSet::test_domain_specific PASSED [ 55%]
tests/unit/socratic/test_session.py::TestSessionContextSummary::test_get_context_summary PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageBackend::test_cannot_instantiate_abstract PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_create_storage PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_save_and_load_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_list_sessions PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_delete_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_save_and_load_blueprint PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_list_blueprints PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_storage_creates_directory PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestJSONFileStorage::test_storage_handles_corrupted_file PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_create_storage PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_save_and_load_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_list_sessions PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_delete_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_save_and_load_blueprint PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_query_sessions_by_state PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestSQLiteStorage::test_search_blueprints PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageManager::test_create_manager_with_json PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageManager::test_create_manager_with_sqlite PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageManager::test_manager_get_storage PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageManager::test_manager_default_config PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageSecurity::test_json_storage_validates_path PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageSecurity::test_sqlite_storage_validates_path PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageSecurity::test_no_sql_injection PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageEdgeCases::test_save_empty_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageEdgeCases::test_load_nonexistent_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageEdgeCases::test_save_large_session PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestStorageEdgeCases::test_concurrent_writes PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestDefaultStorage::test_get_default_storage PASSED [ 55%]
tests/unit/socratic/test_storage.py::TestDefaultStorage::test_set_default_storage PASSED [ 55%]
tests/unit/socratic/test_success.py::test_generation_criteria <- src/attune/socratic/success.py PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_all_metric_types_exist PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.COUNT-count] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.PERCENTAGE-percentage] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.RATIO-ratio] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.DURATION-duration] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.BOOLEAN-boolean] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.IMPROVEMENT-improvement] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.THRESHOLD-threshold] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.SCORE-score] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricType::test_metric_type_values[MetricType.RATING-rating] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricDirection::test_all_directions_exist PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricDirection::test_direction_values[MetricDirection.HIGHER_IS_BETTER-higher] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricDirection::test_direction_values[MetricDirection.LOWER_IS_BETTER-lower] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricDirection::test_direction_values[MetricDirection.TARGET_VALUE-target] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestMetricDirection::test_direction_values[MetricDirection.RANGE-range] PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricCreation::test_minimal_creation PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricCreation::test_full_creation PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricCreation::test_to_dict_serialization PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricBooleanEvaluation::test_boolean_true_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricBooleanEvaluation::test_boolean_false_fails PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricHigherIsBetter::test_value_above_minimum_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricHigherIsBetter::test_value_at_minimum_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricHigherIsBetter::test_value_below_minimum_fails PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricHigherIsBetter::test_no_minimum_always_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricLowerIsBetter::test_value_below_maximum_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricLowerIsBetter::test_value_at_maximum_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricLowerIsBetter::test_value_above_maximum_fails PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricLowerIsBetter::test_zero_value_perfect_score PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricTargetValue::test_exact_target_passes PASSED [ 55%]
tests/unit/socratic/test_success.py::TestSuccessMetricTargetValue::test_within_tolerance_passes PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricTargetValue::test_outside_tolerance_fails PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricTargetValue::test_no_target_always_passes PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricRange::test_value_in_range_passes PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricRange::test_value_at_minimum_passes PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricRange::test_value_at_maximum_passes PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricRange::test_value_below_range_fails PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricRange::test_value_above_range_fails PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricEdgeCases::test_non_numeric_value_fails PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricEdgeCases::test_explanation_includes_unit PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessMetricEdgeCases::test_explanation_includes_baseline_comparison PASSED [ 56%]
tests/unit/socratic/test_success.py::TestMetricResult::test_creation PASSED [ 56%]
tests/unit/socratic/test_success.py::TestMetricResult::test_with_baseline PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaCreation::test_minimal_creation PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaCreation::test_full_creation PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaCreation::test_add_metric PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaCreation::test_get_primary_metrics PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaCreation::test_to_dict_serialization PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaEvaluation::test_evaluate_all_pass PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaEvaluation::test_evaluate_partial_pass PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaEvaluation::test_evaluate_with_missing_metric PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaEvaluation::test_evaluate_with_baselines PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaEvaluation::test_evaluate_empty_metrics PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaEvaluation::test_evaluate_require_all_true PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaExtraction::test_direct_key_extraction PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaExtraction::test_extraction_path PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaExtraction::test_extraction_from_metrics_key PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaExtraction::test_custom_extractor PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessCriteriaCustomEvaluator::test_custom_evaluator_overrides PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSuccessEvaluation::test_to_dict_serialization PASSED [ 56%]
tests/unit/socratic/test_success.py::TestCodeReviewCriteria::test_factory_returns_valid_criteria PASSED [ 56%]
tests/unit/socratic/test_success.py::TestCodeReviewCriteria::test_has_primary_metrics PASSED [ 56%]
tests/unit/socratic/test_success.py::TestCodeReviewCriteria::test_metrics_have_extraction_paths PASSED [ 56%]
tests/unit/socratic/test_success.py::TestCodeReviewCriteria::test_evaluate_with_sample_output PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSecurityAuditCriteria::test_factory_returns_valid_criteria PASSED [ 56%]
tests/unit/socratic/test_success.py::TestSecurityAuditCriteria::test_has_critical_issues_metric PASSED [ 56%]
tests/unit/socratic/test_success.py::TestTestGenerationCriteria::test_factory_returns_valid_criteria PASSED [ 56%]
tests/unit/socratic/test_success.py::TestTestGenerationCriteria::test_requires_multiple_primary_metrics PASSED [ 56%]
tests/unit/socratic/test_success.py::TestTestGenerationCriteria::test_evaluate_with_sample_output PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorNode::test_create_node PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorNode::test_node_with_position_object PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorNode::test_node_with_node_type_enum PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorNode::test_node_to_dict PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorNode::test_node_to_dict_with_enum PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorNode::test_node_default_values PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorEdge::test_create_edge PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorEdge::test_edge_to_dict PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorEdge::test_edge_default_values PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestPosition::test_create_position PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestPosition::test_position_to_dict PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestNodeType::test_all_node_types_exist PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorState::test_create_state PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorState::test_state_default_values PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorState::test_state_to_dict PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestEditorState::test_state_to_react_flow PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_create_visualizer PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_create_visualizer_custom_spacing PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_blueprint_to_editor_method_exists PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_from_blueprint_alias_exists PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_editor_to_blueprint_method_exists PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_to_blueprint_alias_exists PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_visualize_blueprint PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestWorkflowVisualizer::test_state_has_start_end_nodes PASSED [ 56%]
tests/unit/socratic/test_visual_editor.py::TestASCIIVisualizer::test_create_ascii_visualizer PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestASCIIVisualizer::test_create_ascii_visualizer_custom_width PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestASCIIVisualizer::test_render_method_exists PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestASCIIVisualizer::test_render_compact_method_exists PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestASCIIVisualizer::test_render_workflow PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestASCIIVisualizer::test_render_compact PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_create_editor PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_editor_has_visualizer PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_create_editor_state PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_apply_changes PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_render_ascii PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_render_compact PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_generate_html_editor PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_generate_react_schema PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_validate_state_empty PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestVisualWorkflowEditor::test_validate_state_valid PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestGenerateReactFlowSchema::test_generate_schema PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestGenerateReactFlowSchema::test_schema_is_json_serializable PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestGenerateEditorHtml::test_generate_html PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestGenerateEditorHtml::test_html_contains_workflow_data PASSED [ 57%]
tests/unit/socratic/test_visual_editor.py::TestGenerateEditorHtml::test_generate_html_with_title PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_from_form_basic PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_from_form_field_mapping PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_from_form_validation_mapping PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_from_form_options_mapping PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_from_form_categories PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_from_form_show_when PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactFormSchema::test_to_json PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.SINGLE_SELECT-RadioGroup] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.MULTI_SELECT-CheckboxGroup] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.TEXT-TextInput] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.TEXT_AREA-TextArea] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.SLIDER-Slider] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.BOOLEAN-Switch] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.NUMBER-NumberInput] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_field_type_mapping[FieldType.GROUP-FieldGroup] PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestFieldTypeMapping::test_unknown_type_defaults_to_text_input PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactSessionSchema::test_from_session PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactSessionSchema::test_from_session_with_ambiguities PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactSessionSchema::test_from_session_with_assumptions PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactSessionSchema::test_from_session_without_goal_analysis PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactSessionSchema::test_to_json PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_from_blueprint PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_from_blueprint_agents PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_from_blueprint_backstory_truncation PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_from_blueprint_stages PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_from_blueprint_success_criteria PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_from_blueprint_without_success_criteria PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestReactBlueprintSchema::test_to_json PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_ampersand PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_less_than PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_greater_than PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_double_quote PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_single_quote PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_multiple PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestHtmlEscape::test_escape_safe_text PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_basic_form PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_custom_action_url PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_progress_bar PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_text_field PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_required_indicator PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_multi_select PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_single_select PASSED [ 57%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_textarea PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_boolean PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_slider PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_show_when_filters_hidden_fields PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_recommended_option PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_option_description PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_help_text PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_categories_as_fieldsets PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderFormHtml::test_render_submit_button PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestAPIResponse::test_success_response PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestAPIResponse::test_error_response PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestAPIResponse::test_to_json PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestCreateFormResponse::test_create_response_with_form PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestCreateFormResponse::test_create_response_ready_to_generate PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestCreateFormResponse::test_create_response_error PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestCreateBlueprintResponse::test_create_blueprint_response PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestCreateBlueprintResponse::test_blueprint_response_contains_schema PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestGetFormAssets::test_returns_css_and_js PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestGetFormAssets::test_css_contains_styles PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestGetFormAssets::test_js_contains_script PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_render_complete_page PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_page_contains_css PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_page_contains_js PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_page_contains_form PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_page_contains_session_data PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_page_contains_domain_badge PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestRenderCompletePage::test_page_contains_confidence PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestFormConstants::test_form_css_not_empty PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestFormConstants::test_form_js_not_empty PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestFormConstants::test_css_contains_responsive_styles PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestFormConstants::test_js_handles_form_submission PASSED [ 58%]
tests/unit/socratic/test_web_ui.py::TestFormConstants::test_js_handles_visibility PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignal::test_to_dict PASSED                     [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignal::test_from_dict PASSED                   [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignal::test_from_dict_broadcast PASSED         [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsNoMemory::test_init_no_memory PASSED     [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsNoMemory::test_signal_no_memory PASSED   [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsNoMemory::test_wait_for_signal_no_memory PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_signal_targeted PASSED  [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_signal_uses_default_source PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_broadcast PASSED        [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_check_signal PASSED     [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_check_signal_with_consume PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_check_signal_with_source_filter PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_check_signal_broadcast PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_get_pending_signals PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_get_pending_signals_filtered PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_clear_signals PASSED    [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_wait_for_signal_timeout PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_wait_for_signal_receives_signal PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_signal_error_handling PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithMemory::test_check_signal_no_agent_id PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsWithStash::test_signal_without_client_logs_warning PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_signal_without_credentials_logs_warning PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_signal_with_contributor_succeeds PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_signal_with_validator_succeeds PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_signal_with_steward_succeeds PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_signal_with_observer_fails PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_broadcast_with_observer_fails PASSED [ 58%]
tests/unit/telemetry/test_agent_coordination.py::TestCoordinationSignalsPermissions::test_broadcast_with_contributor_succeeds PASSED [ 58%]
tests/unit/telemetry/test_agent_tracking.py::TestAgentHeartbeat::test_to_dict PASSED                             [ 58%]
tests/unit/telemetry/test_agent_tracking.py::TestAgentHeartbeat::test_from_dict PASSED                           [ 58%]
tests/unit/telemetry/test_agent_tracking.py::TestAgentHeartbeat::test_from_dict_with_datetime PASSED             [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorNoMemory::test_init_no_memory PASSED        [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorNoMemory::test_start_heartbeat_no_memory PASSED [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorNoMemory::test_beat_no_memory PASSED        [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorNoMemory::test_stop_heartbeat_no_memory PASSED [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_start_heartbeat PASSED     [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_beat_updates_heartbeat PASSED [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_stop_heartbeat PASSED      [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_get_active_agents PASSED   [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_is_agent_alive PASSED      [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_get_agent_status PASSED    [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_get_stale_agents PASSED    [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_beat_no_agent_id PASSED    [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorWithMemory::test_stop_heartbeat_no_agent_id PASSED [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorIntegration::test_client_method_support PASSED [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorIntegration::test_error_handling_in_publish PASSED [ 59%]
tests/unit/telemetry/test_agent_tracking.py::TestHeartbeatCoordinatorIntegration::test_retrieve_heartbeat_with_client_method PASSED [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalRequest::test_approval_request_creation PASSED          [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalRequest::test_to_dict PASSED                            [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalRequest::test_from_dict PASSED                          [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalResponse::test_approval_response_creation PASSED        [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalResponse::test_to_dict PASSED                           [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalResponse::test_from_dict PASSED                         [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_init_without_memory PASSED                   [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_init_with_memory PASSED                      [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_request_approval_without_memory PASSED       [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_request_approval_stores_request PASSED       [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_request_approval_receives_approved_response PASSED [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_request_approval_receives_rejected_response PASSED [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_respond_to_approval_success PASSED           [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_respond_to_approval_without_memory PASSED    [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_get_pending_approvals_empty PASSED           [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_get_pending_approvals_with_requests PASSED   [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_get_pending_approvals_filters_by_type PASSED [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_get_pending_approvals_excludes_non_pending PASSED [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGate::test_clear_expired_requests PASSED                [ 59%]
tests/unit/telemetry/test_approval_gates.py::TestApprovalGateIntegration::test_full_approval_flow PASSED         [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestStreamEvent::test_stream_event_creation PASSED                 [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestStreamEvent::test_to_dict PASSED                               [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestStreamEvent::test_from_redis_entry PASSED                      [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestStreamEvent::test_from_redis_entry_with_invalid_data PASSED    [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_init_without_memory PASSED                 [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_init_with_memory PASSED                    [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_get_stream_key PASSED                      [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_publish_event_without_memory PASSED        [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_publish_event_success PASSED               [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_publish_event_failure PASSED               [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_get_recent_events_without_memory PASSED    [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_get_recent_events_success PASSED           [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_get_recent_events_failure PASSED           [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_get_stream_info_success PASSED             [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_get_stream_info_failure PASSED             [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_delete_stream_success PASSED               [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_delete_stream_not_found PASSED             [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_trim_stream_success PASSED                 [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamer::test_trim_stream_failure PASSED                 [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamerIntegration::test_consume_events_without_memory PASSED [ 59%]
tests/unit/telemetry/test_event_streaming.py::TestEventStreamerIntegration::test_publish_and_retrieve_event_flow PASSED [ 59%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackEntry::test_feedback_entry_creation PASSED               [ 59%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackEntry::test_to_dict PASSED                               [ 59%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackEntry::test_from_dict PASSED                             [ 59%]
tests/unit/telemetry/test_feedback_loop.py::TestQualityStats::test_quality_stats_creation PASSED                 [ 59%]
tests/unit/telemetry/test_feedback_loop.py::TestTierRecommendation::test_tier_recommendation_creation PASSED     [ 59%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_init_without_memory PASSED                    [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_init_with_memory PASSED                       [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_record_feedback_without_memory PASSED         [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_record_feedback_validates_quality_score PASSED [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_record_feedback_stores_entry PASSED           [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_record_feedback_converts_model_tier_enum PASSED [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_get_feedback_history_empty PASSED             [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_get_feedback_history_filters_by_tier PASSED   [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_get_quality_stats_no_data PASSED              [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_get_quality_stats_calculates_correctly PASSED [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_recommend_tier_no_data PASSED                 [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_recommend_tier_insufficient_samples PASSED    [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_recommend_tier_upgrade_on_low_quality PASSED  [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_recommend_tier_maintain_on_acceptable_quality PASSED [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_recommend_tier_already_premium PASSED         [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_get_underperforming_stages_no_stages PASSED   [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_get_underperforming_stages_filters_by_threshold PASSED [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_clear_feedback_no_stage PASSED                [ 60%]
tests/unit/telemetry/test_feedback_loop.py::TestFeedbackLoop::test_clear_feedback_specific_stage PASSED          [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecord::test_create_basic_record PASSED             [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecord::test_success_property_passed PASSED         [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecord::test_success_property_failed PASSED         [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecord::test_success_property_error PASSED          [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecord::test_to_dict_and_from_dict PASSED           [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecord::test_record_with_failed_tests PASSED        [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_log_and_retrieve_file_test PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_get_file_tests_filter_by_path PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_get_file_tests_filter_by_result PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_get_latest_file_test PASSED   [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_get_latest_file_test_not_found PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_get_files_needing_tests_failed PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTelemetryStoreFileTests::test_get_files_needing_tests_stale PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTestRunnerFileTracking::test_find_test_file_standard_pattern PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestTestRunnerFileTracking::test_get_file_test_status_no_record PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecordEdgeCases::test_record_with_no_tests PASSED   [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecordEdgeCases::test_record_with_all_skipped PASSED [ 60%]
tests/unit/telemetry/test_file_test_tracking.py::TestFileTestRecordEdgeCases::test_record_with_coverage PASSED   [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_with_valid_path PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_empty_string PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_null_bytes PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_with_system_paths PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_sys_directory PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_proc_directory PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_dev_directory PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_with_allowed_directory PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_outside_allowed_dir PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_path_traversal FAILED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_resolves_relative_paths PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_non_string PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_accepts_pathlib_string PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePathEdgeCases::test_validate_file_path_with_spaces PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePathEdgeCases::test_validate_file_path_with_special_chars PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePathEdgeCases::test_validate_file_path_subdirectories PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePathEdgeCases::test_validate_file_path_current_directory PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePathEdgeCases::test_validate_file_path_parent_directory_safe PASSED [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShow::test_show_with_no_data PASSED                  [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShow::test_show_with_data PASSED                     [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShow::test_show_with_limit PASSED                    [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShow::test_show_with_days_filter PASSED              [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShow::test_show_displays_cache_hit PASSED            [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetrySavings::test_savings_with_no_data PASSED            [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetrySavings::test_savings_calculation PASSED             [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetrySavings::test_savings_with_cache_hits PASSED         [ 60%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryCompare::test_compare_with_insufficient_data PASSED  [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryCompare::test_compare_two_periods PASSED             [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryReset::test_reset_without_confirm PASSED             [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryReset::test_reset_with_confirm PASSED                [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryReset::test_reset_empty_directory PASSED             [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_no_data PASSED                   [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_json_to_stdout PASSED            [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_json_to_file PASSED              [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_csv_to_file PASSED               [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_csv_to_stdout PASSED             [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_with_days_filter PASSED          [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_invalid_format PASSED            [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExport::test_export_validates_file_path PASSED       [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryDashboard::test_dashboard_with_no_data PASSED        [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryDashboard::test_dashboard_creates_html PASSED        [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryDashboard::test_dashboard_with_multiple_tiers PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_tier1_status_no_data PASSED        [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_tier1_status_with_error PASSED     [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_task_routing_report_no_data PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_task_routing_report_with_data PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_test_status_no_data PASSED         [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_test_status_with_failures PASSED   [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_agent_performance_no_data PASSED   [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringCommands::test_agent_performance_with_data PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestSonnetOpusAnalysis::test_sonnet_opus_no_data PASSED              [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestSonnetOpusAnalysis::test_sonnet_opus_low_fallback PASSED         [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestSonnetOpusAnalysis::test_sonnet_opus_high_fallback PASSED        [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTelemetryIntegration::test_full_workflow_cycle PASSED            [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTelemetryIntegration::test_savings_calculation_accuracy PASSED   [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTelemetryIntegration::test_export_formats_consistency PASSED     [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShowEdgeCases::test_show_with_invalid_timestamp_format PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShowEdgeCases::test_show_with_missing_optional_fields PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShowEdgeCases::test_show_with_zero_entries PASSED    [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryShowEdgeCases::test_show_with_very_long_workflow_name PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetrySavingsEdgeCases::test_savings_with_only_premium_calls PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetrySavingsEdgeCases::test_savings_with_zero_cost_entries PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetrySavingsEdgeCases::test_savings_tier_distribution_percentages PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryCompareEdgeCases::test_compare_with_zero_cost_in_period PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryCompareEdgeCases::test_compare_with_identical_periods PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExportEdgeCases::test_export_csv_with_missing_nested_fields PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExportEdgeCases::test_export_json_creates_parent_directories PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryExportEdgeCases::test_export_csv_with_empty_strings PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryDashboardEdgeCases::test_dashboard_with_single_entry PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryDashboardEdgeCases::test_dashboard_with_unknown_tier PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestCmdTelemetryDashboardEdgeCases::test_dashboard_with_zero_baseline_cost PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringEdgeCases::test_tier1_status_with_complete_data PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringEdgeCases::test_task_routing_report_with_error PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringEdgeCases::test_test_status_with_error PASSED     [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestTier1MonitoringEdgeCases::test_agent_performance_with_error PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestSonnetOpusAnalysisEdgeCases::test_sonnet_opus_moderate_fallback PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestSonnetOpusAnalysisEdgeCases::test_sonnet_opus_with_zero_savings PASSED [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestArgumentParsing::test_show_with_default_args PASSED              [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestArgumentParsing::test_savings_with_custom_days PASSED            [ 61%]
tests/unit/telemetry/test_telemetry_cli.py::TestArgumentParsing::test_compare_with_equal_periods PASSED          [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTier1StatusCommand::test_command_with_data PASSED                    [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTier1StatusCommand::test_command_with_empty_data PASSED              [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTier1StatusCommand::test_command_with_custom_hours PASSED            [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTaskRoutingReportCommand::test_command_with_data PASSED              [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTaskRoutingReportCommand::test_command_shows_task_types PASSED       [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTaskRoutingReportCommand::test_command_with_empty_data PASSED        [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTestStatusCommand::test_command_with_data PASSED                     [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTestStatusCommand::test_command_shows_failing_tests PASSED           [ 61%]
tests/unit/telemetry/test_tier1_cli.py::TestTestStatusCommand::test_command_with_empty_data PASSED               [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestAgentPerformanceCommand::test_command_with_data PASSED               [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestAgentPerformanceCommand::test_command_shows_agent_names PASSED       [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestAgentPerformanceCommand::test_command_with_empty_data PASSED         [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestErrorHandling::test_tier1_handles_store_errors PASSED                [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestErrorHandling::test_tasks_handles_store_errors PASSED                [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestErrorHandling::test_tests_handles_store_errors PASSED                [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestErrorHandling::test_agents_handles_store_errors PASSED               [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestRichFormatting::test_tier1_uses_rich_when_available PASSED           [ 62%]
tests/unit/telemetry/test_tier1_cli.py::TestRichFormatting::test_fallback_to_plain_text PASSED                   [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_track_llm_call_creates_file PASSED                              [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_track_llm_call_json_lines_format PASSED                         [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_user_id_hashed PASSED                                           [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_atomic_write PASSED                                             [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_rotation_after_size_limit PASSED                                [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_get_recent_entries PASSED                                       [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_get_stats PASSED                                                [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_calculate_savings PASSED                                        [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_reset PASSED                                                    [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_export_to_dict PASSED                                           [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_cache_hit_tracking PASSED                                       [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_optional_stage PASSED                                           [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_schema_version PASSED                                           [ 62%]
tests/unit/telemetry/test_usage_tracker.py::test_timestamp_format PASSED                                         [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestSingletonPattern::test_get_instance_creates_singleton PASSED     [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestSingletonPattern::test_get_instance_with_custom_params PASSED    [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestPermissionErrors::test_directory_creation_permission_error PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestPermissionErrors::test_track_call_with_permission_error PASSED   [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestPermissionErrors::test_track_call_with_unexpected_error PASSED   [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestFileRotation::test_rotation_with_existing_rotated_file PASSED    [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestFileRotation::test_rotation_does_not_occur_below_threshold PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestFileRotation::test_rotation_when_usage_file_does_not_exist PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestRetentionPolicy::test_cleanup_old_files PASSED                   [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestRetentionPolicy::test_cleanup_handles_file_errors PASSED         [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestAtomicWrites::test_write_entry_atomic_rename PASSED              [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestAtomicWrites::test_write_entry_cleanup_on_error PASSED           [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestAtomicWrites::test_write_entry_handles_temp_file_cleanup_error PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestDataRetrieval::test_get_recent_entries_with_days_filter PASSED   [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestDataRetrieval::test_get_recent_entries_handles_invalid_json PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestDataRetrieval::test_get_recent_entries_handles_missing_timestamp PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestDataRetrieval::test_get_recent_entries_handles_file_read_error PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestStatisticsCalculation::test_get_stats_empty_data PASSED          [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestStatisticsCalculation::test_get_stats_with_missing_fields PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestStatisticsCalculation::test_calculate_savings_empty_data PASSED  [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestStatisticsCalculation::test_calculate_savings_all_premium PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestCostRounding::test_cost_rounded_to_six_decimals PASSED           [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestCostRounding::test_stats_cost_rounded_to_two_decimals PASSED     [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestResetFunctionality::test_reset_with_multiple_files PASSED        [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestResetFunctionality::test_reset_handles_delete_error PASSED       [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestExportFunctionality::test_export_to_dict_with_days_filter PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestConcurrency::test_concurrent_writes_from_multiple_threads PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_cleanup_with_stat_error PASSED                   [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_cleanup_with_value_error PASSED                  [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_get_recent_entries_with_deleted_file_during_iteration PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_get_recent_entries_handles_invalid_timestamp_format PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_hash_user_id_empty_string PASSED                 [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_hash_user_id_unicode PASSED                      [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_rotation_creates_unique_filenames PASSED         [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_track_call_with_zero_cost PASSED                 [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_track_call_with_negative_cost PASSED             [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_get_stats_with_division_by_zero_edge_case PASSED [ 62%]
tests/unit/telemetry/test_usage_tracker.py::TestEdgeCases::test_calculate_savings_with_no_premium_calls PASSED   [ 62%]
tests/unit/test_adaptive_routing.py::TestModelPerformance::test_model_performance_required_fields PASSED [ 62%]
tests/unit/test_adaptive_routing.py::TestModelPerformance::test_model_performance_recent_failures PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestModelPerformance::test_quality_score_calculation PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestModelPerformance::test_quality_score_high_cost PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestAdaptiveModelRouterInit::test_init_with_telemetry PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestAdaptiveModelRouterInit::test_constants PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetBestModel::test_get_best_model_no_history PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetBestModel::test_get_best_model_with_history PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetBestModel::test_get_best_model_filters_by_min_success_rate PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetBestModel::test_get_best_model_filters_by_max_cost PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetBestModel::test_get_best_model_filters_by_max_latency PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetBestModel::test_get_best_model_insufficient_samples PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestRecommendTierUpgrade::test_recommend_upgrade_insufficient_data PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestRecommendTierUpgrade::test_recommend_upgrade_high_failure_rate PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestRecommendTierUpgrade::test_recommend_upgrade_low_failure_rate PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetRoutingStats::test_get_routing_stats_no_data PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetRoutingStats::test_get_routing_stats_with_data PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetRoutingStats::test_get_routing_stats_with_stage_filter PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetRoutingStats::test_get_routing_stats_performance_by_model PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestAnalyzeModelPerformance::test_analyze_empty_entries PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestAnalyzeModelPerformance::test_analyze_multiple_models PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestAnalyzeModelPerformance::test_analyze_calculates_metrics PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetWorkflowStageEntries::test_filters_by_workflow PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetWorkflowStageEntries::test_filters_by_stage PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetDefaultModel::test_get_default_cheap PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetDefaultModel::test_get_default_capable PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetDefaultModel::test_get_default_premium PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestGetDefaultModel::test_get_default_unknown_tier PASSED [ 63%]
tests/unit/test_adaptive_routing.py::TestModuleExports::test_all_exports PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_initialization PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_avg_response_time_ms_with_data PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_avg_response_time_ms_no_interactions PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_success_rate_with_data PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_success_rate_no_pattern_uses PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_success_rate_all_failures PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_pattern_contribution_rate PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMetrics::test_pattern_contribution_rate_no_interactions PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestTeamMetrics::test_initialization PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestTeamMetrics::test_pattern_reuse_rate_with_data PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestTeamMetrics::test_pattern_reuse_rate_no_patterns PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestTeamMetrics::test_collaboration_efficiency_with_data PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestTeamMetrics::test_collaboration_efficiency_no_reuses PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestTeamMetrics::test_collaboration_efficiency_no_cross_agent PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_initialization PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_initialization_with_library PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_interaction PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_interaction_creates_new_agent PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_interaction_slow_response_alert PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_pattern_discovery PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_pattern_use_success PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_pattern_use_failure PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_record_pattern_use_tracks_cross_agent PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_agent_stats_existing_agent PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_agent_stats_nonexistent_agent PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_team_stats_no_agents PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_team_stats_with_agents PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_team_stats_with_pattern_library PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_top_contributors PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_alerts PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_get_alerts_with_limit PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_check_health_healthy PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_check_health_no_active_agents PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_check_health_low_collaboration PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_reset PASSED [ 63%]
tests/unit/test_agent_monitoring.py::TestAgentMonitor::test_alert_bounding PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_load_patterns_empty_directory PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_load_patterns_with_enhanced_data PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_load_patterns_skips_legacy_format PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_analyze_by_bug_type_all PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_analyze_by_bug_type_filtered PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_analyze_by_bug_type_no_matches PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_calculate_savings PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_calculate_savings_multiple_patterns PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_quality_gate_report_no_failures PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_quality_gate_report_with_failures PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_xml_protocol_effectiveness PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_recommend_tier_integration_error PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_recommend_tier_type_mismatch PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_recommend_tier_unknown_pattern PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_tier_distribution_calculation PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierPatternAnalyzer::test_avg_attempts_calculation PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestTierRecommendation::test_recommendation_creation PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestPatternValidation::test_valid_enhanced_pattern PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestPatternValidation::test_cost_breakdown_structure PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestPatternValidation::test_xml_protocol_compliance_structure PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestBackwardCompatibility::test_mixed_pattern_formats PASSED [ 64%]
tests/unit/test_analyze_tier_patterns.py::TestBackwardCompatibility::test_patterns_array_format PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestToolEnhancedStrategy::test_initialization PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestToolEnhancedStrategy::test_initialization_without_tools PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestToolEnhancedStrategy::test_no_agents_provided PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestPromptCachedSequentialStrategy::test_initialization_with_context PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestPromptCachedSequentialStrategy::test_initialization_custom_ttl PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestDelegationChainStrategy::test_initialization_default_depth PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestDelegationChainStrategy::test_initialization_custom_depth PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestDelegationChainStrategy::test_max_depth_capped_at_three PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestDelegationChainStrategy::test_max_depth_enforcement PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestDelegationChainStrategy::test_no_agents_provided PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_strategy_registry_includes_new_patterns PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_get_strategy_by_name PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_all_patterns_implement_base_interface PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_pattern_count PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_tool_enhanced_strategy_instantiation PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_prompt_cached_strategy_instantiation PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_delegation_chain_strategy_instantiation PASSED [ 64%]
tests/unit/test_anthropic_patterns.py::TestAnthropicPatternsIntegration::test_new_patterns_have_proper_docstrings PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_create_batch_with_new_format PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_create_batch_with_old_format_converts PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_create_batch_empty_raises_error PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_get_batch_status PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_get_batch_results_not_ended_raises_error PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_get_batch_results_success PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_wait_for_batch_success PASSED [ 64%]
tests/unit/test_batch_provider.py::TestAnthropicBatchProvider::test_wait_for_batch_timeout PASSED [ 64%]
tests/unit/test_batch_provider.py::TestBatchRequestFormatConversion::test_conversion_preserves_custom_id PASSED [ 64%]
tests/unit/test_batch_provider.py::TestBatchRequestFormatConversion::test_conversion_handles_optional_params PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheHealthScore::test_create_health_score PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheHealthScore::test_to_dict PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheHealthScore::test_to_dict_rounds_hit_rate PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerBasic::test_analyze_cache_not_found PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerBasic::test_analyze_cache_success PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerBasic::test_analyze_all_empty PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerBasic::test_analyze_all_multiple_caches PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_low_request_count_excellent PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_low_request_count_good PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_low_request_count_fair PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_medium_request_count_excellent PASSED [ 64%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_medium_request_count_good PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_medium_request_count_fair PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_medium_request_count_poor PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_high_request_count_excellent PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_high_request_count_good PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_high_request_count_fair PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerHealthCalculations::test_health_high_request_count_poor PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_high_hit_rate_high_requests PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_high_hit_rate_low_requests PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_moderate_hit_rate PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_low_hit_rate PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_very_low_hit_rate PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_cache_nearly_full PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_cache_underutilized PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheAnalyzerRecommendations::test_cache_thrashing PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterHealthReport::test_health_report_no_caches PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterHealthReport::test_health_report_single_cache PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterHealthReport::test_health_report_multiple_caches PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterHealthReport::test_health_report_verbose PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterHealthReport::test_health_report_non_verbose PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterOptimizationReport::test_optimization_report_structure PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterOptimizationReport::test_optimization_report_underperformers PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterOptimizationReport::test_optimization_report_high_performers PASSED [ 65%]
tests/unit/test_cache_stats.py::TestCacheReporterFullReport::test_full_report_structure PASSED [ 65%]
tests/unit/test_cache_stats.py::TestIntegration::test_complete_analysis_workflow PASSED [ 65%]
tests/unit/test_cache_stats.py::TestIntegration::test_health_score_serialization_integration PASSED [ 65%]
tests/unit/test_cache_stats.py::TestIntegration::test_boundary_conditions PASSED [ 65%]
tests/unit/test_cache_stats.py::TestIntegration::test_all_health_levels PASSED [ 65%]
tests/unit/test_cli_router.py::TestRoutingPreference::test_routing_preference_defaults PASSED [ 65%]
tests/unit/test_cli_router.py::TestRoutingPreference::test_routing_preference_with_all_fields PASSED [ 65%]
tests/unit/test_cli_router.py::TestHybridRouterInit::test_init_default_preferences_path PASSED [ 65%]
tests/unit/test_cli_router.py::TestHybridRouterInit::test_init_custom_preferences_path PASSED [ 65%]
tests/unit/test_cli_router.py::TestHybridRouterInit::test_init_empty_preferences PASSED [ 65%]
tests/unit/test_cli_router.py::TestHybridRouterInit::test_init_loads_existing_preferences PASSED [ 65%]
tests/unit/test_cli_router.py::TestHybridRouterInit::test_init_keyword_to_skill_mapping PASSED [ 65%]
tests/unit/test_cli_router.py::TestHybridRouterInit::test_init_hub_descriptions PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteSlashCommand::test_route_slash_command_simple PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteSlashCommand::test_route_slash_command_with_args PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteSlashCommand::test_route_slash_command_with_multiple_args PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteSlashCommand::test_route_slash_command_instruction PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_builtin_keyword PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_test_keyword PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_security_keyword PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_hub_name PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_unknown_keyword PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_case_insensitive PASSED [ 65%]
tests/unit/test_cli_router.py::TestInferCommand::test_infer_command_learned_preference PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteAsync::test_route_slash_command PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteAsync::test_route_single_keyword PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteAsync::test_route_two_word_keyword PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteAsync::test_route_strips_whitespace PASSED [ 65%]
tests/unit/test_cli_router.py::TestRouteAsync::test_route_natural_language PASSED [ 65%]
tests/unit/test_cli_router.py::TestLearnPreference::test_learn_preference_new PASSED [ 65%]
tests/unit/test_cli_router.py::TestLearnPreference::test_learn_preference_updates_existing PASSED [ 65%]
tests/unit/test_cli_router.py::TestLearnPreference::test_learn_preference_saves_to_disk PASSED [ 65%]
tests/unit/test_cli_router.py::TestLearnPreference::test_learn_preference_confidence_cap PASSED [ 65%]
tests/unit/test_cli_router.py::TestGetSuggestions::test_get_suggestions_partial_match PASSED [ 65%]
tests/unit/test_cli_router.py::TestGetSuggestions::test_get_suggestions_empty_for_no_match PASSED [ 65%]
tests/unit/test_cli_router.py::TestGetSuggestions::test_get_suggestions_limit PASSED [ 65%]
tests/unit/test_cli_router.py::TestGetSuggestions::test_get_suggestions_includes_learned PASSED [ 65%]
tests/unit/test_cli_router.py::TestWorkflowToSkill::test_workflow_to_skill_known_workflow PASSED [ 65%]
tests/unit/test_cli_router.py::TestWorkflowToSkill::test_workflow_to_skill_code_review PASSED [ 65%]
tests/unit/test_cli_router.py::TestWorkflowToSkill::test_workflow_to_skill_unknown PASSED [ 65%]
tests/unit/test_cli_router.py::TestIsSlashCommand::test_is_slash_command_true PASSED [ 66%]
tests/unit/test_cli_router.py::TestIsSlashCommand::test_is_slash_command_false PASSED [ 66%]
tests/unit/test_cli_router.py::TestRouteUserInput::test_route_user_input_slash_command PASSED [ 66%]
tests/unit/test_cli_router.py::TestRouteUserInput::test_route_user_input_keyword PASSED [ 66%]
tests/unit/test_cli_router.py::TestKeywordMappings::test_dev_commands PASSED [ 66%]
tests/unit/test_cli_router.py::TestKeywordMappings::test_testing_commands PASSED [ 66%]
tests/unit/test_cli_router.py::TestKeywordMappings::test_workflow_commands PASSED [ 66%]
tests/unit/test_cli_router.py::TestKeywordMappings::test_plan_commands PASSED [ 66%]
tests/unit/test_cli_router.py::TestBackwardCompatibility::test_loads_old_slash_command_format PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_integrity_error_logs_and_rollsback PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_operational_error_logs_critical_and_raises PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_database_error_logs_and_raises PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_file_system_error_logs_critical PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_unexpected_error_logs_with_traceback PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_rollback_occurs_on_exception PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestConnectionExceptionHandling::test_connection_cleanup_on_error PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestAuditTrailLogging::test_record_audit_logs_operation PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestAuditTrailLogging::test_record_gap_logs_as_warning PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestAuditTrailLogging::test_record_compliant_status_logs_info PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestAuditTrailLogging::test_record_noncompliant_status_logs_warning PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestAuditTrailLogging::test_critical_gap_audit_trail PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestAuditTrailLogging::test_database_error_preserves_context PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestComplianceOperations::test_successful_audit_recording PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestComplianceOperations::test_successful_gap_recording PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestComplianceOperations::test_successful_status_recording PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestComplianceOperations::test_append_only_integrity PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestErrorPropagation::test_database_error_reaches_caller PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestErrorPropagation::test_integrity_error_reaches_caller PASSED [ 66%]
tests/unit/test_compliance_db_exceptions.py::TestErrorPropagation::test_file_error_reaches_caller PASSED [ 66%]
tests/unit/test_config.py::test_empathy_config_initialization PASSED     [ 66%]
tests/unit/test_config.py::test_config_default_values PASSED             [ 66%]
tests/unit/test_config.py::test_config_confidence_threshold PASSED       [ 66%]
tests/unit/test_config.py::test_config_environment_variables PASSED      [ 66%]
tests/unit/test_config.py::test_config_api_key_security PASSED           [ 66%]
tests/unit/test_config.py::test_config_serialization PASSED              [ 66%]
tests/unit/test_config.py::test_config_validation PASSED                 [ 66%]
tests/unit/test_config.py::test_config_file_paths PASSED                 [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigDefaults::test_default_config_creation PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigDefaults::test_default_logging_settings PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigDefaults::test_default_feature_flags PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigDefaults::test_default_metadata_empty PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigCustomization::test_custom_user_id PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigCustomization::test_custom_thresholds PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigCustomization::test_custom_persistence_settings PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigCustomization::test_custom_metadata PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigValidation::test_validation_fails_with_invalid_default_model PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigValidation::test_validation_passes_with_valid_default_model PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigValidation::test_validation_passes_with_no_default_model PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigYAML::test_load_from_yaml_basic PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigYAML::test_load_from_yaml_with_nested_settings PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigJSON::test_load_from_json_basic PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigJSON::test_load_from_json_with_metadata PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigEnvironment::test_load_from_env_basic PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigEnvironment::test_load_from_env_boolean_conversion PASSED [ 66%]
tests/unit/test_config_module.py::TestEmpathyConfigEnvironment::test_load_from_env_float_conversion PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_to_yaml_prevents_path_traversal PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_to_yaml_prevents_null_bytes PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_to_yaml_accepts_valid_path PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_to_json_prevents_path_traversal PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_to_json_prevents_null_bytes PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_to_json_accepts_valid_path PASSED [ 66%]
tests/unit/test_config_path_security.py::TestEmpathyConfigPathValidation::test_rejects_empty_path PASSED [ 66%]
tests/unit/test_config_path_security.py::TestWorkflowConfigPathValidation::test_save_prevents_path_traversal PASSED [ 66%]
tests/unit/test_config_path_security.py::TestWorkflowConfigPathValidation::test_save_prevents_null_bytes PASSED [ 67%]
tests/unit/test_config_path_security.py::TestWorkflowConfigPathValidation::test_save_accepts_valid_path_str PASSED [ 67%]
tests/unit/test_config_path_security.py::TestWorkflowConfigPathValidation::test_save_accepts_valid_path_object PASSED [ 67%]
tests/unit/test_config_path_security.py::TestWorkflowConfigPathValidation::test_save_creates_yaml_for_yml_suffix PASSED [ 67%]
tests/unit/test_config_path_security.py::TestWorkflowConfigPathValidation::test_save_creates_json_for_other_suffix PASSED [ 67%]
tests/unit/test_config_path_security.py::TestXMLConfigPathValidation::test_save_to_file_prevents_path_traversal PASSED [ 67%]
tests/unit/test_config_path_security.py::TestXMLConfigPathValidation::test_save_to_file_prevents_null_bytes PASSED [ 67%]
tests/unit/test_config_path_security.py::TestXMLConfigPathValidation::test_save_to_file_accepts_valid_path PASSED [ 67%]
tests/unit/test_config_path_security.py::TestXMLConfigPathValidation::test_save_to_file_uses_default_path PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_system_paths[/etc/passwd] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_system_paths[/sys/kernel/config] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_system_paths[/proc/self/environ] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_system_paths[/dev/random] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_null_bytes[config\x00.json] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_null_bytes[\x00etc/passwd] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_block_null_bytes[test.json\x00.txt] PASSED [ 67%]
tests/unit/test_config_path_security.py::TestCrossModuleConsistency::test_all_modules_accept_relative_paths PASSED [ 67%]
tests/unit/test_core.py::TestCollaborationState::test_initialization PASSED [ 67%]
tests/unit/test_core.py::TestCollaborationState::test_update_trust_success PASSED [ 67%]
tests/unit/test_core.py::TestCollaborationState::test_update_trust_failure PASSED [ 67%]
tests/unit/test_core.py::TestCollaborationState::test_update_trust_clamping_upper PASSED [ 67%]
tests/unit/test_core.py::TestCollaborationState::test_update_trust_clamping_lower PASSED [ 67%]
tests/unit/test_core.py::TestCollaborationState::test_update_trust_trajectory_tracking PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_initialization_basic PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_initialization_with_custom_params PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_memory_property_lazy_initialization PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_persist_pattern PASSED      [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_recall_pattern PASSED       [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_stash_and_retrieve PASSED   [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_stash_nonexistent_key PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_has_shared_library_with_library PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_has_shared_library_without_library PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_contribute_pattern PASSED   [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_contribute_pattern_no_library_raises PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_query_patterns PASSED       [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_query_patterns_no_library_raises PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_async_context_manager_enter PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_async_context_manager_exit PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_async_context_manager_exception_propagation PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_level_1_reactive_basic PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_level_1_reactive_empty_request_raises PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_level_1_reactive_invalid_type_raises PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_level_2_guided_basic PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_level_2_guided_validation PASSED [ 67%]
tests/unit/test_core.py::TestEmpathyOS::test_collaboration_state_updates_on_interaction PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_initialization PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_log_request_basic PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_log_request_buffering PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_automatic_flush PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_manual_flush PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_get_summary_basic PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_get_summary_includes_buffered PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_get_report_format PASSED [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_get_today PASSED  [ 67%]
tests/unit/test_cost_tracker.py::TestCostTracker::test_tier_detection PASSED [ 67%]
tests/unit/test_cost_tracker.py::test_get_tracker_singleton PASSED       [ 67%]
tests/unit/test_cost_tracker.py::test_log_request_convenience PASSED     [ 67%]
tests/unit/test_cost_tracker.py::test_cmd_costs_basic PASSED             [ 67%]
tests/unit/test_cost_tracker.py::test_cmd_costs_json_output PASSED       [ 67%]
tests/unit/test_cost_tracker_coverage_boost.py::TestLazyLoading::test_requests_property_triggers_lazy_load PASSED [ 67%]
tests/unit/test_cost_tracker_coverage_boost.py::TestLazyLoading::test_requests_lazy_load_with_existing_data PASSED [ 67%]
tests/unit/test_cost_tracker_coverage_boost.py::TestErrorHandling::test_load_summary_handles_corrupt_json PASSED [ 67%]
tests/unit/test_cost_tracker_coverage_boost.py::TestErrorHandling::test_load_summary_handles_missing_file PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestErrorHandling::test_load_requests_handles_corrupt_json PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestErrorHandling::test_load_requests_handles_corrupt_jsonl PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestErrorHandling::test_save_summary_handles_oserror PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestFlushEdgeCases::test_flush_with_empty_buffer_returns_early PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestFlushEdgeCases::test_flush_maintains_last_1000_requests PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestFlushEdgeCases::test_flush_saves_json_every_10_flushes PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestDeprecatedMethods::test_deprecated_load_method PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestCleanupHandler::test_cleanup_flushes_buffer PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestCleanupHandler::test_cleanup_handles_errors_gracefully PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestBackwardCompatibility::test_loads_from_json_when_jsonl_missing PASSED [ 68%]
tests/unit/test_cost_tracker_coverage_boost.py::TestBackwardCompatibility::test_appends_jsonl_to_json_data PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_initialization PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_record_command_basic PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_record_command_triggers_tip PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_record_patterns_learned PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_record_api_request PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_record_claude_sync PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_set_tech_debt_trend PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_get_pending_tips_with_trigger PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_mark_shown PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_get_stats PASSED [ 68%]
tests/unit/test_discovery.py::TestDiscoveryEngine::test_state_persistence PASSED [ 68%]
tests/unit/test_discovery.py::test_get_engine_singleton PASSED           [ 68%]
tests/unit/test_discovery.py::test_show_tip_if_available PASSED          [ 68%]
tests/unit/test_discovery.py::test_show_tip_if_available_quiet_mode PASSED [ 68%]
tests/unit/test_discovery.py::test_format_tips_for_cli_with_tips PASSED  [ 68%]
tests/unit/test_discovery.py::test_format_tips_for_cli_empty PASSED      [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestEmpathyFrameworkError::test_create_base_exception PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestEmpathyFrameworkError::test_base_exception_is_exception PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestValidationError::test_create_validation_error PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestValidationError::test_validation_error_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestPatternNotFoundError::test_create_with_pattern_id_only PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestPatternNotFoundError::test_create_with_custom_message PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestPatternNotFoundError::test_pattern_not_found_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestTrustThresholdError::test_create_with_trust_values PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestTrustThresholdError::test_create_with_custom_message PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestTrustThresholdError::test_trust_threshold_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestConfidenceThresholdError::test_create_with_confidence_values PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestConfidenceThresholdError::test_create_with_custom_message PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestConfidenceThresholdError::test_confidence_threshold_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestEmpathyLevelError::test_create_with_level PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestEmpathyLevelError::test_create_with_custom_message PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestEmpathyLevelError::test_empathy_level_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestLeveragePointError::test_create_leverage_point_error PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestLeveragePointError::test_leverage_point_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestFeedbackLoopError::test_create_feedback_loop_error PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestFeedbackLoopError::test_feedback_loop_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestCollaborationStateError::test_create_collaboration_state_error PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestCollaborationStateError::test_collaboration_state_inherits_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestExceptionHierarchy::test_all_exceptions_inherit_from_base PASSED [ 68%]
tests/unit/test_exceptions_coverage_boost.py::TestExceptionHierarchy::test_can_catch_all_with_base_exception PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopType::test_reinforcing_value PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopType::test_balancing_value PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopType::test_enum_members PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopPolarity::test_virtuous_value PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopPolarity::test_vicious_value PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopPolarity::test_neutral_value PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestLoopPolarity::test_enum_members PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestFeedbackLoop::test_initialization PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestFeedbackLoop::test_initialization_with_optional_params PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_initialization PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_active_loop_insufficient_data PASSED [ 68%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_active_loop_virtuous_cycle PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_active_loop_vicious_cycle PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_active_loop_balancing PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_virtuous_cycle_true PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_virtuous_cycle_false_low_success PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_virtuous_cycle_false_no_acceleration PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_virtuous_cycle_insufficient_data PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_vicious_cycle_true PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_vicious_cycle_false_low_failure PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_vicious_cycle_insufficient_data PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_get_intervention_recommendations PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_get_intervention_recommendations_unknown_loop PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_register_custom_loop PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_get_all_loops PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_reset PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_calculate_trend_increasing PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_calculate_trend_decreasing PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_calculate_trend_stable PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_calculate_trend_insufficient_data PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_get_loop_by_id_found PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_get_loop_by_id_not_found PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_standard_loops_initialized_correctly PASSED [ 69%]
tests/unit/test_feedback_loops.py::TestFeedbackLoopDetector::test_detect_active_loop_includes_details PASSED [ 69%]
tests/unit/test_health_check.py::test_health_score_calculation PASSED    [ 69%]
tests/unit/test_health_check.py::test_lint_error_scoring PASSED          [ 69%]
tests/unit/test_health_check.py::test_security_severity_scoring PASSED   [ 69%]
tests/unit/test_health_check.py::test_test_coverage_scoring PASSED       [ 69%]
tests/unit/test_health_check.py::test_tech_debt_scoring PASSED           [ 69%]
tests/unit/test_health_check.py::test_health_score_bounds PASSED         [ 69%]
tests/unit/test_health_check.py::test_health_check_json_structure PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeverageLevel::test_enum_values_exist PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeverageLevel::test_enum_is_int_enum PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeverageLevel::test_enum_ordering_by_effectiveness PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeverageLevel::test_enum_can_be_compared_to_int PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeveragePoint::test_create_leverage_point_with_required_fields PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeveragePoint::test_create_leverage_point_with_all_fields PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeveragePoint::test_leverage_point_impact_potential_range PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeveragePoint::test_leverage_point_implementation_difficulty_range PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeveragePointAnalyzerInit::test_analyzer_initializes_with_empty_points PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestLeveragePointAnalyzerInit::test_multiple_analyzers_have_independent_state PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_for_documentation_problem PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_for_trust_problem PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_for_efficiency_problem PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_for_unknown_problem_type PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_returns_ranked_list PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_stores_in_identified_points PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_find_leverage_points_accumulates_across_calls PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_documentation_problem_keyword_in_description PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_trust_problem_keyword_in_description PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestFindLeveragePoints::test_efficiency_problem_keyword_in_description PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestRankByEffectiveness::test_rank_by_effectiveness_sorts_descending PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestRankByEffectiveness::test_rank_by_effectiveness_preserves_all_points PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestRankByEffectiveness::test_rank_by_effectiveness_handles_equal_levels PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestRankByEffectiveness::test_rank_by_effectiveness_handles_empty_list PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestGetTopLeveragePoints::test_get_top_leverage_points_returns_n_points PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestGetTopLeveragePoints::test_get_top_leverage_points_returns_highest_levels PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestGetTopLeveragePoints::test_get_top_leverage_points_with_min_level PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestGetTopLeveragePoints::test_get_top_leverage_points_handles_empty_list PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestGetTopLeveragePoints::test_get_top_leverage_points_default_n_is_3 PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_analyze_intervention_feasibility_returns_dict PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_feasibility_score_calculation PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_feasibility_handles_zero_difficulty PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_highly_recommended_threshold PASSED [ 69%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_recommended_threshold PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_consider_threshold PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_caution_threshold PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_feasibility_includes_expected_outcomes PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestAnalyzeInterventionFeasibility::test_feasibility_includes_risks PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestReset::test_reset_clears_identified_points PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestReset::test_reset_allows_reuse PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestDocumentationAnalysis::test_documentation_analysis_includes_paradigm_shift PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestDocumentationAnalysis::test_documentation_analysis_includes_goal_change PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestDocumentationAnalysis::test_documentation_analysis_includes_self_organization PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestDocumentationAnalysis::test_documentation_analysis_includes_parameters PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestTrustAnalysis::test_trust_analysis_includes_paradigm_shift PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestTrustAnalysis::test_trust_analysis_includes_information_flows PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestTrustAnalysis::test_trust_analysis_includes_reinforcing_loops PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestEfficiencyAnalysis::test_efficiency_analysis_includes_goal_redefinition PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestEfficiencyAnalysis::test_efficiency_analysis_includes_delays PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestGenericAnalysis::test_generic_analysis_includes_paradigm_shift PASSED [ 70%]
tests/unit/test_leverage_points_coverage_boost.py::TestGenericAnalysis::test_generic_analysis_includes_information_flows PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponse::test_llm_response_creation PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponse::test_llm_response_with_token_counts PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponse::test_llm_response_with_cost_estimate PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponse::test_llm_response_default_values PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponse::test_llm_response_with_metadata PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseBackwardCompatibility::test_input_tokens_alias PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseBackwardCompatibility::test_output_tokens_alias PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseBackwardCompatibility::test_model_used_alias PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseBackwardCompatibility::test_cost_alias PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseBackwardCompatibility::test_total_tokens_property PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContext::test_execution_context_defaults PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContext::test_execution_context_with_workflow_info PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContext::test_execution_context_with_routing_hints PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContext::test_execution_context_with_timeout PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContext::test_execution_context_partial_initialization PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseCalculations::test_cost_calculation_with_zero_tokens PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseCalculations::test_large_token_counts PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseCalculations::test_latency_tracking PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContextMetadata::test_execution_context_with_retry_policy PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContextMetadata::test_execution_context_with_fallback_config PASSED [ 70%]
tests/unit/test_llm_executor.py::TestExecutionContextMetadata::test_execution_context_empty_metadata PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseSuccessProperty::test_success_with_content PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseSuccessProperty::test_success_with_empty_content PASSED [ 70%]
tests/unit/test_llm_executor.py::TestLLMResponseSuccessProperty::test_success_with_whitespace_content PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_initialization PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_run PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_records_calls PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_with_system_prompt PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_with_context PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_get_model_for_task PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_estimate_cost PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_token_estimation PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_zero_cost PASSED [ 70%]
tests/unit/test_llm_executor.py::TestMockLLMExecutor::test_mock_executor_low_latency PASSED [ 70%]
tests/unit/test_logging_config.py::TestStructuredFormatter::test_initialization_with_color PASSED [ 70%]
tests/unit/test_logging_config.py::TestStructuredFormatter::test_initialization_without_color PASSED [ 70%]
tests/unit/test_logging_config.py::TestStructuredFormatter::test_format_log_record PASSED [ 70%]
tests/unit/test_logging_config.py::TestStructuredFormatter::test_format_with_exception PASSED [ 70%]
tests/unit/test_logging_config.py::TestLoggingConfig::test_configure_basic PASSED [ 70%]
tests/unit/test_logging_config.py::TestLoggingConfig::test_get_logger_basic PASSED [ 70%]
tests/unit/test_logging_config.py::TestLoggingConfig::test_get_logger_caching PASSED [ 70%]
tests/unit/test_logging_config.py::TestLoggingConfig::test_set_level PASSED [ 70%]
tests/unit/test_logging_config.py::test_create_logger_basic PASSED       [ 70%]
tests/unit/test_logging_config.py::test_create_logger_with_file PASSED   [ 70%]
tests/unit/test_logging_config.py::test_create_logger_with_log_dir PASSED [ 71%]
tests/unit/test_logging_config.py::test_create_logger_idempotent PASSED  [ 71%]
tests/unit/test_logging_config.py::test_get_logger_convenience_function PASSED [ 71%]
tests/unit/test_logging_config.py::test_init_logging_from_env_default PASSED [ 71%]
tests/unit/test_logging_config.py::test_init_logging_from_env_custom PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestToolEnhancedPatternSelection::test_selects_tool_enhanced_for_single_agent_with_tools PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestToolEnhancedPatternSelection::test_does_not_select_tool_enhanced_without_tools PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestToolEnhancedPatternSelection::test_does_not_select_tool_enhanced_for_multiple_agents PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestPromptCachedSequentialPatternSelection::test_selects_cached_for_multiple_agents_with_large_context PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestPromptCachedSequentialPatternSelection::test_does_not_select_cached_for_small_context PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestPromptCachedSequentialPatternSelection::test_does_not_select_cached_for_few_agents PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestDelegationChainPatternSelection::test_selects_delegation_for_complex_with_coordinator PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestDelegationChainPatternSelection::test_does_not_select_delegation_without_coordinator PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestDelegationChainPatternSelection::test_does_not_select_delegation_for_simple_tasks PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestAnthropicPatternsMetaOrchestratorIntegration::test_composition_pattern_enum_includes_new_patterns PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestAnthropicPatternsMetaOrchestratorIntegration::test_all_patterns_have_duration_estimates PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestAnthropicPatternsMetaOrchestratorIntegration::test_tool_enhanced_pattern_in_full_workflow PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestAnthropicPatternsMetaOrchestratorIntegration::test_delegation_pattern_in_full_workflow PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestAnthropicPatternsMetaOrchestratorIntegration::test_execution_plan_created_with_new_patterns PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestPatternSelectionPriority::test_tool_enhanced_takes_priority_over_sequential PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestPatternSelectionPriority::test_delegation_takes_priority_over_adaptive PASSED [ 71%]
tests/unit/test_meta_orchestrator_anthropic.py::TestPatternSelectionPriority::test_cached_takes_priority_over_sequential PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_high_confidence_simple_task PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_low_confidence_general_domain PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_low_confidence_many_agents PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_low_confidence_complex_task PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_confidence_boost_anthropic_patterns PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_confidence_boost_domain_specific_patterns PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestConfidenceScoring::test_confidence_capped_at_one PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveMode::test_high_confidence_automatic_execution PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveMode::test_low_confidence_prompts_user PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveMode::test_analyze_and_compose_with_interactive_flag PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveMode::test_analyze_and_compose_without_interactive_flag PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestUserPrompting::test_graceful_degradation_without_ask_user_question PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveTeamBuilder::test_graceful_degradation_uses_defaults PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestPatternChooserWizard::test_graceful_degradation_without_ask_user_question PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestPatternDescriptions::test_all_patterns_have_descriptions PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestPatternDescriptions::test_anthropic_patterns_descriptions PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveIntegration::test_full_interactive_workflow_high_confidence PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveIntegration::test_full_interactive_workflow_low_confidence_fallback PASSED [ 71%]
tests/unit/test_meta_orchestrator_interactive.py::TestInteractiveIntegration::test_interactive_with_tool_enhanced_context PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_initialization PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_get_miss PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_set_and_get PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_cache_key_consistency PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_lru_eviction PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_lru_access_order PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_clear PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_get_or_compute_cache_hit PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_get_or_compute_cache_miss PASSED [ 71%]
tests/unit/test_pattern_cache.py::TestPatternMatchCache::test_update_existing_key PASSED [ 71%]
tests/unit/test_pattern_cache.py::test_cached_pattern_query_decorator PASSED [ 71%]
tests/unit/test_pattern_cache.py::test_cached_pattern_query_with_different_contexts PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPattern::test_initialization PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPattern::test_success_rate_property PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPattern::test_record_usage_success PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPattern::test_record_usage_failure PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPattern::test_confidence_update_after_threshold PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPatternMatch::test_initialization PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPatternMatch::test_relevance_score_range PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_initialization PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_contribute_pattern PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_query_patterns PASSED [ 71%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_contribute_pattern_duplicate_id_raises PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_contribute_pattern_empty_agent_id_raises PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_query_patterns_with_type_filter PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_query_patterns_validation_errors PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_get_pattern PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_get_patterns_by_tag PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_get_patterns_by_type PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_record_pattern_outcome PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_record_pattern_outcome_nonexistent_raises PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_link_patterns PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_link_patterns_validation_errors PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_get_related_patterns PASSED [ 72%]
tests/unit/test_pattern_library.py::TestPatternLibrary::test_get_related_patterns_nonexistent PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_save_and_load_json PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_save_json_creates_valid_json PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_load_json_nonexistent_file PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_save_and_load_sqlite PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_sqlite_creates_tables PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_sqlite_insert_or_replace PASSED [ 72%]
tests/unit/test_persistence.py::TestPatternPersistence::test_empty_library_persistence PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_initialization PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_save_and_load_state PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_load_nonexistent_state PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_list_users PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_delete_state PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_delete_nonexistent_state PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_save_state_creates_valid_json PASSED [ 72%]
tests/unit/test_persistence.py::TestStateManager::test_load_corrupted_state_returns_none PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_initialization PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_record_metric PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_get_user_stats_no_data PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_get_user_stats_with_data PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_get_user_stats_by_level PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_record_metric_with_metadata PASSED [ 72%]
tests/unit/test_persistence.py::TestMetricsCollector::test_multiple_users_isolated PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestRedisFallbackBehavior::test_falls_back_to_mock_on_connection_failure PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestRedisFallbackBehavior::test_falls_back_to_mock_on_auth_failure PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestRedisFallbackBehavior::test_retries_connection_with_exponential_backoff PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestRedisFallbackBehavior::test_uses_mock_when_redis_not_installed FAILED [ 72%]
tests/unit/test_redis_fallback.py::TestMockStorageFunctionality::test_mock_storage_stash_and_retrieve PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMockStorageFunctionality::test_mock_storage_respects_ttl PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMockStorageFunctionality::test_mock_storage_handles_missing_keys PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMockStorageFunctionality::test_mock_storage_stage_pattern PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMockStorageFunctionality::test_mock_storage_clear_working_memory PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMockStorageFunctionality::test_mock_storage_ping PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestDataConsistencyDuringFailover::test_stash_fails_on_connection_loss PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestConnectionRecovery::test_connection_recovery_after_failure PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestConnectionRecovery::test_tracks_retry_metrics PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestErrorHandlingEdgeCases::test_handles_redis_timeout_gracefully PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestErrorHandlingEdgeCases::test_handles_redis_out_of_memory PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestErrorHandlingEdgeCases::test_handles_max_clients_exceeded PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestConfigurationValidation::test_validates_retry_configuration FAILED [ 72%]
tests/unit/test_redis_fallback.py::TestConfigurationValidation::test_ssl_configuration PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestConfigurationValidation::test_socket_timeout_configuration PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMetricsTracking::test_tracks_retries_in_metrics PASSED [ 72%]
tests/unit/test_redis_fallback.py::TestMetricsTracking::test_mock_storage_provides_stats PASSED [ 72%]
tests/unit/test_scanner_module.py::TestProjectScannerInitialization::test_scanner_initialization_with_defaults PASSED [ 72%]
tests/unit/test_scanner_module.py::TestProjectScannerInitialization::test_scanner_initialization_with_custom_config PASSED [ 72%]
tests/unit/test_scanner_module.py::TestProjectScannerInitialization::test_scanner_has_empty_test_file_map_initially PASSED [ 72%]
tests/unit/test_scanner_module.py::TestGlobPatternMatching::test_simple_glob_pattern PASSED [ 72%]
tests/unit/test_scanner_module.py::TestGlobPatternMatching::test_doublestar_glob_pattern PASSED [ 72%]
tests/unit/test_scanner_module.py::TestGlobPatternMatching::test_directory_exclusion_pattern PASSED [ 72%]
tests/unit/test_scanner_module.py::TestGlobPatternMatching::test_is_excluded PASSED [ 72%]
tests/unit/test_scanner_module.py::TestFileDiscovery::test_discover_files_empty_directory PASSED [ 73%]
tests/unit/test_scanner_module.py::TestFileDiscovery::test_discover_files_single_file PASSED [ 73%]
tests/unit/test_scanner_module.py::TestFileDiscovery::test_discover_files_nested_directories PASSED [ 73%]
tests/unit/test_scanner_module.py::TestFileDiscovery::test_discover_files_respects_exclusions PASSED [ 73%]
tests/unit/test_scanner_module.py::TestFileTestMapping::test_build_test_mapping_test_prefix PASSED [ 73%]
tests/unit/test_scanner_module.py::TestFileTestMapping::test_build_test_mapping_test_suffix PASSED [ 73%]
tests/unit/test_scanner_module.py::TestFileTestMapping::test_build_test_mapping_no_match PASSED [ 73%]
tests/unit/test_scanner_module.py::TestProjectSummary::test_scan_generates_summary PASSED [ 73%]
tests/unit/test_scanner_module.py::TestProjectSummary::test_scan_returns_file_records PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathTraversalPrevention::test_blocks_relative_path_to_system_directories PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathTraversalPrevention::test_blocks_absolute_system_paths PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathTraversalPrevention::test_blocks_symlink_path_traversal SKIPPED [ 73%]
tests/unit/test_security_validation.py::TestPathTraversalPrevention::test_allows_safe_relative_paths PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathTraversalPrevention::test_allows_safe_absolute_paths PASSED [ 73%]
tests/unit/test_security_validation.py::TestNullByteInjection::test_blocks_null_byte_in_filename PASSED [ 73%]
tests/unit/test_security_validation.py::TestNullByteInjection::test_blocks_null_byte_in_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestSystemDirectoryProtection::test_blocks_etc_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestSystemDirectoryProtection::test_blocks_sys_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestSystemDirectoryProtection::test_blocks_proc_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestSystemDirectoryProtection::test_blocks_dev_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestAllowedDirectoryRestriction::test_allows_path_within_allowed_dir PASSED [ 73%]
tests/unit/test_security_validation.py::TestAllowedDirectoryRestriction::test_blocks_path_outside_allowed_dir PASSED [ 73%]
tests/unit/test_security_validation.py::TestAllowedDirectoryRestriction::test_blocks_traversal_out_of_allowed_dir PASSED [ 73%]
tests/unit/test_security_validation.py::TestInputValidation::test_rejects_empty_string PASSED [ 73%]
tests/unit/test_security_validation.py::TestInputValidation::test_rejects_none PASSED [ 73%]
tests/unit/test_security_validation.py::TestInputValidation::test_rejects_non_string_types PASSED [ 73%]
tests/unit/test_security_validation.py::TestInputValidation::test_rejects_whitespace_only PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathResolution::test_resolves_relative_dots PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathResolution::test_normalizes_path_separators PASSED [ 73%]
tests/unit/test_security_validation.py::TestPathResolution::test_handles_trailing_slashes PASSED [ 73%]
tests/unit/test_security_validation.py::TestEdgeCases::test_handles_very_long_paths PASSED [ 73%]
tests/unit/test_security_validation.py::TestEdgeCases::test_handles_special_characters_in_filename PASSED [ 73%]
tests/unit/test_security_validation.py::TestEdgeCases::test_handles_unicode_filenames PASSED [ 73%]
tests/unit/test_security_validation.py::TestEdgeCases::test_handles_case_sensitivity PASSED [ 73%]
tests/unit/test_security_validation.py::TestErrorMessages::test_system_directory_error_mentions_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestErrorMessages::test_null_byte_error_is_clear PASSED [ 73%]
tests/unit/test_security_validation.py::TestErrorMessages::test_allowed_dir_error_mentions_directory PASSED [ 73%]
tests/unit/test_security_validation.py::TestSecurityBestPractices::test_validation_happens_before_file_operations PASSED [ 73%]
tests/unit/test_security_validation.py::TestSecurityBestPractices::test_no_information_leakage_in_errors PASSED [ 73%]
tests/unit/test_security_validation.py::TestSecurityBestPractices::test_consistent_error_for_all_blocked_paths PASSED [ 73%]
tests/unit/test_security_validation.py::TestRealWorldScenarios::test_config_file_export PASSED [ 73%]
tests/unit/test_security_validation.py::TestRealWorldScenarios::test_telemetry_export PASSED [ 73%]
tests/unit/test_security_validation.py::TestRealWorldScenarios::test_workflow_config_save PASSED [ 73%]
tests/unit/test_security_validation.py::TestRealWorldScenarios::test_pattern_export PASSED [ 73%]
tests/unit/test_telemetry.py::test_costs_file_structure SKIPPED (Costs
file doesn't exist yet)                                                  [ 73%]
tests/unit/test_telemetry.py::test_health_file_structure PASSED          [ 73%]
tests/unit/test_telemetry.py::test_workflow_runs_structure PASSED        [ 73%]
tests/unit/test_telemetry_analytics.py::TestTelemetryAnalyticsInitialization::test_initialization_with_store PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTelemetryAnalyticsInitialization::test_initialization_creates_store_if_none PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTopExpensiveWorkflows::test_top_expensive_workflows_basic PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTopExpensiveWorkflows::test_top_expensive_workflows_aggregates_same_workflow PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTopExpensiveWorkflows::test_top_expensive_workflows_limits_results PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTopExpensiveWorkflows::test_top_expensive_workflows_empty PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestProviderUsageSummary::test_provider_usage_summary_basic PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestProviderUsageSummary::test_provider_usage_summary_error_tracking PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestProviderUsageSummary::test_provider_usage_summary_tier_distribution PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestProviderUsageSummary::test_provider_usage_summary_empty PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTierDistribution::test_tier_distribution_basic PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTierDistribution::test_tier_distribution_percentages PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestTierDistribution::test_tier_distribution_empty PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestFallbackStats::test_fallback_stats_basic PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestFallbackStats::test_fallback_stats_by_provider PASSED [ 73%]
tests/unit/test_telemetry_analytics.py::TestFallbackStats::test_fallback_stats_error_rate PASSED [ 74%]
tests/unit/test_telemetry_analytics.py::TestFallbackStats::test_fallback_stats_empty PASSED [ 74%]
tests/unit/test_telemetry_analytics.py::TestCostSavingsReport::test_cost_savings_report_basic PASSED [ 74%]
tests/unit/test_telemetry_analytics.py::TestCostSavingsReport::test_cost_savings_report_aggregates_multiple_workflows PASSED [ 74%]
tests/unit/test_telemetry_analytics.py::TestCostSavingsReport::test_cost_savings_report_empty PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_cost_aggregation PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_provider_breakdown PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_date_range_filtering PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_zero_cost_handling PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_workflow_cost_tracking PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_metrics_validation PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_token_counting PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_multi_provider_aggregation PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_cost_optimization_ratio PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_time_series_trends PASSED [ 74%]
tests/unit/test_telemetry_module.py::test_telemetry_budget_tracking PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommendationResult::test_result_required_fields PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommendationResult::test_result_fallback_default PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommendationResult::test_result_fallback_true PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_default_patterns_dir PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_custom_patterns_dir PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_default_confidence_threshold PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_custom_confidence_threshold PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_invalid_confidence_threshold_low PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_invalid_confidence_threshold_high PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_boundary_confidence_threshold PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestTierRecommenderInit::test_init_builds_indexes PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendValidation::test_recommend_empty_description_raises PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendValidation::test_recommend_whitespace_description_raises PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendValidation::test_recommend_invalid_files_type_raises PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendValidation::test_recommend_invalid_complexity_low PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendValidation::test_recommend_invalid_complexity_high PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendValidation::test_recommend_valid_complexity_boundaries PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_integration_error PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_type_mismatch PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_import_related_keywords PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_syntax_error PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_runtime_error PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_test_failure PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_unknown PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestClassifyBugType::test_classify_case_insensitive PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFallbackRecommendation::test_fallback_low_complexity PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFallbackRecommendation::test_fallback_medium_complexity PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFallbackRecommendation::test_fallback_high_complexity PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFallbackRecommendation::test_fallback_no_complexity PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFallbackRecommendation::test_fallback_boundary_3 PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFallbackRecommendation::test_fallback_boundary_7 PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendWithPatterns::test_recommend_no_patterns PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendWithPatterns::test_recommend_with_patterns PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestRecommendWithPatterns::test_recommend_files_affected PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFindSimilarPatterns::test_find_similar_patterns_invalid_type PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestFindSimilarPatterns::test_find_similar_patterns_empty_list PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestGenerateReasoning::test_reasoning_no_similar PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestGenerateReasoning::test_reasoning_one_similar PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestGenerateReasoning::test_reasoning_multiple_similar PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestEstimateCost::test_estimate_cost_no_matching PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestEstimateCost::test_estimate_cost_default_capable PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestEstimateCost::test_estimate_cost_default_premium PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestSelectTier::test_select_tier_empty_analysis PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestSelectTier::test_select_tier_single_option PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestGetStats::test_get_stats_no_patterns PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestGetStats::test_get_stats_with_patterns PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestLoadPatterns::test_load_patterns_nonexistent_dir PASSED [ 74%]
tests/unit/test_tier_recommender.py::TestLoadPatterns::test_load_patterns_invalid_json PASSED [ 75%]
tests/unit/test_tier_recommender.py::TestLoadPatterns::test_load_patterns_array_format PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_empty_text_returns_zero PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_simple_text_with_tiktoken PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_longer_text PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_code_text PASSED   [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_api_counting_success PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_api_counting_fallback_on_error PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountTokens::test_heuristic_fallback PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountMessageTokens::test_empty_messages_returns_zero PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountMessageTokens::test_single_message PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountMessageTokens::test_multiple_messages PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountMessageTokens::test_with_system_prompt PASSED [ 75%]
tests/unit/test_token_utils.py::TestCountMessageTokens::test_api_message_counting PASSED [ 75%]
tests/unit/test_token_utils.py::TestEstimateCost::test_basic_cost_calculation PASSED [ 75%]
tests/unit/test_token_utils.py::TestEstimateCost::test_large_token_counts PASSED [ 75%]
tests/unit/test_token_utils.py::TestCalculateCostWithCache::test_cost_with_cache_reads PASSED [ 75%]
tests/unit/test_token_utils.py::TestCalculateCostWithCache::test_cost_with_cache_writes PASSED [ 75%]
tests/unit/test_token_utils.py::TestCalculateCostWithCache::test_cost_with_both_cache_operations PASSED [ 75%]
tests/unit/test_token_utils.py::TestTokenCountDataclass::test_token_count_creation PASSED [ 75%]
tests/unit/test_token_utils.py::TestAnthropicProviderIntegration::test_provider_estimate_tokens PASSED [ 75%]
tests/unit/test_token_utils.py::TestAnthropicProviderIntegration::test_provider_calculate_actual_cost PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestReviewFinding::test_review_finding_creation_with_required_fields PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestReviewFinding::test_review_finding_creation_with_all_fields PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestReviewFinding::test_review_finding_defaults PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestReviewFinding::test_review_finding_severity_values PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestReviewFinding::test_review_finding_category_values PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestCodeReviewResult::test_code_review_result_creation PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestCodeReviewResult::test_code_review_result_verdict_values PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestGetEmpathyDir::test_get_empathy_dir_creates_directory PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestGetEmpathyDir::test_get_empathy_dir_returns_existing_directory PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_minimal PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_with_findings PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_builds_summary PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_with_custom_summary PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_handles_missing_fields PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_different_model_tiers PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWriteCodeReviewResults::test_write_code_review_results_timestamp_format PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWritePRReviewResults::test_write_pr_review_results_minimal PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWritePRReviewResults::test_write_pr_review_results_formatted_report PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWritePRReviewResults::test_write_pr_review_results_with_verdict PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestWritePRReviewResults::test_write_pr_review_results_string_pr_number PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestSendToVSCode::test_send_to_vscode_minimal PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestSendToVSCode::test_send_to_vscode_with_findings PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestSendToVSCode::test_send_to_vscode_empty_findings_list PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestSendToVSCode::test_send_to_vscode_returns_correct_path PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestIntegration::test_full_code_review_workflow PASSED [ 75%]
tests/unit/test_vscode_bridge_coverage_boost.py::TestIntegration::test_full_pr_review_workflow PASSED [ 75%]
tests/unit/test_workflow_base.py::TestModelTier::test_model_tier_values PASSED [ 75%]
tests/unit/test_workflow_base.py::TestModelTier::test_model_tier_to_unified PASSED [ 75%]
tests/unit/test_workflow_base.py::TestModelTier::test_model_tier_enum_members PASSED [ 75%]
tests/unit/test_workflow_base.py::TestModelProvider::test_model_provider_values PASSED [ 75%]
tests/unit/test_workflow_base.py::TestModelProvider::test_model_provider_to_unified PASSED [ 75%]
tests/unit/test_workflow_base.py::TestModelProvider::test_all_providers_can_convert PASSED [ 75%]
tests/unit/test_workflow_base.py::TestProviderModels::test_build_provider_models_returns_dict PASSED [ 75%]
tests/unit/test_workflow_base.py::TestProviderModels::test_build_provider_models_has_providers PASSED [ 75%]
tests/unit/test_workflow_base.py::TestProviderModels::test_build_provider_models_structure PASSED [ 75%]
tests/unit/test_workflow_base.py::TestWorkflowConstants::test_workflow_history_file_path PASSED [ 75%]
tests/unit/test_workflow_commands.py::TestLoadPatterns::test_load_patterns_from_existing_directory PASSED [ 75%]
tests/unit/test_workflow_commands.py::TestLoadPatterns::test_load_patterns_from_nonexistent_directory PASSED [ 75%]
tests/unit/test_workflow_commands.py::TestLoadPatterns::test_load_patterns_with_items_key PASSED [ 75%]
tests/unit/test_workflow_commands.py::TestLoadPatterns::test_load_patterns_handles_invalid_json PASSED [ 75%]
tests/unit/test_workflow_commands.py::TestLoadPatterns::test_load_patterns_handles_missing_files PASSED [ 75%]
tests/unit/test_workflow_commands.py::TestLoadStats::test_load_stats_from_existing_file PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLoadStats::test_load_stats_from_nonexistent_file PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLoadStats::test_load_stats_handles_invalid_json PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestSaveStats::test_save_stats_creates_directory PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestSaveStats::test_save_stats_writes_valid_json PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestSaveStats::test_save_stats_overwrites_existing_file PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestSaveStats::test_save_stats_handles_datetime_objects PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunCommand::test_run_command_successful_execution PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunCommand::test_run_command_failed_execution PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunCommand::test_run_command_nonexistent_command PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunCommand::test_run_command_with_arguments PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunCommand::test_run_command_captures_stderr PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGetTechDebtTrend::test_tech_debt_increasing_trend PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGetTechDebtTrend::test_tech_debt_decreasing_trend PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGetTechDebtTrend::test_tech_debt_stable_trend PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGetTechDebtTrend::test_tech_debt_insufficient_data PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGetTechDebtTrend::test_tech_debt_no_file PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGetTechDebtTrend::test_tech_debt_multiple_snapshots PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestStatsLoadSaveRoundTrip::test_save_and_load_roundtrip PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestPatternsLoadingIntegration::test_load_all_pattern_types PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflow::test_morning_workflow_basic_execution PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflow::test_morning_workflow_shows_recent_patterns PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflow::test_morning_workflow_suggests_resolving_investigating_bugs PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflow::test_morning_workflow_shows_tech_debt_hotspots PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflow::test_morning_workflow_updates_stats PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflow::test_ship_workflow_tests_only_mode PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflow::test_ship_workflow_security_only_mode PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflow::test_ship_workflow_full_validation PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflow::test_ship_workflow_with_lint_failures PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflow::test_ship_workflow_with_format_warnings PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflow::test_ship_workflow_syncs_to_claude PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunTestsOnly::test_run_tests_only_success PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunTestsOnly::test_run_tests_only_failure PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunSecurityOnly::test_run_security_only_no_issues PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunSecurityOnly::test_run_security_only_with_bandit_issues PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunSecurityOnly::test_run_security_only_detects_hardcoded_secrets PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestRunSecurityOnly::test_run_security_only_detects_sensitive_files PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestFixAllWorkflow::test_fix_all_workflow_basic_execution PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestFixAllWorkflow::test_fix_all_workflow_dry_run PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestFixAllWorkflow::test_fix_all_workflow_with_unfixable_issues PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLearnWorkflow::test_learn_workflow_analyzes_commits PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLearnWorkflow::test_learn_workflow_classifies_bug_types PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLearnWorkflow::test_learn_workflow_avoids_duplicate_patterns PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLearnWorkflow::test_learn_workflow_watch_mode_not_implemented PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestLearnWorkflow::test_learn_workflow_handles_git_errors PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestCLICommandHandlers::test_cmd_morning_handler PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestCLICommandHandlers::test_cmd_ship_handler PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestCLICommandHandlers::test_cmd_fix_all_handler PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestCLICommandHandlers::test_cmd_learn_handler PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestCommandTimeouts::test_run_command_respects_timeout PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestCommandTimeouts::test_run_command_handles_exceptions PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestTechDebtTrendEdgeCases::test_tech_debt_handles_malformed_json PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestTechDebtTrendEdgeCases::test_tech_debt_handles_missing_snapshots_key PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestTechDebtTrendEdgeCases::test_tech_debt_handles_missing_total_items_key PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestVerboseOutputMode::test_ship_workflow_verbose_mode PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestVerboseOutputMode::test_learn_workflow_verbose_mode PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGitStatusParsing::test_ship_workflow_detects_staged_files PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestGitStatusParsing::test_ship_workflow_warns_unstaged_files PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflowEdgeCases::test_morning_workflow_handles_missing_timestamp_formats PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflowEdgeCases::test_morning_workflow_handles_ruff_failures PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflowEdgeCases::test_morning_workflow_handles_git_failures PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestMorningWorkflowEdgeCases::test_morning_workflow_no_patterns_suggests_learning PASSED [ 76%]
tests/unit/test_workflow_commands.py::TestShipWorkflowEdgeCases::test_ship_workflow_handles_mypy_not_installed PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestShipWorkflowEdgeCases::test_ship_workflow_detects_type_errors PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestShipWorkflowEdgeCases::test_ship_workflow_sync_claude_import_error PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestShipWorkflowEdgeCases::test_ship_workflow_handles_empty_git_status PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestSecurityOnlyEdgeCases::test_security_only_bandit_not_installed PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestSecurityOnlyEdgeCases::test_security_only_multiple_issues PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestFixAllWorkflowEdgeCases::test_fix_all_counts_fixes_correctly PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestFixAllWorkflowEdgeCases::test_fix_all_isort_output_handling PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestFixAllWorkflowEdgeCases::test_fix_all_dry_run_counts_diffs PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestLearnWorkflowEdgeCases::test_learn_workflow_handles_empty_commits PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestLearnWorkflowEdgeCases::test_learn_workflow_handles_malformed_commit_lines PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestLearnWorkflowEdgeCases::test_learn_workflow_filters_non_bug_commits PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestLearnWorkflowEdgeCases::test_learn_workflow_extracts_files_from_diff PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestCLIHandlerDefaults::test_cmd_morning_uses_defaults PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestCLIHandlerDefaults::test_cmd_ship_uses_defaults PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestCLIHandlerDefaults::test_cmd_fix_all_uses_defaults PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestCLIHandlerDefaults::test_cmd_learn_uses_defaults PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestStatsIntegration::test_morning_workflow_increments_stats PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestStatsIntegration::test_ship_workflow_increments_stats PASSED [ 77%]
tests/unit/test_workflow_commands.py::TestStatsIntegration::test_learn_workflow_tracks_patterns_learned PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigInitialization::test_default_initialization PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigInitialization::test_initialization_with_custom_values PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_from_json PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_from_yaml PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_with_no_file PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_with_env_overrides PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_with_workflow_specific_env PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_with_model_tier_env PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigLoading::test_load_from_empathy_config_yaml PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_provider_for_workflow_default PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_provider_for_workflow_override PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_model_for_tier_no_override PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_model_for_tier_with_provider_override PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_model_for_tier_with_env_override PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_pricing_exists PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigProviderMethods::test_get_pricing_not_exists PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigXMLMethods::test_get_xml_config_defaults_only PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigXMLMethods::test_get_xml_config_with_workflow_override PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigXMLMethods::test_is_xml_enabled_true PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigXMLMethods::test_is_xml_enabled_false PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_hipaa_mode_false PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_hipaa_mode_true PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_pii_scrubbing_explicit_true PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_pii_scrubbing_explicit_false PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_pii_scrubbing_hipaa_default PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_pii_scrubbing_standard_default PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_workflow_enabled_explicitly_enabled PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_workflow_enabled_explicitly_disabled PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_workflow_enabled_hipaa_auto_enable PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_workflow_enabled_default PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_is_workflow_enabled_disabled_takes_precedence PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_get_effective_audit_level_standard PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_get_effective_audit_level_hipaa PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigComplianceMethods::test_get_effective_audit_level_explicit PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigSaving::test_save_to_json PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigSaving::test_save_to_yaml PASSED [ 77%]
tests/unit/test_workflow_config.py::TestWorkflowConfigSaving::test_save_creates_parent_directory PASSED [ 77%]
tests/unit/test_workflow_config.py::TestGetModelFunction::test_get_model_default PASSED [ 77%]
tests/unit/test_workflow_config.py::TestGetModelFunction::test_get_model_with_config_override PASSED [ 77%]
tests/unit/test_workflow_config.py::TestGetModelFunction::test_get_model_fallback_to_default PASSED [ 77%]
tests/unit/test_workflow_config.py::TestModelConfig::test_model_config_initialization PASSED [ 77%]
tests/unit/test_workflow_config.py::TestModelConfig::test_model_config_defaults PASSED [ 77%]
tests/unit/test_workflow_migration.py::TestMigrationConfig::test_default_config PASSED [ 77%]
tests/unit/test_workflow_migration.py::TestMigrationConfig::test_load_missing_file PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestMigrationConfig::test_save_and_load PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestMigrationConfig::test_remember_choice PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestIsInteractive::test_ci_environment PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestIsInteractive::test_gitlab_ci PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestIsInteractive::test_explicit_non_interactive PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestIsInteractive::test_non_tty_stdin PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_non_aliased_workflow PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_aliased_workflow_auto_mode PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_aliased_workflow_legacy_mode PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_remembered_choice_new PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_remembered_choice_legacy PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_removed_workflow_ci PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestResolveWorkflowMigration::test_ci_silent_aliasing PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestGetCanonicalWorkflowName::test_aliased_workflow PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestGetCanonicalWorkflowName::test_non_aliased_workflow PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestGetCanonicalWorkflowName::test_removed_workflow PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestListMigrations::test_returns_list PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestListMigrations::test_migration_structure PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestListMigrations::test_known_migrations_included PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestWorkflowAliases::test_all_aliases_have_tuple_value PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestWorkflowAliases::test_code_review_aliases PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestWorkflowAliases::test_test_generation_aliases PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestWorkflowAliases::test_release_aliases PASSED [ 78%]
tests/unit/test_workflow_migration.py::TestWorkflowAliases::test_removed_workflows PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustState::test_state_values PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustState::test_state_count PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustDamageType::test_damage_type_values PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustDamageType::test_damage_type_count PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustDamageEvent::test_create_event PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustDamageEvent::test_create_event_defaults PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustDamageEvent::test_event_type_from_string PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustRecoveryEvent::test_create_event PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustRecoveryEvent::test_create_event_defaults PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustConfig::test_default_config PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustConfig::test_custom_config PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustConfig::test_severity_weights PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustConfig::test_high_impact_actions PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustCircuitBreakerBasic::test_init_default PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustCircuitBreakerBasic::test_init_custom_config PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustCircuitBreakerBasic::test_state_property PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustCircuitBreakerBasic::test_can_act_freely_full_autonomy PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustCircuitBreakerBasic::test_can_act_freely_reduced PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestTrustCircuitBreakerBasic::test_time_in_current_state PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageScore::test_damage_score_no_events PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageScore::test_damage_score_single_event PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageScore::test_damage_score_weighted_by_type PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageScore::test_damage_score_time_decay PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageScore::test_damage_score_excludes_old_events PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageScore::test_damage_score_multiple_events PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDecisionMethods::test_should_require_confirmation_full_autonomy PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDecisionMethods::test_should_require_confirmation_reduced_autonomy PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDecisionMethods::test_should_require_confirmation_supervised PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDecisionMethods::test_get_autonomy_level_full_autonomy PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDecisionMethods::test_get_autonomy_level_reduced_autonomy PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDecisionMethods::test_get_autonomy_level_supervised PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageRecording::test_record_damage_creates_event PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageRecording::test_record_damage_string_type PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageRecording::test_record_damage_triggers_state_change PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageRecording::test_record_damage_in_supervised_reduces_progress PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestDamageRecording::test_record_damage_in_supervised_min_zero PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestSuccessRecording::test_record_success_creates_event PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestSuccessRecording::test_record_success_in_supervised_increments_count PASSED [ 78%]
tests/unit/trust/test_circuit_breaker.py::TestSuccessRecording::test_record_success_triggers_recovery PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestSuccessRecording::test_record_success_in_full_autonomy_no_change PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestStateTransitions::test_transition_full_to_reduced PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestStateTransitions::test_transition_reduced_to_supervised PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestStateTransitions::test_transition_supervised_to_full PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestStateTransitions::test_state_change_callback PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestStateTransitions::test_recovery_clears_old_events PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestManualControls::test_reset_returns_to_full_autonomy PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestManualControls::test_reset_clears_supervised_successes PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestManualControls::test_reset_triggers_callback PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestSerialization::test_to_dict PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestSerialization::test_from_dict PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestSerialization::test_round_trip_serialization PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestCreateTrustBreaker::test_create_default PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestCreateTrustBreaker::test_create_with_domain PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestCreateTrustBreaker::test_create_strict_mode PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestIntegration::test_full_damage_recovery_cycle PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestIntegration::test_damage_in_supervised_extends_recovery PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestIntegration::test_multiple_domains PASSED [ 79%]
tests/unit/trust/test_circuit_breaker.py::TestIntegration::test_weighted_damage_types PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestPatternCategory::test_enum_values_exist PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestPatternCategory::test_enum_count PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowComplexity::test_enum_values_exist PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowComplexity::test_enum_count PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestCodeSection::test_create_code_section PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestCodeSection::test_create_code_section_with_priority PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowPattern::test_create_pattern_with_all_fields PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowPattern::test_pattern_risk_weight_validation_min PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowPattern::test_pattern_risk_weight_validation_max PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowPattern::test_pattern_generate_code_sections_not_implemented PASSED [ 79%]
tests/unit/workflow_patterns/test_core_coverage_boost.py::TestWorkflowPattern::test_pattern_config_uses_enum_values PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_id PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_name PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_category PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_description PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_complexity PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_use_cases PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_examples PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestResultDataclassPatternAttributes::test_pattern_risk_weight PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsDefault::test_generate_code_sections_returns_list PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsDefault::test_generate_imports_section PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsDefault::test_generate_dataclass_section PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsDefault::test_generate_methods_section PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsDefault::test_sections_have_priorities PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsDefault::test_sections_are_code_section_instances PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsCustomContext::test_generate_with_custom_class_name PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsCustomContext::test_generate_with_custom_result_fields PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsCustomContext::test_generate_without_custom_fields_shows_placeholder PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsCustomContext::test_generate_with_empty_result_fields PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestGenerateCodeSectionsCustomContext::test_generate_with_workflow_name PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestCodeSectionValidation::test_all_sections_have_location PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestCodeSectionValidation::test_all_sections_have_code PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestCodeSectionValidation::test_imports_section_priority PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestCodeSectionValidation::test_dataclass_section_priority PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestCodeSectionValidation::test_methods_section_priority PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestIntegration::test_full_workflow_code_generation PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestIntegration::test_pattern_attributes_accessible PASSED [ 79%]
tests/unit/workflow_patterns/test_output_coverage_boost.py::TestIntegration::test_pattern_can_be_serialized PASSED [ 79%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCategory::test_structural_category PASSED [ 79%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCategory::test_tier_category PASSED [ 79%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCategory::test_integration_category PASSED [ 79%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCategory::test_output_category PASSED [ 79%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCategory::test_behavior_category PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowComplexity::test_simple_complexity PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowComplexity::test_moderate_complexity PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowComplexity::test_complex_complexity PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCodeSection::test_code_section_creation PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCodeSection::test_code_section_default_priority PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestSingleStagePattern::test_pattern_attributes PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestSingleStagePattern::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestSingleStagePattern::test_use_cases_defined PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestMultiStagePattern::test_pattern_attributes PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestMultiStagePattern::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestMultiStagePattern::test_examples_include_known_workflows PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCrewBasedPattern::test_pattern_attributes PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCrewBasedPattern::test_conflicts_with_single_stage PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCrewBasedPattern::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestConditionalTierPattern::test_pattern_attributes PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestConditionalTierPattern::test_requires_multi_stage PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestConditionalTierPattern::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestConfigDrivenPattern::test_pattern_attributes PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestConfigDrivenPattern::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCodeScannerPattern::test_pattern_attributes PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestCodeScannerPattern::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_registry_initializes_with_default_patterns PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_register_custom_pattern PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_get_returns_none_for_unknown PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_list_by_category PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_list_by_complexity PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_search_by_name PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_search_by_description PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_search_case_insensitive PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_recommend_for_code_analysis PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_recommend_for_simple PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_recommend_for_multi_agent PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_validate_pattern_combination_valid PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_validate_pattern_combination_conflict PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_validate_pattern_combination_unknown PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_validate_pattern_combination_missing_requirement PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_get_total_risk_weight PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_get_total_risk_weight_unknown_ignored PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_generate_code_sections PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternRegistry::test_generate_code_sections_multiple_patterns PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestGetWorkflowPatternRegistry::test_returns_registry_instance PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestGetWorkflowPatternRegistry::test_returns_same_instance PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternBase::test_pattern_model_validation PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternBase::test_pattern_default_values PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestWorkflowPatternBase::test_risk_weight_bounds PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCodeGeneration::test_single_stage_code_is_valid_python_syntax PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCodeGeneration::test_multi_stage_code_includes_all_stages PASSED [ 80%]
tests/unit/workflow_patterns/test_workflow_patterns.py::TestPatternCodeGeneration::test_config_driven_escapes_string_values PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_creates_output_directory PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_creates_file_per_layout PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_creates_valid_json PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_includes_all_shortcuts PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_bindings_format PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_bindings_converts_ctrl_to_cmd_for_mac PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_bindings_skips_missing_commands PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_find_command_returns_correct_command PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_find_command_returns_none_for_missing_feature PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestVSCodeKeybindingsGenerator::test_generate_multiple_layouts PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_creates_parent_directory PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_creates_file PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_includes_header PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_includes_mnemonic_in_header PASSED [ 80%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_creates_short_aliases PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_includes_mnemonic_comments PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_skips_features_without_cli_alias PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_uses_qwerty_layout_by_default PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_generate_handles_no_shortcuts PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_find_cli_alias_returns_correct_alias PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestCLIAliasGenerator::test_find_cli_alias_returns_none_for_missing_feature PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_creates_parent_directory PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_creates_file PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_project_name PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_phrase_mnemonic PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_prefix_instructions PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_keyboard_diagram PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_scales_section PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_full_table PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_includes_empathy_attribution PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_handles_no_shortcuts PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_cheatsheet_groups_by_scale PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_keyboard_diagram_highlights_active_keys PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_scales_section_shows_progression PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_generate_full_table_includes_all_shortcuts PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_find_shortcut_by_key_returns_correct_shortcut PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_find_shortcut_by_key_case_insensitive PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_find_shortcut_by_key_returns_none_for_missing PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_find_feature_returns_correct_feature PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestMarkdownDocGenerator::test_find_feature_returns_none_for_missing PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_initialization PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_creates_output_directory PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_creates_all_formats PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_creates_vscode_keybindings PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_creates_cli_aliases PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_creates_markdown_docs PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_organizes_keybindings_in_subdirectory PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_generators.py::TestComprehensiveGenerator::test_generate_all_returns_all_paths PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_can_parse_valid_package_json PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_can_parse_rejects_wrong_filename PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_can_parse_rejects_nonexistent_file PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_basic_commands PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_with_category_extraction PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_infers_frequency_tier_from_category PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_skips_internal_commands PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_skips_commands_without_title PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_handles_invalid_json PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_handles_missing_file PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_parse_handles_empty_contributes PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_extract_category_with_colon_only PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_extract_category_with_arrow PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_extract_category_no_delimiter PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_extract_name_with_arrow PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_extract_name_with_colon PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_extract_name_plain_text PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_infer_tier_daily_from_quick PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_infer_tier_daily_from_daily PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_infer_tier_frequent_from_view PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_infer_tier_frequent_from_workflow PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestVSCodeCommandParser::test_infer_tier_advanced_default PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_can_parse_valid_pyproject_toml PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_can_parse_rejects_wrong_filename PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_can_parse_rejects_nonexistent_file PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_parse_basic_scripts PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_parse_entry_points PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_parse_handles_missing_tomllib PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_parse_handles_invalid_toml PASSED [ 81%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_parse_handles_missing_file PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestPyProjectParser::test_parse_handles_empty_file PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_can_parse_features_yaml PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_can_parse_features_yml PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_can_parse_rejects_wrong_filename PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_basic_features PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_infers_tier_from_category PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_feature_overrides_category_tier PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_handles_invalid_tier PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_generates_id_from_name PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_handles_invalid_yaml PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_handles_missing_file PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_full_manifest PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_full_manifest_handles_missing_file PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestYAMLManifestParser::test_parse_full_manifest_handles_invalid_yaml PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestLLMFeatureAnalyzer::test_analyze_codebase_returns_empty_list PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestLLMFeatureAnalyzer::test_analyze_codebase_with_client PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_initialization PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_from_package_json PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_from_pyproject_toml PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_prefers_full_manifest PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_combines_multiple_sources PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_infers_project_type_vscode PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_infers_project_type_python PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_discover_features_categorizes_by_frequency PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_get_patterns_vscode PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_get_patterns_pyproject PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_get_patterns_yaml PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_create_manifest_from_features_groups_by_category PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_parsers.py::TestCompositeParser::test_create_manifest_from_features_infers_tier_from_frequency PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFrequencyTier::test_enum_values_exist PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFrequencyTier::test_enum_is_string_enum PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFrequencyTier::test_enum_can_be_compared_to_string PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayout::test_enum_values_exist PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayout::test_enum_is_string_enum PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayout::test_all_layouts_in_keyboard_layouts_constant PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestHandPosition::test_enum_values_exist PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestHandPosition::test_enum_is_string_enum PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFingerPosition::test_enum_values_exist PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFingerPosition::test_enum_is_string_enum PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestRowPosition::test_enum_values_exist PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestRowPosition::test_enum_is_string_enum PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeature::test_create_feature_with_required_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeature::test_create_feature_with_all_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeature::test_feature_context_can_be_editor PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeature::test_feature_context_can_be_explorer PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestCategory::test_create_category_with_required_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestCategory::test_create_category_with_features PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestCategory::test_create_category_with_custom_icon_and_tier PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutConfig::test_create_qwerty_layout_sets_defaults PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutConfig::test_create_dvorak_layout_sets_defaults PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutConfig::test_create_colemak_layout_sets_defaults PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutConfig::test_create_layout_with_explicit_home_row PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutConfig::test_create_layout_with_explicit_home_row_and_mnemonic PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestShortcutAssignment::test_create_assignment_with_required_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestShortcutAssignment::test_create_assignment_with_all_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestScaleAssignments::test_create_scale_assignments_with_defaults PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestScaleAssignments::test_create_scale_assignments_with_keys PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutShortcuts::test_create_layout_shortcuts_with_defaults PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestLayoutShortcuts::test_create_layout_shortcuts_with_all_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_create_manifest_with_required_fields PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_create_manifest_with_vscode_project_type PASSED [ 82%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_create_manifest_with_python_cli_project_type PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_create_manifest_with_custom_prefix PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_create_manifest_with_explicit_layouts PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_all_features_returns_empty_for_no_categories PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_all_features_returns_all_features_across_categories PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_features_by_tier_filters_daily PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_features_by_tier_filters_frequent PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_features_by_tier_filters_advanced PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestFeatureManifest::test_features_by_tier_returns_empty_for_no_matches PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestGeneratedShortcuts::test_create_generated_shortcuts_with_defaults PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestGeneratedShortcuts::test_create_generated_shortcuts_with_layouts PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestGeneratedShortcuts::test_create_generated_shortcuts_with_validation_failure PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayoutsConstant::test_keyboard_layouts_has_all_enum_values PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayoutsConstant::test_keyboard_layouts_has_required_keys PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayoutsConstant::test_qwerty_layout_has_correct_keys PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayoutsConstant::test_dvorak_layout_has_correct_keys PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestKeyboardLayoutsConstant::test_colemak_layout_has_correct_keys PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestReservedKeysConstant::test_reserved_keys_has_global_and_ide PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestReservedKeysConstant::test_reserved_keys_global_contains_os_keys PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_schema_coverage_boost.py::TestReservedKeysConstant::test_reserved_keys_ide_contains_editor_keys PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestWorkflowConfiguration::test_workflow_name PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestWorkflowConfiguration::test_workflow_description PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestWorkflowConfiguration::test_workflow_stages PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestWorkflowConfiguration::test_workflow_tier_map PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestWorkflowConfiguration::test_workflow_has_parser PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestWorkflowConfiguration::test_workflow_has_generator PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestDiscoverStage::test_discover_features_from_package_json PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestDiscoverStage::test_discover_returns_manifest PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestDiscoverStage::test_discover_handles_no_features PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestDiscoverStage::test_discover_uses_current_directory_by_default PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestAnalyzeStage::test_analyze_calls_llm PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestAnalyzeStage::test_analyze_formats_prompt_correctly PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestAnalyzeStage::test_analyze_parses_yaml_response PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestAnalyzeStage::test_analyze_updates_manifest_with_frequencies PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestAnalyzeStage::test_analyze_returns_token_counts PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestGenerateStage::test_generate_calls_llm PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestGenerateStage::test_generate_parses_json_response PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestGenerateStage::test_generate_creates_shortcuts_for_all_layouts PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestGenerateStage::test_generate_uses_fallback_on_invalid_response PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestGenerateStage::test_generate_fallback_uses_first_letter PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestGenerateStage::test_generate_fallback_handles_conflicts PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestValidateStage::test_validate_calls_llm PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestValidateStage::test_validate_parses_validation_response PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestValidateStage::test_validate_updates_generated_shortcuts PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestExportStage::test_export_generates_all_outputs PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestExportStage::test_export_creates_vscode_keybindings PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestExportStage::test_export_creates_cli_aliases PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestExportStage::test_export_creates_markdown_docs PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestStageSkipping::test_skip_analyze_if_features_already_categorized PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestStageSkipping::test_dont_skip_analyze_if_features_need_categorization PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestStageSkipping::test_skip_validate_if_requested PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestStageSkipping::test_dont_skip_validate_by_default PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestStageSkipping::test_dont_skip_other_stages PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestRunStage::test_run_stage_discover PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestRunStage::test_run_stage_analyze PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestRunStage::test_run_stage_generate PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestRunStage::test_run_stage_validate PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestRunStage::test_run_stage_export PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestRunStage::test_run_stage_invalid_stage PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_features_to_yaml PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_parse_yaml_response_with_code_block PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_parse_yaml_response_without_code_block PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_parse_yaml_response_invalid PASSED [ 83%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_parse_json_response_with_code_block PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_parse_json_response_without_code_block PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_parse_json_response_invalid PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_update_manifest_from_analysis PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_update_manifest_ignores_invalid_frequency PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_build_generated_shortcuts_from_response PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_build_generated_shortcuts_with_none_uses_fallback PASSED [ 84%]
tests/unit/workflows/keyboard_shortcuts/test_workflow.py::TestHelperMethods::test_invoke_llm_calls_base_method PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestTier::test_tier_ordering PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestTier::test_tier_values PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_calculate_quality_score_perfect PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_calculate_quality_score_typical PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_calculate_quality_score_with_syntax_errors PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_should_escalate_low_cqs PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_should_escalate_high_quality PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_should_escalate_many_syntax_errors PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_failure_severity_critical PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_failure_severity_high PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_failure_severity_moderate PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestFailureAnalysis::test_failure_severity_low PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestTierResult::test_quality_score_property PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestTierResult::test_success_count PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestTierResult::test_success_rate PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestTierResult::test_success_rate_no_items PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestProgressiveWorkflowResult::test_cost_savings_calculation PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestEscalationConfig::test_default_config PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestEscalationConfig::test_get_max_attempts PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestEscalationConfig::test_get_min_attempts PASSED [ 84%]
tests/unit/workflows/progressive/test_core.py::TestEscalationConfig::test_custom_thresholds PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostEstimation::test_estimate_tier_cost_cheap PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostEstimation::test_estimate_tier_cost_capable PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostEstimation::test_estimate_tier_cost_premium PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostEstimation::test_estimate_total_cost_with_escalation PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostEstimation::test_estimate_total_cost_small_batch PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_approval_user_accepts FAILED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_approval_user_declines FAILED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_approval_below_threshold PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_approval_auto_approve_under_config PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_escalation_approval_uppercase FAILED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_escalation_approval_declined PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestBudgetChecking::test_check_budget_under_limit PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestBudgetChecking::test_check_budget_exceeded_with_abort PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestBudgetChecking::test_check_budget_exceeded_with_warn PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_initialization PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_track_tier_execution PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_track_escalation PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_track_budget_exceeded PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_track_workflow_completion PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_get_provider_openai PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_get_provider_anthropic PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_get_provider_google PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_get_provider_unknown PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestProgressiveTelemetry::test_hash_user_id PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestTelemetryIntegration::test_telemetry_initialized_on_execute PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestTelemetryIntegration::test_telemetry_tracks_tier_execution PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostManagementEdgeCases::test_zero_cost_estimation PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostManagementEdgeCases::test_budget_check_with_no_tier_results PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestCostManagementEdgeCases::test_exact_budget_match PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestTelemetryEdgeCases::test_workflow_completion_with_zero_items PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestTelemetryEdgeCases::test_workflow_completion_with_multiple_tiers PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestTelemetryEdgeCases::test_workflow_completion_with_no_failure_analysis PASSED [ 84%]
tests/unit/workflows/progressive/test_cost_telemetry.py::TestTelemetryEdgeCases::test_custom_event_with_anonymous_user PASSED [ 84%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_cheap_escalation_on_low_cqs PASSED [ 84%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_cheap_no_escalation_on_good_quality PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_cheap_escalation_on_syntax_errors PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_capable_escalation_on_stagnation PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_capable_no_escalation_on_improvement PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_capable_escalation_on_max_attempts PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestMetaOrchestrator::test_stagnation_detection PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestPromptGeneration::test_cheap_prompt_basic PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestPromptGeneration::test_capable_prompt_with_failure_context PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestPromptGeneration::test_premium_prompt_with_comprehensive_context PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestPromptGeneration::test_xml_escaping PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestFailurePatternAnalysis::test_analyze_async_errors PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestFailurePatternAnalysis::test_analyze_mocking_errors PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestFailurePatternAnalysis::test_analyze_syntax_errors PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestFailurePatternAnalysis::test_analyze_mixed_errors PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestFailurePatternAnalysis::test_empty_failures PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestAgentTeamCreation::test_cheap_tier_single_agent PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestAgentTeamCreation::test_capable_tier_two_agents PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestAgentTeamCreation::test_premium_tier_three_agents PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestEdgeCases::test_minimum_attempts_not_met PASSED [ 85%]
tests/unit/workflows/progressive/test_orchestrator.py::TestEdgeCases::test_premium_tier_never_escalates PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestReportGeneration::test_format_duration_seconds PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestReportGeneration::test_format_duration_minutes PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestReportGeneration::test_generate_progression_report_single_tier PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestReportGeneration::test_generate_progression_report_multi_tier PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestResultStorage::test_save_and_load_result PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestResultStorage::test_load_nonexistent_task PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestResultStorage::test_list_saved_results_empty PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestResultStorage::test_list_saved_results_multiple PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCleanupPolicy::test_cleanup_old_results_dry_run PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCleanupPolicy::test_cleanup_old_results_actual PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCleanupPolicy::test_cleanup_empty_storage PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCostAnalytics::test_generate_analytics_no_results PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCostAnalytics::test_generate_analytics_single_result PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCostAnalytics::test_generate_analytics_multiple_results PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCostAnalytics::test_format_analytics_report PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCLI::test_cli_list_results_empty PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCLI::test_cli_show_report_nonexistent PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCLI::test_cli_analytics_no_results PASSED [ 85%]
tests/unit/workflows/progressive/test_reports_analytics.py::TestCLI::test_cli_cleanup_dry_run PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_initialization_default_config PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_initialization_custom_config PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_execute_file_not_found PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_execute_empty_file PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_execute_no_functions PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_parse_functions_simple_file PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_parse_functions_with_docstrings PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_parse_functions_syntax_error PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_build_test_gen_task_single_function PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_build_test_gen_task_multiple_functions PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_build_test_gen_task_many_functions PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_generate_mock_test_simple_function PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_generate_mock_test_no_args PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_generate_test_setup_infers_types PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_analyze_generated_test_valid_syntax PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_analyze_generated_test_syntax_error PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_analyze_generated_test_no_assertions PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_simulate_test_generation_cheap_tier PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_simulate_test_generation_premium_tier PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_execute_tier_impl_builds_prompt PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_execute_tier_impl_with_context PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestProgressiveTestGenWorkflow::test_create_empty_result PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestExecuteTestFile::test_execute_nonexistent_file PASSED [ 85%]
tests/unit/workflows/progressive/test_test_gen.py::TestExecuteTestFile::test_execute_valid_test_file PASSED [ 86%]
tests/unit/workflows/progressive/test_test_gen.py::TestCalculateCoverage::test_coverage_nonexistent_files PASSED [ 86%]
tests/unit/workflows/progressive/test_test_gen.py::TestCalculateCoverage::test_coverage_valid_files PASSED [ 86%]
tests/unit/workflows/progressive/test_test_gen.py::TestIntegrationEndToEnd::test_end_to_end_simple_workflow PASSED [ 86%]
tests/unit/workflows/progressive/test_test_gen.py::TestIntegrationEndToEnd::test_end_to_end_with_escalation PASSED [ 86%]
tests/unit/workflows/progressive/test_test_gen.py::TestIntegrationEndToEnd::test_workflow_generates_report PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowStage::test_create_stage_with_required_fields PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowStage::test_stage_default_values PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowStage::test_stage_with_all_fields PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowStage::test_stage_with_skipped_true PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestCostReport::test_create_cost_report PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestCostReport::test_cost_report_with_breakdowns PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestCostReport::test_cost_report_with_cache_stats PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestCostReport::test_cost_report_default_cache_stats PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestStageQualityMetrics::test_create_quality_metrics_success PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestStageQualityMetrics::test_quality_metrics_failure PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowResult::test_create_successful_result PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowResult::test_create_failed_result_with_error PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestWorkflowResult::test_result_default_error_fields PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestModelTier::test_tier_values PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestModelTier::test_tier_string_values PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestModelTier::test_tier_to_unified PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestModelProvider::test_provider_values_exist PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestModelProvider::test_provider_string_values PASSED [ 86%]
tests/unit/workflows/test_base_dataclasses.py::TestModelProvider::test_provider_to_unified PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchRequest::test_create_batch_request PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchRequest::test_batch_request_default_tier PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchResult::test_successful_result PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchResult::test_failed_result PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_execute_batch_success PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_execute_batch_with_errors PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_execute_batch_timeout PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_execute_batch_empty_raises_error PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_format_messages_known_task_type PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_format_messages_unknown_task_type PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_load_requests_from_file PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_load_requests_file_not_found PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_load_requests_invalid_json PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_load_requests_invalid_format PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingWorkflow::test_save_results_to_file PASSED [ 86%]
tests/unit/workflows/test_batch_processing.py::TestBatchProcessingCostSavings::test_batch_uses_correct_models PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestLoadBugPredictConfig::test_returns_defaults_when_no_config_file_exists PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestLoadBugPredictConfig::test_loads_from_empathy_config_yml PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestLoadBugPredictConfig::test_tries_multiple_config_file_paths PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestLoadBugPredictConfig::test_handles_malformed_yaml_gracefully PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestLoadBugPredictConfig::test_merges_partial_config_with_defaults PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[tests/test_foo.py-**/test_*.py-True] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[src/main.py-**/test_*.py-False] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[any/path/config.json-config.json-True] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[src/config.json-*.json-True] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[src/fixtures/test.py-**/fixtures/*-True] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[src/not_fixtures/test.py-**/fixtures/*-False] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[fixtures/data.json-fixtures/*-True] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[tests/unit/test_foo.py-tests/**-True] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_pattern_matching[src/unit/test_foo.py-tests/**-False] PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_no_exclusion_when_pattern_list_empty PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_first_matching_pattern_wins PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_multiple_patterns_any_match_excludes PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestShouldExcludeFile::test_case_sensitive_matching PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_accepts_version_detection_with_fallback PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_accepts_config_loading_with_defaults PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_accepts_optional_import_detection PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_accepts_cleanup_code_in_del PASSED [ 86%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_rejects_bare_exception_without_context PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_accepts_intentional_comment_justification PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsAcceptableBroadException::test_respects_configurable_contexts PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_detects_real_eval_usage PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_ignores_eval_in_string_literal PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_ignores_eval_in_comments PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_ignores_javascript_regex_exec PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_ignores_test_fixtures_with_eval PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_ignores_scanner_test_files PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_detects_exec_in_addition_to_eval PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestIsDangerousEvalUsage::test_no_false_positive_on_file_without_eval PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestHasProblematicExceptionHandlers::test_flags_problematic_exception_handler PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestHasProblematicExceptionHandlers::test_allows_version_detection_pattern PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestHasProblematicExceptionHandlers::test_no_flag_when_no_broad_exceptions_exist PASSED [ 87%]
tests/unit/workflows/test_bug_predict_helpers.py::TestHasProblematicExceptionHandlers::test_respects_configurable_contexts_parameter PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictConstants::test_bug_predict_steps_recommend_config PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_workflow_attributes PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_tier_map_configuration PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_default_risk_threshold PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_custom_risk_threshold PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_patterns_dir_configuration PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_load_patterns_from_file PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_load_patterns_handles_missing_file PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestBugPredictionWorkflowInit::test_load_patterns_handles_invalid_json PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestShouldSkipStage::test_downgrade_recommend_when_low_risk PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestShouldSkipStage::test_no_downgrade_when_high_risk PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestShouldSkipStage::test_other_stages_not_affected PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_counts_files PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_detects_broad_exception PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_detects_incomplete_code PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_skips_excluded_directories PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_handles_nonexistent_path PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_returns_token_estimates PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestScanStage::test_scan_limits_scanned_files_output PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestCorrelateStage::test_correlate_matches_patterns PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestCorrelateStage::test_correlate_sets_confidence_scores PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestCorrelateStage::test_correlate_handles_no_patterns PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestCorrelateStage::test_correlate_counts_high_confidence PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPatternsCorrelate::test_broad_exception_correlates_with_null_reference PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPatternsCorrelate::test_broad_exception_correlates_with_type_mismatch PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPatternsCorrelate::test_incomplete_code_correlates_with_async_timing PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPatternsCorrelate::test_dangerous_eval_correlates_with_import_error PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPatternsCorrelate::test_unknown_pattern_no_correlation PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPredictStage::test_predict_calculates_file_risks PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPredictStage::test_predict_calculates_overall_risk PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPredictStage::test_predict_sorts_by_risk PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPredictStage::test_predict_counts_high_risk_files PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPredictStage::test_predict_limits_to_top_20 PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestPredictStage::test_predict_handles_empty_correlations PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRecommendStage::test_recommend_generates_recommendations PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRecommendStage::test_recommend_includes_formatted_report PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRecommendStage::test_recommend_uses_executor_when_available PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRecommendStage::test_recommend_falls_back_on_executor_failure PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRunStageRouter::test_run_stage_routes_to_scan PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRunStageRouter::test_run_stage_routes_to_correlate PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRunStageRouter::test_run_stage_routes_to_predict PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRunStageRouter::test_run_stage_routes_to_recommend PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestRunStageRouter::test_run_stage_raises_for_unknown_stage PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_header PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_high_risk_level PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_low_risk_level PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_minimal_risk_level PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_scan_summary PASSED [ 87%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_pattern_breakdown PASSED [ 88%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_high_risk_files PASSED [ 88%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_correlations PASSED [ 88%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_recommendations PASSED [ 88%]
tests/unit/workflows/test_bug_predict_workflow.py::TestFormatBugPredictReport::test_format_report_includes_model_tier_footer PASSED [ 88%]
tests/unit/workflows/test_bug_predict_workflow.py::TestXMLPromptHandling::test_recommend_uses_xml_when_enabled PASSED [ 88%]
tests/unit/workflows/test_bug_predict_workflow.py::TestXMLPromptHandling::test_recommend_uses_legacy_prompt_when_xml_disabled PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderInit::test_workflow_builder_initialization PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderInit::test_workflow_builder_stores_class_reference PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_config_sets_config PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_executor_sets_executor PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_provider_sets_provider PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_cache_sets_cache PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_cache_enabled_true PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_cache_enabled_false PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_telemetry_sets_backend PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_telemetry_enabled_true PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_telemetry_enabled_false PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_progress_callback_sets_callback PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_progress_callback_accepts_callable PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_tier_tracker_sets_tracker PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderWithMethods::test_with_routing_sets_strategy PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_no_configuration PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_config PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_executor PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_provider PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_cache PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_cache_disabled PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_telemetry_backend PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_telemetry_disabled PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_progress_callback PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_tier_tracker PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_routing_strategy PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderBuild::test_build_with_all_parameters PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderChaining::test_method_chaining_returns_self PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderChaining::test_fluent_api_chaining PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderChaining::test_order_independent_chaining PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderFactory::test_workflow_builder_factory_returns_builder PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderFactory::test_workflow_builder_factory_is_chainable PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderFactory::test_workflow_builder_factory_equivalent_to_constructor PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderEdgeCases::test_build_can_be_called_multiple_times PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderEdgeCases::test_overwriting_configuration PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderEdgeCases::test_toggling_boolean_flags PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderEdgeCases::test_none_values_not_included_in_kwargs PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderIntegration::test_realistic_workflow_configuration PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderIntegration::test_minimal_configuration PASSED [ 88%]
tests/unit/workflows/test_builder_coverage_boost.py::TestWorkflowBuilderIntegration::test_complex_multi_step_configuration PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCachedResponse::test_cached_response_creation PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCachedResponse::test_cached_response_to_dict PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCachedResponse::test_cached_response_from_dict PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCachedResponse::test_cached_response_round_trip PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCacheAwareWorkflow::test_protocol_checks_attributes PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCacheAwareWorkflow::test_protocol_rejects_missing_attributes PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCachingMixinInitialization::test_mixin_default_attributes PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestCachingMixinInitialization::test_mixin_can_override_defaults PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMakeCacheKey::test_make_cache_key_with_system_and_user PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMakeCacheKey::test_make_cache_key_with_user_only PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMakeCacheKey::test_make_cache_key_empty_system PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_respects_enable_flag PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_only_runs_once PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_uses_existing_cache PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_creates_cache PASSED [ 88%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_falls_back_to_hash_on_import_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_disables_on_os_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_disables_on_permission_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestMaybeSetupCache::test_maybe_setup_cache_disables_on_value_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_returns_none_when_disabled PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_returns_none_when_no_cache PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_returns_cached_response PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_calls_cache_with_correct_key PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_handles_key_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_handles_type_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestTryCacheLookup::test_try_cache_lookup_handles_os_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestStoreInCache::test_store_in_cache_returns_false_when_disabled PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestStoreInCache::test_store_in_cache_returns_false_when_no_cache PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestStoreInCache::test_store_in_cache_stores_response PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestStoreInCache::test_store_in_cache_calls_put_with_correct_args PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestStoreInCache::test_store_in_cache_handles_os_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestStoreInCache::test_store_in_cache_handles_value_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheType::test_get_cache_type_returns_none_when_no_cache PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheType::test_get_cache_type_returns_cache_type_attribute PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheType::test_get_cache_type_defaults_to_hash_when_no_attribute PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheType::test_get_cache_type_handles_non_string_cache_type PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheStats::test_get_cache_stats_returns_zeros_when_no_cache PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheStats::test_get_cache_stats_returns_cache_statistics PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheStats::test_get_cache_stats_handles_missing_get_stats_method PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestGetCacheStats::test_get_cache_stats_handles_attribute_error PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestIntegration::test_full_cache_workflow PASSED [ 89%]
tests/unit/workflows/test_caching_coverage_boost.py::TestIntegration::test_caching_disabled_workflow PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextBasics::test_returns_empty_string_for_empty_directory PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextBasics::test_includes_project_name_from_directory PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextMultiFile::test_reads_pyproject_toml PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextMultiFile::test_reads_package_json PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextMultiFile::test_reads_readme_files PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextMultiFile::test_readme_priority_order PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextErrorHandling::test_truncates_long_files PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextErrorHandling::test_handles_unreadable_files_gracefully PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextErrorHandling::test_handles_missing_project_structure PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextStructure::test_includes_project_structure PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextStructure::test_excludes_common_ignored_directories PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestGatherProjectContextStructure::test_limits_depth_to_two_levels PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestShouldSkipStage::test_skips_stages_after_classify_on_input_error PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestShouldSkipStage::test_does_not_skip_classify_stage_on_error PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestShouldSkipStage::test_skips_architect_review_for_simple_changes PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestShouldSkipStage::test_does_not_skip_architect_review_for_complex_changes PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestCodeReviewIntegration::test_full_context_with_all_file_types PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestCodeReviewIntegration::test_initialization_with_custom_core_modules PASSED [ 89%]
tests/unit/workflows/test_code_review_helpers.py::TestCodeReviewIntegration::test_stage_skipping_respects_workflow_state PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestWorkflowInitialization::test_default_initialization PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestWorkflowInitialization::test_custom_file_threshold PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestWorkflowInitialization::test_custom_core_modules PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestWorkflowInitialization::test_crew_disabled PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestStageConfiguration::test_stages_without_crew PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestStageConfiguration::test_tier_mapping PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestClassifyStage::test_classify_simple_change PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestClassifyStage::test_classify_triggers_architect_for_many_files PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestClassifyStage::test_classify_core_module_detection PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestShouldSkipStage::test_never_skip_classify PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestShouldSkipStage::test_skip_architect_for_simple_changes PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestShouldSkipStage::test_dont_skip_architect_when_needed PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestScanStage::test_scan_detects_issues PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestScanStage::test_scan_returns_findings PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestArchitectReviewStage::test_architect_review_generates_verdict PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestWorkflowExecution::test_execute_simple_review PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestWorkflowExecution::test_execute_with_validation_error PASSED [ 89%]
tests/unit/workflows/test_code_review_workflow.py::TestReportFormatting::test_format_code_review_report_exists PASSED [ 90%]
tests/unit/workflows/test_code_review_workflow.py::TestReportFormatting::test_format_empty_results PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestDocumentGenerationWorkflowInitialization::test_workflow_basic_initialization PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestDocumentGenerationWorkflowInitialization::test_workflow_tier_map PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestDocumentGenerationWorkflowInitialization::test_workflow_default_parameters PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestDocumentGenerationWorkflowInitialization::test_workflow_custom_parameters PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestDocumentGenerationWorkflowInitialization::test_workflow_internal_state_initialization PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_estimate_cost_cheap_tier PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_estimate_cost_capable_tier PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_estimate_cost_premium_tier PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_track_cost_accumulation PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_track_cost_warning_threshold PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_track_cost_limit_reached PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_track_cost_no_limit PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestCostEstimationAndTracking::test_track_cost_multiple_calls_below_limit PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestAutoScaling::test_auto_scale_small_section_count PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestAutoScaling::test_auto_scale_medium_section_count PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestAutoScaling::test_auto_scale_large_section_count PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestAutoScaling::test_auto_scale_respects_user_override PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestAutoScaling::test_auto_scale_boundary_conditions PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_simple_outline PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_outline_with_descriptions PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_outline_ignores_subsections PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_outline_with_extra_whitespace PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_outline_empty PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_outline_no_matches PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutlineParsing::test_parse_outline_mixed_content PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_disabled PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_creates_directory PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_filename_format PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_sanitizes_filename PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_content_written PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_with_report PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestExportFunctionality::test_export_document_without_report PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutputChunking::test_chunk_output_small_content PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutputChunking::test_chunk_output_large_content PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutputChunking::test_chunk_output_respects_section_boundaries PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutputChunking::test_chunk_output_adds_headers PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestOutputChunking::test_chunk_output_custom_prefix PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestShouldSkipStage::test_skip_polish_for_short_document PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestShouldSkipStage::test_no_skip_polish_for_long_document PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestShouldSkipStage::test_no_skip_for_other_stages PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_basic_report PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_outline PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_statistics PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_chunking PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_partial_chunks PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_cost PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_export_paths PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_with_warnings PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_truncation_detection PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestFormatDocGenReport::test_format_report_includes_model_tier PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestStepConfiguration::test_doc_gen_steps_defined PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestStepConfiguration::test_step_configuration_properties PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestTokenCosts::test_token_costs_defined PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestTokenCosts::test_token_costs_has_all_tiers PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestTokenCosts::test_token_costs_structure PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestTokenCosts::test_token_costs_relative_pricing PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_initialization_with_zero_max_cost PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_initialization_with_negative_max_sections PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_auto_scale_with_zero_sections PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_parse_outline_with_unicode PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_export_with_empty_document PASSED [ 90%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_chunk_output_with_empty_content PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_chunk_output_with_no_sections PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_format_report_with_empty_outline PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestEdgeCases::test_format_report_with_no_sections PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestGracefulDegradation::test_initialization_with_graceful_degradation_enabled PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestGracefulDegradation::test_initialization_with_graceful_degradation_disabled PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestGracefulDegradation::test_partial_results_initialized_empty PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestComplexScenarios::test_workflow_with_all_custom_settings PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestComplexScenarios::test_cost_tracking_across_multiple_stages PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestComplexScenarios::test_multiple_outline_formats PASSED [ 91%]
tests/unit/workflows/test_document_gen.py::TestComplexScenarios::test_export_with_special_characters_in_doctype PASSED [ 91%]
tests/unit/workflows/test_document_manager.py::TestDocumentManagerWorkflow::test_workflow_initialization PASSED [ 91%]
tests/unit/workflows/test_document_manager.py::TestDocumentManagerWorkflow::test_workflow_tier_map PASSED [ 91%]
tests/unit/workflows/test_document_manager.py::TestDocumentManagerWorkflow::test_workflow_execution_basic SKIPPED [ 91%]
tests/unit/workflows/test_document_manager.py::TestDocumentManagerWorkflow::test_workflow_error_handling PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationOrchestratorInitialization::test_orchestrator_basic_initialization PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationOrchestratorInitialization::test_orchestrator_default_parameters PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationOrchestratorInitialization::test_orchestrator_custom_parameters PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationOrchestratorInitialization::test_orchestrator_exclude_patterns_default PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationOrchestratorInitialization::test_orchestrator_custom_exclude_patterns PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationOrchestratorInitialization::test_orchestrator_internal_state_initialization PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_severity_to_priority_high PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_severity_to_priority_medium PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_severity_to_priority_low PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_severity_to_priority_unknown PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_should_include_severity_high_threshold PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_should_include_severity_medium_threshold PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestSeverityAndPriorityHelpers::test_should_include_severity_low_threshold PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_should_exclude_generated_directories PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_should_exclude_binary_files PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_should_exclude_config_files PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_should_exclude_empathy_internal PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_should_not_exclude_source_files PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_should_exclude_with_tracking PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExclusionPatterns::test_exclusion_reasons PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAllowedOutputExtensions::test_is_allowed_output_markdown PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAllowedOutputExtensions::test_is_allowed_output_mdx PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAllowedOutputExtensions::test_is_allowed_output_rst PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAllowedOutputExtensions::test_is_not_allowed_output_source_files PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAllowedOutputExtensions::test_is_not_allowed_output_binary_files PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationItemDataclass::test_documentation_item_creation PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationItemDataclass::test_documentation_item_with_optional_fields PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDocumentationItemDataclass::test_documentation_item_defaults PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestOrchestratorResultDataclass::test_orchestrator_result_creation PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestOrchestratorResultDataclass::test_orchestrator_result_defaults PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestOrchestratorResultDataclass::test_orchestrator_result_to_dict PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDescribeMethod::test_describe_returns_string PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDescribeMethod::test_describe_contains_workflow_name PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDescribeMethod::test_describe_contains_phases PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDescribeMethod::test_describe_contains_configuration PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestDescribeMethod::test_describe_shows_component_availability PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestPrioritizeItems::test_prioritize_by_severity PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestPrioritizeItems::test_prioritize_by_staleness PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestPrioritizeItems::test_prioritize_by_loc PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestPrioritizeItems::test_prioritize_respects_max_items PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestPrioritizeItems::test_prioritize_combined_criteria PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestParseScoutFindings::test_parse_scout_findings_empty PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestParseScoutFindings::test_parse_scout_findings_with_data PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestParseScoutFindings::test_parse_scout_findings_filters_by_settings PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestParseScoutFindings::test_parse_scout_findings_respects_severity_filter PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestItemsFromIndex::test_items_from_index_no_index PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestItemsFromIndex::test_items_from_index_missing_docstrings PASSED [ 91%]
tests/unit/workflows/test_documentation_orchestrator.py::TestItemsFromIndex::test_items_from_index_stale_docs PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestItemsFromIndex::test_items_from_index_respects_include_settings PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestItemsFromIndex::test_items_from_index_excludes_filtered_files PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateSummary::test_generate_summary_basic PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateSummary::test_generate_summary_with_items PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateSummary::test_generate_summary_with_generation_results PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateSummary::test_generate_summary_with_errors PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateSummary::test_generate_summary_totals PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestScoutPhase::test_run_scout_phase_no_scout_available PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestScoutPhase::test_run_scout_phase_with_scout PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestScoutPhase::test_run_scout_phase_failure PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGeneratePhase::test_run_generate_phase_no_writer PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGeneratePhase::test_run_generate_phase_with_writer PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGeneratePhase::test_run_generate_phase_cost_limit PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGeneratePhase::test_run_generate_phase_stale_doc PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGeneratePhase::test_run_generate_phase_handles_errors PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestUpdateProjectIndex::test_update_project_index_no_index PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestUpdateProjectIndex::test_update_project_index_success PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestUpdateProjectIndex::test_update_project_index_handles_errors PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExecuteWorkflow::test_execute_dry_run PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExecuteWorkflow::test_execute_no_items_found PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExecuteWorkflow::test_execute_awaiting_approval PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestExecuteWorkflow::test_execute_missing_writer PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestScoutOnlyMethod::test_scout_only PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestScoutAsJsonMethod::test_scout_as_json_structure PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestScoutAsJsonMethod::test_scout_as_json_stats PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateForFilesMethods::test_generate_for_file_no_writer PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateForFilesMethods::test_generate_for_file_file_not_found PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateForFilesMethods::test_generate_for_file_success PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateForFilesMethods::test_generate_for_files_excludes_filtered PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestGenerateForFilesMethods::test_generate_for_files_batch_processing PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestEndToEndScenarios::test_full_workflow_with_mocks PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestEndToEndScenarios::test_workflow_with_cost_limits PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestErrorHandlingPaths::test_generate_for_file_read_permission_error PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestErrorHandlingPaths::test_generate_phase_file_read_error_handling PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestErrorHandlingPaths::test_generate_for_files_with_errors PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAdvancedPatternMatching::test_exclude_by_filename_only PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAdvancedPatternMatching::test_exclude_pattern_with_double_asterisk PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAdvancedPatternMatching::test_filename_pattern_without_path PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestAdvancedPatternMatching::test_exclusion_tracking_for_advanced_patterns PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestCostLimitEnforcement::test_cost_limit_stops_generation_mid_batch PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestProjectIndexEdgeCases::test_update_index_with_missing_get_record_method PASSED [ 92%]
tests/unit/workflows/test_documentation_orchestrator.py::TestProjectIndexEdgeCases::test_items_from_index_with_filtered_exclusions PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerBasicFunctions::test_simple_function_extraction PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerBasicFunctions::test_function_with_parameters PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerBasicFunctions::test_function_with_default_params PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerBasicFunctions::test_function_with_mixed_params PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerAsyncFunctions::test_async_function_detection PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerAsyncFunctions::test_async_function_with_params PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_simple_class_extraction PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_class_with_init PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_class_with_multiple_methods PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_class_with_base_classes PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_enum_detection PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_dataclass_detection PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerClassExtraction::test_dataclass_with_call_decorator PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerExceptionDetection::test_simple_exception_raise PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerExceptionDetection::test_multiple_exception_types PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerExceptionDetection::test_exception_from_name PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerSideEffects::test_print_detected_as_side_effect PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerSideEffects::test_file_write_detected PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerSideEffects::test_method_call_side_effect PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerSideEffects::test_pure_function_no_side_effects PASSED [ 92%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerComplexity::test_simple_function_complexity PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerComplexity::test_if_statement_increases_complexity PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerComplexity::test_multiple_branches PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerComplexity::test_loop_increases_complexity PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerComplexity::test_exception_handler_complexity PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerDecorators::test_simple_decorator PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerDecorators::test_multiple_decorators PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerDecorators::test_decorator_with_arguments PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerDocstrings::test_function_docstring PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerDocstrings::test_class_docstring PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerErrorHandling::test_syntax_error_handling PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerErrorHandling::test_empty_code PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerErrorHandling::test_comments_only PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerErrorHandling::test_nested_functions_not_extracted PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerEdgeCases::test_function_with_no_return_type PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerEdgeCases::test_parameter_without_type_hint PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerEdgeCases::test_class_with_async_methods PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerEdgeCases::test_multiple_classes_and_functions PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerEdgeCases::test_complex_default_value PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerIntegration::test_complete_class_analysis PASSED [ 93%]
tests/unit/workflows/test_gen/test_ast_analyzer_coverage_boost.py::TestASTFunctionAnalyzerIntegration::test_multiple_files_sequential_analysis PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_create_function_signature_with_all_fields PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_create_function_signature_with_defaults PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_function_signature_for_async_function PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_function_signature_with_complex_params PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_function_signature_with_decorators PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_function_signature_raises_multiple_exceptions PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestFunctionSignature::test_function_signature_complexity_levels PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_create_class_signature_with_all_fields PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_create_class_signature_with_defaults PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_class_signature_for_enum PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_class_signature_for_dataclass PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_class_signature_with_multiple_base_classes PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_class_signature_with_many_methods PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestClassSignature::test_class_signature_with_complex_init_params PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestIntegration::test_class_signature_contains_function_signatures PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestIntegration::test_function_signature_params_structure PASSED [ 93%]
tests/unit/workflows/test_gen/test_data_models_coverage_boost.py::TestIntegration::test_comprehensive_class_signature PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterBasics::test_minimal_report PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterBasics::test_report_has_header_footer PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterBasics::test_summary_section_with_all_stats PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterStatusIndicators::test_zero_tests_warning PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterStatusIndicators::test_few_tests_yellow_status PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterStatusIndicators::test_moderate_tests_green_status PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterStatusIndicators::test_many_tests_excellent_status PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterScopeNotice::test_scope_notice_shown_with_source_files PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterScopeNotice::test_large_project_warning PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterScopeNotice::test_existing_tests_note PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_xml_summary_extraction PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_xml_coverage_improvement PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_xml_findings_extraction PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_multiple_findings_sorted_by_severity PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_finding_severity_emojis PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_xml_suggested_tests_extraction PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterXMLParsing::test_suggested_tests_limited_to_five PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterPathTruncation::test_long_source_path_truncated PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterPathTruncation::test_long_written_file_path_truncated PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterPathTruncation::test_long_fix_recommendation_truncated PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterPathTruncation::test_long_test_description_truncated PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterGeneratedTestsSection::test_generated_tests_section PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterGeneratedTestsSection::test_generated_tests_limited_to_ten PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterGeneratedTestsSection::test_generated_tests_not_shown_with_xml_findings PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterWrittenFilesSection::test_written_files_section PASSED [ 93%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterWrittenFilesSection::test_written_files_limited_to_ten PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterWrittenFilesSection::test_not_written_warning PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterRecommendations::test_high_priority_recommendation PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterRecommendations::test_medium_priority_recommendation PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterRecommendations::test_suggested_tests_recommendation PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterRecommendations::test_hotspot_recommendation PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterRecommendations::test_untested_files_recommendation PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterRecommendations::test_good_shape_message_when_no_issues PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterEdgeCases::test_empty_result_and_input PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterEdgeCases::test_missing_review_feedback PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterEdgeCases::test_malformed_xml_review_feedback PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterEdgeCases::test_xml_without_response_tag PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterEdgeCases::test_finding_without_optional_fields PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterEdgeCases::test_summary_word_wrapping PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterIntegration::test_complete_report_with_all_sections PASSED [ 94%]
tests/unit/workflows/test_gen/test_report_formatter_coverage_boost.py::TestReportFormatterIntegration::test_minimal_success_report PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_is_list PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_not_empty PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_contains_git PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_contains_pycache PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_contains_node_modules PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_contains_venv PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestDefaultSkipPatterns::test_skip_patterns_all_strings PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_steps_is_dict PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_steps_has_identify PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_steps_has_analyze PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_steps_has_generate PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_steps_has_review PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_steps_count PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_identify_step_tier_cheap PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_analyze_step_tier_capable PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_generate_step_tier_capable PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_review_step_tier_premium PASSED [ 94%]
tests/unit/workflows/test_gen/test_testgen_config_coverage_boost.py::TestTestGenSteps::test_all_steps_have_max_tokens PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestLLMWorkflowGeneratorInit::test_llm_generator_initialization_defaults PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestLLMWorkflowGeneratorInit::test_llm_generator_initialization_custom_tier PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestLLMWorkflowGeneratorInit::test_llm_generator_initialization_cache_disabled PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestLLMWorkflowGeneratorInit::test_llm_generator_initialization_custom_ttl PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestLLMWorkflowGeneratorInit::test_llm_generator_stats_initialization PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_make_cache_key_consistent PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_make_cache_key_different_for_different_inputs PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_put_in_cache_stores_value PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_get_from_cache_returns_value PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_get_from_cache_returns_none_for_missing_key PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_get_from_cache_expires_old_entries PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCaching::test_clear_cache_empties_cache PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestGenerateWithTemplate::test_generate_uses_template_when_cache_disabled PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestGenerateWithTemplate::test_generate_falls_back_to_template_on_validation_failure PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestGenerateWithTemplate::test_generate_falls_back_to_template_on_llm_error PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestValidation::test_generate_validates_llm_result PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestValidation::test_generate_uses_validated_result PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestValidation::test_generate_rejects_invalid_result PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCacheHitMiss::test_cache_miss_on_first_request PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCacheHitMiss::test_cache_hit_on_second_request PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestCacheHitMiss::test_cache_disabled_no_cache_stats PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_update_usage_stats_cheap_tier PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_update_usage_stats_capable_tier PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_update_usage_stats_premium_tier PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_get_stats_calculates_rates PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_get_stats_handles_zero_requests PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_get_stats_calculates_cache_hit_rate PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_get_stats_handles_zero_cache_ops PASSED [ 94%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestStatistics::test_get_stats_returns_copy PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_test_generator_initialization PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_generate_with_template_creates_test_file PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_generate_with_template_handles_missing_context PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_validate_accepts_valid_test_file PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_validate_rejects_missing_pytest PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_validate_rejects_missing_test_function PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_validate_rejects_too_short PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestTestGeneratorLLM::test_validate_rejects_missing_docstring PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestIntegration::test_full_workflow_with_llm_success PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestIntegration::test_full_workflow_with_cache_hit PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestIntegration::test_full_workflow_with_validation_failure PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestIntegration::test_multiple_requests_accumulate_stats PASSED [ 95%]
tests/unit/workflows/test_llm_base_coverage_boost.py::TestIntegration::test_test_generator_end_to_end PASSED [ 95%]
tests/unit/workflows/test_new_sample_workflow1.py::TestNewSampleWorkflow1Workflow::test_workflow_initialization PASSED [ 95%]
tests/unit/workflows/test_new_sample_workflow1.py::TestNewSampleWorkflow1Workflow::test_workflow_tier_map PASSED [ 95%]
tests/unit/workflows/test_new_sample_workflow1.py::TestNewSampleWorkflow1Workflow::test_workflow_execution_basic PASSED [ 95%]
tests/unit/workflows/test_new_sample_workflow1.py::TestNewSampleWorkflow1Workflow::test_workflow_error_handling PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestCategoryScore::test_category_score_creation PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestCategoryScore::test_category_score_defaults PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestHealthCheckReport::test_report_creation PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestHealthCheckReport::test_report_to_dict PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestHealthCheckReport::test_report_format_console_output PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_init_valid_mode PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_init_invalid_mode PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_mode_agents_configuration PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_category_weights_sum_to_one PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_grade_thresholds PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_execute_daily_mode PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_execute_weekly_mode PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_execute_release_mode PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_overall_score PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_assign_grade PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_generate_recommendations_all_passed PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_generate_recommendations_failures PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_trend_tracking_no_history PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_trend_tracking_first_baseline PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_trend_tracking_improving PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_trend_tracking_declining PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_trend_tracking_stable PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_save_tracking_history PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_category_scores_security_critical PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_category_scores_perfect_security PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_category_scores_coverage PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_category_scores_quality PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_category_scores_performance PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::TestOrchestratedHealthCheckWorkflow::test_calculate_category_scores_documentation PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check.py::test_health_check_integration PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestHealthCheckReportEdgeCases::test_report_format_with_failing_categories PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestHealthCheckReportEdgeCases::test_report_format_all_grades PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestHealthCheckReportEdgeCases::test_report_to_dict_comprehensive PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestWorkflowInitializationEdgeCases::test_init_with_extra_kwargs PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestWorkflowInitializationEdgeCases::test_tracking_directory_created PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestExecuteEdgeCases::test_execute_with_nonexistent_project_root PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestExecuteEdgeCases::test_execute_with_target_parameter PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestExecuteEdgeCases::test_execute_with_context_parameter PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestExecuteEdgeCases::test_execute_with_missing_agent_templates PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestExecuteEdgeCases::test_execute_project_root_override PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCategoryScoreCalculations::test_calculate_category_scores_empty_results PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCategoryScoreCalculations::test_calculate_category_scores_missing_output PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCategoryScoreCalculations::test_calculate_category_scores_security_caps_at_zero PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCategoryScoreCalculations::test_calculate_category_scores_performance_caps_at_zero PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCategoryScoreCalculations::test_calculate_overall_score_zero_weight PASSED [ 95%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRecommendationGeneration::test_generate_recommendations_multiple_issues PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestTrendTracking::test_trend_tracking_invalid_json PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestTrendTracking::test_trend_tracking_missing_field PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestFileOperations::test_save_tracking_history_io_error PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestFileOperations::test_save_health_json_success PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestFileOperations::test_save_health_json_io_error PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestFileOperations::test_save_health_json_with_low_quality_score PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestFileOperations::test_save_health_json_with_high_coverage PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestFileOperations::test_save_health_json_unexpected_error PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCLIIntegration::test_main_with_default_args PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestCLIIntegration::test_main_with_custom_args PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRobustnessAndEdgeCases::test_category_score_with_none_values PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRobustnessAndEdgeCases::test_execute_with_agent_failure PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRobustnessAndEdgeCases::test_report_format_console_with_no_trend PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRobustnessAndEdgeCases::test_report_format_console_with_no_recommendations PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRobustnessAndEdgeCases::test_execute_tracks_execution_time PASSED [ 96%]
tests/unit/workflows/test_orchestrated_health_check_comprehensive.py::TestRobustnessAndEdgeCases::test_assign_grade_boundary_values PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestRoutingContext::test_routing_context_creation PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestRoutingContext::test_routing_context_all_complexities PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestRoutingContext::test_routing_context_all_latency_levels PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestCostOptimizedRouting::test_simple_task_routes_to_cheap PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestCostOptimizedRouting::test_moderate_task_routes_to_capable PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestCostOptimizedRouting::test_complex_task_routes_to_premium PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestCostOptimizedRouting::test_can_fallback_from_premium PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestCostOptimizedRouting::test_can_fallback_from_capable PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestCostOptimizedRouting::test_cannot_fallback_from_cheap PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestPerformanceOptimizedRouting::test_high_latency_sensitivity_routes_to_premium PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestPerformanceOptimizedRouting::test_medium_latency_sensitivity_routes_to_capable PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestPerformanceOptimizedRouting::test_low_latency_sensitivity_routes_to_capable PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestPerformanceOptimizedRouting::test_never_allows_fallback PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_zero_budget_raises_value_error PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_negative_budget_raises_value_error PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_low_budget_routes_to_cheap PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_high_budget_complex_task_routes_to_premium PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_medium_budget_routes_to_capable PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_high_budget_simple_task_routes_to_capable PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestBalancedRouting::test_always_allows_fallback PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestTierRoutingStrategyABC::test_strategies_are_subclasses PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestTierRoutingStrategyABC::test_all_strategies_implement_route PASSED [ 96%]
tests/unit/workflows/test_routing.py::TestTierRoutingStrategyABC::test_all_strategies_implement_can_fallback PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDetectionCode::test_identifies_string_literal_detection_patterns PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDetectionCode::test_identifies_regex_compilation_for_detection PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDetectionCode::test_identifies_pattern_searching PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDetectionCode::test_identifies_in_content_checks PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDetectionCode::test_rejects_actual_vulnerable_code PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsFakeCredential::test_identifies_aws_example_keys PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsFakeCredential::test_identifies_test_and_mock_credentials PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsFakeCredential::test_identifies_placeholder_patterns PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsFakeCredential::test_identifies_literal_example_values PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsFakeCredential::test_identifies_pattern_constants PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsFakeCredential::test_rejects_real_looking_credentials PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDocumentationOrString::test_identifies_comment_lines PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDocumentationOrString::test_identifies_docstrings PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDocumentationOrString::test_identifies_string_literal_assignments PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDocumentationOrString::test_identifies_documentation_keywords PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestIsDocumentationOrString::test_rejects_actual_executable_code PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterIntegration::test_scanner_test_file_with_detection_patterns PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterIntegration::test_distinguishes_real_vulnerabilities_from_false_positives PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterEdgeCases::test_handles_empty_strings PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterEdgeCases::test_handles_very_long_lines PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterEdgeCases::test_handles_unicode_and_special_characters PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterEdgeCases::test_handles_nested_quotes PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityFilterEdgeCases::test_case_insensitive_pattern_matching PASSED [ 96%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityAuditWorkflowInitialization::test_default_initialization PASSED [ 97%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityAuditWorkflowInitialization::test_custom_configuration PASSED [ 97%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityAuditWorkflowInitialization::test_stage_skip_logic_when_clean PASSED [ 97%]
tests/unit/workflows/test_security_audit_helpers.py::TestSecurityAuditWorkflowInitialization::test_stage_skip_logic_when_critical_found PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWorkflowStepConfigCreation::test_create_step_config_with_required_fields PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestEffectiveTier::test_effective_tier_uses_tier_hint_when_specified PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestEffectiveTier::test_effective_tier_derives_from_task_type_when_no_hint PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestEffectiveTier::test_effective_tier_enum_returns_model_tier PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWithOverrides::test_with_overrides_creates_new_instance PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWithOverrides::test_with_overrides_updates_tier_hint PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWithOverrides::test_with_overrides_updates_provider_hint PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWithOverrides::test_with_overrides_updates_timeout PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWithOverrides::test_with_overrides_preserves_unspecified_fields PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestWithOverrides::test_with_overrides_copies_metadata PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestToDict::test_to_dict_includes_all_fields PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestToDict::test_to_dict_includes_effective_tier PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestToDict::test_to_dict_handles_none_policies PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestFromDict::test_from_dict_creates_step_config PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestFromDict::test_from_dict_handles_missing_optional_fields PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestFromDict::test_from_dict_does_not_restore_policies PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_passes_for_valid_config PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_empty_name PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_empty_task_type PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_invalid_tier_hint PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_accepts_valid_tier_hints PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_invalid_provider_hint PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_accepts_valid_provider_hints PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_negative_timeout PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_zero_timeout PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_fails_for_negative_max_tokens PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestValidateStepConfig::test_validate_step_config_returns_multiple_errors PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestStepsFromTierMap::test_steps_from_tier_map_creates_step_configs PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestStepsFromTierMap::test_steps_from_tier_map_uses_tier_map_values PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestStepsFromTierMap::test_steps_from_tier_map_uses_default_for_missing_tier PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestStepsFromTierMap::test_steps_from_tier_map_uses_task_type_default PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestStepsFromTierMap::test_steps_from_tier_map_handles_enum_tier_values PASSED [ 97%]
tests/unit/workflows/test_step_config_coverage_boost.py::TestStepsFromTierMap::test_steps_from_tier_map_handles_empty_stages PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTelemetryMixinInitialization::test_mixin_default_attributes PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTelemetryMixinInitialization::test_init_telemetry_with_defaults PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTelemetryMixinInitialization::test_init_telemetry_with_custom_backend PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTelemetryMixinInitialization::test_init_telemetry_handles_os_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTelemetryMixinInitialization::test_init_telemetry_handles_permission_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTelemetryMixinInitialization::test_init_telemetry_handles_attribute_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTrackTelemetry::test_track_telemetry_skips_when_disabled PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTrackTelemetry::test_track_telemetry_skips_when_no_tracker PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTrackTelemetry::test_track_telemetry_calls_tracker PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTrackTelemetry::test_track_telemetry_handles_string_tier PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTrackTelemetry::test_track_telemetry_handles_tracker_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestTrackTelemetry::test_track_telemetry_handles_os_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitCallTelemetry::test_emit_call_telemetry_creates_record PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitCallTelemetry::test_emit_call_telemetry_logs_to_backend PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitCallTelemetry::test_emit_call_telemetry_handles_no_backend PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitCallTelemetry::test_emit_call_telemetry_handles_backend_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitCallTelemetry::test_emit_call_telemetry_handles_os_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitWorkflowTelemetry::test_emit_workflow_telemetry_creates_records PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitWorkflowTelemetry::test_emit_workflow_telemetry_handles_no_backend PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestEmitWorkflowTelemetry::test_emit_workflow_telemetry_handles_backend_error PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestGenerateRunId::test_generate_run_id_creates_uuid PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestGenerateRunId::test_generate_run_id_returns_string PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestGenerateRunId::test_generate_run_id_sets_internal_run_id PASSED [ 97%]
tests/unit/workflows/test_telemetry_mixin_coverage_boost.py::TestIntegration::test_full_telemetry_workflow PASSED [ 97%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_string_params PASSED [ 97%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_int_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_float_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_bool_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_list_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_dict_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_param_with_default PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_non_tuple_param PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_multiple_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_limits_parametrize_cases PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestCasesForParams::test_deduplicates_edge_cases PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_string_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_int_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_float_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_bool_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_list_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_dict_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_tuple_assertion PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_unknown_type PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetTypeAssertion::test_case_insensitive PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_string_values PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_int_values PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_float_values PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_bool_values PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_list_values PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_dict_values PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGetParamTestValues::test_unknown_type_defaults PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_simple_function PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_async_function PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_function_with_exceptions PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_function_with_parametrize PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_function_with_none_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_function_with_side_effects PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_async_function_with_exceptions PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForFunction::test_function_with_edge_cases PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForClass::test_simple_class PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForClass::test_class_with_required_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForClass::test_class_pads_required_params PASSED [ 98%]
tests/unit/workflows/test_test_templates.py::TestGenerateTestForClass::test_class_fixture_naming PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_succeeds_with_cheap PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_upgrades_on_failure PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_all_tiers_exhausted PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_disabled_by_default PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_multiple_upgrades PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_with_exception PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_tier_fallback_cost_tracking PASSED [ 98%]
tests/unit/workflows/test_tier_fallback.py::test_validate_output_default_implementation PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowHeartbeatIntegration::test_workflow_without_heartbeat_tracking PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowHeartbeatIntegration::test_workflow_with_heartbeat_tracking_enabled PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowHeartbeatIntegration::test_workflow_sets_agent_id_automatically PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowHeartbeatIntegration::test_workflow_heartbeat_graceful_degradation PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationIntegration::test_workflow_without_coordination PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationIntegration::test_workflow_with_coordination_enabled PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationIntegration::test_send_signal_without_coordination_returns_empty PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationIntegration::test_wait_for_signal_without_coordination_returns_none PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationIntegration::test_check_signal_without_coordination_returns_none PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationIntegration::test_workflow_coordination_graceful_degradation PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationAPI::test_send_signal_with_mocked_coordinator PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationAPI::test_wait_for_signal_with_mocked_coordinator PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowCoordinationAPI::test_check_signal_with_mocked_coordinator PASSED [ 98%]
tests/unit/workflows/test_workflow_coordination.py::TestWorkflowBothFeaturesEnabled::test_workflow_with_both_features PASSED [ 98%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_model_tier_enum_values PASSED [ 98%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_model_provider_enum_values PASSED [ 98%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_model_tier_to_unified_conversion PASSED [ 98%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_cache_entry_creation PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_cache_stats_workflow_tracking PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_execution_with_mock_executor PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_multi_step_execution PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_context_preservation PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_sequential_step_execution PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_with_empty_config PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_timing_tracking PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_config_validation PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_cache_integration PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_parallel_step_capability PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestWorkflowExecution::test_workflow_result_aggregation PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_cheap_tier_routing PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_capable_tier_routing PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_premium_tier_routing PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_tier_selection_based_on_complexity PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_tier_fallback_on_error PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_provider_selection_per_tier PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_cost_aware_tier_routing PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_tier_upgrade_on_quality_requirement PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_tier_downgrade_for_cost_savings PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_all_tiers_have_unique_values PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_tier_routing_based_on_token_count PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestTierRouting::test_provider_tier_compatibility PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_retry_on_rate_limit PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_fallback_on_model_unavailable PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_error_context_preservation PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_partial_results_on_error PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_graceful_degradation_on_tier_unavailable PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_timeout_handling_with_retry PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_error_recovery_with_fallback_model PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestErrorRecovery::test_max_retries_limit PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestCostOptimization::test_cost_tracking_per_step PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestCostOptimization::test_budget_enforcement PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestCostOptimization::test_tier_selection_minimizes_cost PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestCostOptimization::test_token_estimation_for_cost_prediction PASSED [ 99%]
tests/unit/workflows/test_workflow_execution.py::TestCostOptimization::test_cost_report_generation PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_init_creates_database PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_init_creates_schema PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_init_creates_indexes PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_record_run_inserts_run PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_record_run_inserts_stages PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_record_run_duplicate_id_raises_error PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_query_runs_returns_all_runs PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_query_runs_filter_by_workflow PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_query_runs_filter_by_provider PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_query_runs_filter_by_date_range PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_query_runs_success_only PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_query_runs_includes_stages PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_stats_empty_database PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_stats_aggregates_correctly PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_stats_by_workflow PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_stats_by_provider PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_stats_by_tier PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_stats_recent_runs PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_run_by_id_exists PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_get_run_by_id_not_found PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_delete_run_exists PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_delete_run_deletes_stages PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_delete_run_not_found PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_cleanup_old_runs PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_context_manager PASSED [ 99%]
tests/unit/workflows/test_workflow_history.py::TestWorkflowHistoryStore::test_concurrent_writes PASSED [100%]

=================================== FAILURES ===================================
______________ TestDependencyManager.test_is_cache_installed_true ______________
tests/unit/cache/test_dependency_manager.py:31: in test_is_cache_installed_true
    assert manager.is_cache_installed() is True
E   assert False is True
E    +  where False = is_cache_installed()
E    +    where is_cache_installed = <attune.cache.dependency_manager.DependencyManager object at 0x10a19f550>.is_cache_installed
____________ TestGetRedisOrMock.test_returns_status_when_available _____________
tests/unit/memory/test_redis_bootstrap.py:510: in test_returns_status_when_available
    memory, status = get_redis_or_mock()
src/attune/memory/redis_bootstrap.py:536: in get_redis_or_mock
    memory = RedisShortTermMemory(host=host, port=port, use_mock=False)
src/attune/memory/short_term/facade.py:154: in __init__
    self._base = BaseOperations(
src/attune/memory/short_term/base.py:172: in __init__
    self._client = self._create_client_with_retry()
src/attune/memory/short_term/base.py:250: in _create_client_with_retry
    raise last_error if last_error else ConnectionError("Failed to connect to Redis")
src/attune/memory/short_term/base.py:221: in _create_client_with_retry
    client.ping()
.venv/lib/python3.10/site-packages/redis/commands/core.py:1212: in ping
    return self.execute_command("PING", **kwargs)
.venv/lib/python3.10/site-packages/redis/client.py:605: in execute_command
    return self._execute_command(*args, **options)
.venv/lib/python3.10/site-packages/redis/client.py:611: in _execute_command
    conn = self.connection or pool.get_connection()
.venv/lib/python3.10/site-packages/redis/utils.py:183: in wrapper
    return func(*args, **kwargs)
.venv/lib/python3.10/site-packages/redis/connection.py:1483: in get_connection
    connection.connect()
.venv/lib/python3.10/site-packages/redis/connection.py:390: in connect
    self.on_connect()
.venv/lib/python3.10/site-packages/redis/connection.py:455: in on_connect
    auth_response = self.read_response()
.venv/lib/python3.10/site-packages/redis/connection.py:613: in read_response
    response = self._parser.read_response(disable_decoding=disable_decoding)
.venv/lib/python3.10/site-packages/redis/_parsers/resp2.py:15: in read_response
    result = self._read_response(disable_decoding=disable_decoding)
.venv/lib/python3.10/site-packages/redis/_parsers/resp2.py:38: in _read_response
    raise error
E   redis.exceptions.AuthenticationError: AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?
----------------------------- Captured stdout call -----------------------------
2026-02-04 16:13:20 [warning  ] redis_connection_retry         attempt=1 delay=0.1 error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
2026-02-04 16:13:20 [warning  ] redis_connection_retry         attempt=2 delay=0.2 error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
2026-02-04 16:13:20 [error    ] redis_connection_failed        error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
_ TestMockModeBasics.test_mock_mode_automatically_enabled_when_redis_unavailable _
tests/unit/memory/test_short_term.py:73: in test_mock_mode_automatically_enabled_when_redis_unavailable
    memory = RedisShortTermMemory()  # use_mock=False, but Redis unavailable
src/attune/memory/short_term/facade.py:154: in __init__
    self._base = BaseOperations(
src/attune/memory/short_term/base.py:172: in __init__
    self._client = self._create_client_with_retry()
src/attune/memory/short_term/base.py:250: in _create_client_with_retry
    raise last_error if last_error else ConnectionError("Failed to connect to Redis")
src/attune/memory/short_term/base.py:221: in _create_client_with_retry
    client.ping()
.venv/lib/python3.10/site-packages/redis/commands/core.py:1212: in ping
    return self.execute_command("PING", **kwargs)
.venv/lib/python3.10/site-packages/redis/client.py:605: in execute_command
    return self._execute_command(*args, **options)
.venv/lib/python3.10/site-packages/redis/client.py:611: in _execute_command
    conn = self.connection or pool.get_connection()
.venv/lib/python3.10/site-packages/redis/utils.py:183: in wrapper
    return func(*args, **kwargs)
.venv/lib/python3.10/site-packages/redis/connection.py:1483: in get_connection
    connection.connect()
.venv/lib/python3.10/site-packages/redis/connection.py:390: in connect
    self.on_connect()
.venv/lib/python3.10/site-packages/redis/connection.py:455: in on_connect
    auth_response = self.read_response()
.venv/lib/python3.10/site-packages/redis/connection.py:613: in read_response
    response = self._parser.read_response(disable_decoding=disable_decoding)
.venv/lib/python3.10/site-packages/redis/_parsers/resp2.py:15: in read_response
    result = self._read_response(disable_decoding=disable_decoding)
.venv/lib/python3.10/site-packages/redis/_parsers/resp2.py:38: in _read_response
    raise error
E   redis.exceptions.AuthenticationError: AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?
----------------------------- Captured stdout call -----------------------------
2026-02-04 16:13:20 [warning  ] redis_connection_retry         attempt=1 delay=0.1 error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
2026-02-04 16:13:21 [warning  ] redis_connection_retry         attempt=2 delay=0.2 error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
2026-02-04 16:13:21 [error    ] redis_connection_failed        error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
________ TestOTELBackendInitialization.test_default_endpoint_detection _________
tests/unit/monitoring/test_otel_backend.py:24: in test_default_endpoint_detection
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
______________ TestOTELBackendInitialization.test_custom_endpoint ______________
tests/unit/monitoring/test_otel_backend.py:32: in test_custom_endpoint
    backend = OTELBackend(endpoint="http://custom:4318")
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_____________ TestOTELBackendInitialization.test_custom_batch_size _____________
tests/unit/monitoring/test_otel_backend.py:38: in test_custom_batch_size
    backend = OTELBackend(batch_size=50)
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_______ TestOTELBackendInitialization.test_environment_variable_endpoint _______
tests/unit/monitoring/test_otel_backend.py:45: in test_environment_variable_endpoint
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
__________ TestOTELBackendInitialization.test_collector_not_available __________
tests/unit/monitoring/test_otel_backend.py:63: in test_collector_not_available
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
________ TestOTELBackendPortChecking.test_is_port_open_localhost_closed ________
tests/unit/monitoring/test_otel_backend.py:75: in test_is_port_open_localhost_closed
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
__________ TestOTELBackendPortChecking.test_is_port_open_invalid_host __________
tests/unit/monitoring/test_otel_backend.py:82: in test_is_port_open_invalid_host
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_______ TestOTELBackendPortChecking.test_check_availability_no_endpoint ________
tests/unit/monitoring/test_otel_backend.py:88: in test_check_availability_no_endpoint
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_____ TestOTELBackendPortChecking.test_check_availability_invalid_endpoint _____
tests/unit/monitoring/test_otel_backend.py:95: in test_check_availability_invalid_endpoint
    backend = OTELBackend(endpoint="not-a-url")
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
____________ TestOTELBackendLogging.test_log_call_when_unavailable _____________
tests/unit/monitoring/test_otel_backend.py:106: in test_log_call_when_unavailable
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
__________ TestOTELBackendLogging.test_log_workflow_when_unavailable ___________
tests/unit/monitoring/test_otel_backend.py:127: in test_log_workflow_when_unavailable
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
______________ TestOTELBackendLogging.test_flush_when_unavailable ______________
tests/unit/monitoring/test_otel_backend.py:196: in test_flush_when_unavailable
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_________ TestOTELBackendErrorHandling.test_log_call_with_error_record _________
tests/unit/monitoring/test_otel_backend.py:208: in test_log_call_with_error_record
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
___________ TestOTELBackendErrorHandling.test_log_call_with_fallback ___________
tests/unit/monitoring/test_otel_backend.py:231: in test_log_call_with_fallback
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
______ TestOTELBackendErrorHandling.test_log_workflow_with_skipped_stage _______
tests/unit/monitoring/test_otel_backend.py:255: in test_log_workflow_with_skipped_stage
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_______ TestOTELBackendErrorHandling.test_log_workflow_with_stage_error ________
tests/unit/monitoring/test_otel_backend.py:293: in test_log_workflow_with_stage_error
    backend = OTELBackend()
src/attune/monitoring/otel_backend.py:74: in __init__
    self._otel_available = self._check_otel_installed()
src/attune/monitoring/otel_backend.py:160: in _check_otel_installed
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
src/attune/monitoring/otel_backend.py:160: in <genexpr>
    return all(importlib.util.find_spec(pkg) is not None for pkg in required_packages)
../.pyenv/versions/3.10.11/lib/python3.10/importlib/util.py:94: in find_spec
    parent = __import__(parent_name, fromlist=['__path__'])
E   ModuleNotFoundError: No module named 'opentelemetry'
_____ TestValidateFilePath.test_validate_file_path_rejects_path_traversal ______
tests/unit/telemetry/test_telemetry_cli.py:100: in test_validate_file_path_rejects_path_traversal
    result = _validate_file_path("../../../etc/passwd")
src/attune/config.py:80: in _validate_file_path
    raise ValueError(f"Cannot write to system directory: {dangerous}")
E   ValueError: Cannot write to system directory: /private/etc
______ TestRedisFallbackBehavior.test_uses_mock_when_redis_not_installed _______
tests/unit/test_redis_fallback.py:86: in test_uses_mock_when_redis_not_installed
    memory = RedisShortTermMemory(host="localhost", port=6379)
src/attune/memory/short_term/facade.py:154: in __init__
    self._base = BaseOperations(
src/attune/memory/short_term/base.py:172: in __init__
    self._client = self._create_client_with_retry()
src/attune/memory/short_term/base.py:250: in _create_client_with_retry
    raise last_error if last_error else ConnectionError("Failed to connect to Redis")
src/attune/memory/short_term/base.py:221: in _create_client_with_retry
    client.ping()
.venv/lib/python3.10/site-packages/redis/commands/core.py:1212: in ping
    return self.execute_command("PING", **kwargs)
.venv/lib/python3.10/site-packages/redis/client.py:605: in execute_command
    return self._execute_command(*args, **options)
.venv/lib/python3.10/site-packages/redis/client.py:611: in _execute_command
    conn = self.connection or pool.get_connection()
.venv/lib/python3.10/site-packages/redis/utils.py:183: in wrapper
    return func(*args, **kwargs)
.venv/lib/python3.10/site-packages/redis/connection.py:1483: in get_connection
    connection.connect()
.venv/lib/python3.10/site-packages/redis/connection.py:390: in connect
    self.on_connect()
.venv/lib/python3.10/site-packages/redis/connection.py:455: in on_connect
    auth_response = self.read_response()
.venv/lib/python3.10/site-packages/redis/connection.py:613: in read_response
    response = self._parser.read_response(disable_decoding=disable_decoding)
.venv/lib/python3.10/site-packages/redis/_parsers/resp2.py:15: in read_response
    result = self._read_response(disable_decoding=disable_decoding)
.venv/lib/python3.10/site-packages/redis/_parsers/resp2.py:38: in _read_response
    raise error
E   redis.exceptions.AuthenticationError: AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?
----------------------------- Captured stdout call -----------------------------
2026-02-04 16:15:16 [warning  ] redis_connection_retry         attempt=1 delay=0.1 error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
2026-02-04 16:15:16 [warning  ] redis_connection_retry         attempt=2 delay=0.2 error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
2026-02-04 16:15:16 [error    ] redis_connection_failed        error='AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?' max_attempts=3
________ TestConfigurationValidation.test_validates_retry_configuration ________
tests/unit/test_redis_fallback.py:306: in test_validates_retry_configuration
    assert memory._config.retry_max_attempts == 3
E   AttributeError: 'RedisShortTermMemory' object has no attribute '_config'
----------------------------- Captured stdout call -----------------------------
2026-02-04 16:15:17 [info     ] redis_connected                attempt=1 host=localhost port=6379
2026-02-04 16:15:17 [debug    ] pii_scrubber_enabled           message='PII scrubbing active for data sanitizer'
____________ TestApprovalPrompts.test_request_approval_user_accepts ____________
tests/unit/workflows/progressive/test_cost_telemetry.py:87: in test_request_approval_user_accepts
    assert approved is True
E   assert False is True
------------------------------ Captured log call -------------------------------
WARNING  attune.workflows.progressive.workflow:workflow.py:585 Non-interactive mode: cost $5.00 exceeds auto-approve threshold $1.00. Set ATTUNE_AUTO_APPROVE_MAX to a higher value to auto-approve, or run interactively.
___________ TestApprovalPrompts.test_request_approval_user_declines ____________
../.pyenv/versions/3.10.11/lib/python3.10/unittest/mock.py:908: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'input' to have been called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests/unit/workflows/progressive/test_cost_telemetry.py:99: in test_request_approval_user_declines
    mock_input.assert_called_once()
E   AssertionError: Expected 'input' to have been called once. Called 0 times.
------------------------------ Captured log call -------------------------------
WARNING  attune.workflows.progressive.workflow:workflow.py:585 Non-interactive mode: cost $5.00 exceeds auto-approve threshold $1.00. Set ATTUNE_AUTO_APPROVE_MAX to a higher value to auto-approve, or run interactively.
________ TestApprovalPrompts.test_request_escalation_approval_uppercase ________
tests/unit/workflows/progressive/test_cost_telemetry.py:135: in test_request_escalation_approval_uppercase
    assert approved is True
E   assert False is True
------------------------------ Captured log call -------------------------------
WARNING  attune.workflows.progressive.workflow:workflow.py:635 Non-interactive mode: escalation cost $1.50 exceeds threshold $1.00. Declining escalation.
=========================== short test summary info ============================
FAILED tests/unit/cache/test_dependency_manager.py::TestDependencyManager::test_is_cache_installed_true - assert False is True
 +  where False = is_cache_installed()
 +    where is_cache_installed = <attune.cache.dependency_manager.DependencyManager object at 0x10a19f550>.is_cache_installed
FAILED tests/unit/memory/test_redis_bootstrap.py::TestGetRedisOrMock::test_returns_status_when_available - redis.exceptions.AuthenticationError: AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?
FAILED tests/unit/memory/test_short_term.py::TestMockModeBasics::test_mock_mode_automatically_enabled_when_redis_unavailable - redis.exceptions.AuthenticationError: AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_default_endpoint_detection - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_custom_endpoint - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_custom_batch_size - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_environment_variable_endpoint - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendInitialization::test_collector_not_available - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_is_port_open_localhost_closed - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_is_port_open_invalid_host - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_check_availability_no_endpoint - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendPortChecking::test_check_availability_invalid_endpoint - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_log_call_when_unavailable - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_log_workflow_when_unavailable - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendLogging::test_flush_when_unavailable - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_call_with_error_record - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_call_with_fallback - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_workflow_with_skipped_stage - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/monitoring/test_otel_backend.py::TestOTELBackendErrorHandling::test_log_workflow_with_stage_error - ModuleNotFoundError: No module named 'opentelemetry'
FAILED tests/unit/telemetry/test_telemetry_cli.py::TestValidateFilePath::test_validate_file_path_rejects_path_traversal - ValueError: Cannot write to system directory: /private/etc
FAILED tests/unit/test_redis_fallback.py::TestRedisFallbackBehavior::test_uses_mock_when_redis_not_installed - redis.exceptions.AuthenticationError: AUTH <password> called without any password configured for the default user. Are you sure your configuration is correct?
FAILED tests/unit/test_redis_fallback.py::TestConfigurationValidation::test_validates_retry_configuration - AttributeError: 'RedisShortTermMemory' object has no attribute '_config'
FAILED tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_approval_user_accepts - assert False is True
FAILED tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_approval_user_declines - AssertionError: Expected 'input' to have been called once. Called 0 times.
FAILED tests/unit/workflows/progressive/test_cost_telemetry.py::TestApprovalPrompts::test_request_escalation_approval_uppercase - assert False is True
===== 25 failed, 6085 passed, 160 skipped, 3 xfailed in 209.53s (0:03:29) ======
