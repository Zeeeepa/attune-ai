<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
</head>
<body>
    <h1>Agent API Debug Test</h1>
    <pre id="output"></pre>

    <script>
        async function test() {
            const response = await fetch('/api/agents');
            const agents = await response.json();

            const output = document.getElementById('output');
            output.textContent = JSON.stringify(agents, null, 2);

            // Test the display logic
            console.log('Testing display_name logic:');
            agents.forEach(agent => {
                const displayValue = agent.display_name || agent.agent_id;
                console.log(`Agent ${agent.agent_id}: display_name="${agent.display_name}", showing="${displayValue}"`);
            });
        }

        test();
    </script>
</body>
</html>
