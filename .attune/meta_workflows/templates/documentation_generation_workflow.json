{
  "template_id": "documentation_generation_workflow",
  "name": "Documentation Generation Workflow",
  "description": "Automated documentation generation from code with examples, API references, and user guides",
  "version": "1.0.0",
  "author": "Empathy Framework Team",
  "created_at": "2026-01-17T09:00:00Z",
  "estimated_cost_range": [
    0.2,
    2.8
  ],
  "form_schema": {
    "title": "Documentation Generation Configuration",
    "description": "Configure automated documentation generation with examples and diagrams",
    "questions": [
      {
        "id": "doc_type",
        "type": "multi_select",
        "options": [
          "API Reference (auto-generated from docstrings)",
          "User Guide (tutorials and examples)",
          "Architecture Documentation",
          "Contributing Guide",
          "README/Getting Started",
          "Changelog",
          "FAQ"
        ],
        "required": true,
        "help_text": "Select all applicable documentation types",
        "text": "What type of documentation do you need?",
        "default": null
      },
      {
        "id": "target_audience",
        "type": "single_select",
        "options": [
          "Developers (technical)",
          "End users (non-technical)",
          "Both (mixed technical levels)"
        ],
        "required": true,
        "text": "Who is the primary audience?",
        "default": null
      },
      {
        "id": "include_examples",
        "type": "boolean",
        "required": true,
        "help_text": "Creates runnable code snippets for key features",
        "text": "Generate code examples for documentation?",
        "options": [],
        "default": null
      },
      {
        "id": "example_complexity",
        "type": "single_select",
        "options": [
          "Basic (Hello World style)",
          "Intermediate (realistic use cases)",
          "Advanced (complex scenarios)"
        ],
        "required": false,
        "dependencies": {
          "include_examples": true
        },
        "text": "What complexity level for examples?",
        "default": null
      },
      {
        "id": "output_format",
        "type": "single_select",
        "options": [
          "Markdown (.md)",
          "ReStructuredText (.rst)",
          "HTML (with MkDocs/Sphinx)",
          "Jupyter Notebooks (.ipynb)",
          "Multiple formats"
        ],
        "required": true,
        "text": "What output format should be used?",
        "default": null
      },
      {
        "id": "api_doc_style",
        "type": "single_select",
        "options": [
          "Google Style (Google docstring format)",
          "NumPy Style (NumPy/SciPy format)",
          "Sphinx autodoc",
          "Custom format"
        ],
        "required": true,
        "help_text": "Must match your existing docstring style",
        "text": "What API documentation style?",
        "default": null
      },
      {
        "id": "include_diagrams",
        "type": "boolean",
        "required": true,
        "help_text": "Creates Mermaid diagrams for architecture and flows",
        "text": "Generate architecture/flow diagrams?",
        "options": [],
        "default": null
      },
      {
        "id": "diagram_types",
        "type": "multi_select",
        "options": [
          "Class diagrams",
          "Sequence diagrams",
          "Component diagrams",
          "Flow charts",
          "Data flow diagrams"
        ],
        "required": false,
        "dependencies": {
          "include_diagrams": true
        },
        "text": "What types of diagrams should be generated?",
        "default": null
      },
      {
        "id": "auto_update_readme",
        "type": "boolean",
        "required": true,
        "help_text": "Updates badges, features list, and usage section",
        "text": "Automatically update README.md?",
        "options": [],
        "default": null
      },
      {
        "id": "validate_links",
        "type": "boolean",
        "required": true,
        "help_text": "Checks for broken links and missing references",
        "text": "Validate all documentation links?",
        "options": [],
        "default": null
      }
    ]
  },
  "agent_composition_rules": [
    {
      "role": "code_analyzer",
      "base_template": "code_reviewer",
      "tier_strategy": "capable_first",
      "required_responses": {},
      "config": {
        "extract_docstrings": true,
        "identify_public_api": true,
        "analyze_dependencies": true
      },
      "tools": [
        "ast_parser",
        "docstring_parser"
      ],
      "success_criteria": {
        "api_mapped": true,
        "docstrings_extracted": true
      }
    },
    {
      "role": "api_doc_generator",
      "base_template": "documentation_writer",
      "tier_strategy": "progressive",
      "required_responses": {},
      "config": {
        "doc_types": "{{doc_type}}",
        "style": "{{api_doc_style}}",
        "target_audience": "{{target_audience}}"
      },
      "tools": [
        "sphinx",
        "mkdocs",
        "pydoc"
      ],
      "success_criteria": {
        "api_docs_generated": true,
        "style_consistent": true
      }
    },
    {
      "role": "example_generator",
      "base_template": "code_generator",
      "tier_strategy": "capable_first",
      "required_responses": {
        "include_examples": true
      },
      "config": {
        "complexity": "{{example_complexity}}",
        "runnable": true,
        "test_examples": true
      },
      "tools": [
        "code_templates",
        "pytest"
      ],
      "success_criteria": {
        "examples_created": true,
        "examples_tested": true
      }
    },
    {
      "role": "user_guide_writer",
      "base_template": "documentation_writer",
      "tier_strategy": "progressive",
      "required_responses": {},
      "config": {
        "target_audience": "{{target_audience}}",
        "include_tutorials": true,
        "progressive_complexity": true
      },
      "tools": [
        "markdown",
        "tutorial_templates"
      ],
      "success_criteria": {
        "guide_complete": true,
        "comprehensive_coverage": true
      }
    },
    {
      "role": "diagram_generator",
      "base_template": "documentation_writer",
      "tier_strategy": "capable_first",
      "required_responses": {
        "include_diagrams": true
      },
      "config": {
        "diagram_types": "{{diagram_types}}",
        "format": "mermaid",
        "auto_embed": true
      },
      "tools": [
        "mermaid",
        "graphviz",
        "plantuml"
      ],
      "success_criteria": {
        "diagrams_created": true,
        "properly_embedded": true
      }
    },
    {
      "role": "readme_updater",
      "base_template": "documentation_writer",
      "tier_strategy": "cheap_only",
      "required_responses": {
        "auto_update_readme": true
      },
      "config": {
        "update_badges": true,
        "update_features": true,
        "update_usage": true,
        "preserve_custom_sections": true
      },
      "tools": [
        "markdown_parser"
      ],
      "success_criteria": {
        "readme_updated": true,
        "valid_markdown": true
      }
    },
    {
      "role": "link_validator",
      "base_template": "testing_specialist",
      "tier_strategy": "cheap_only",
      "required_responses": {
        "validate_links": true
      },
      "config": {
        "check_internal_links": true,
        "check_external_links": true,
        "check_anchors": true
      },
      "tools": [
        "linkchecker",
        "markdown_link_check"
      ],
      "success_criteria": {
        "all_links_valid": true,
        "no_broken_references": true
      }
    },
    {
      "role": "formatter",
      "base_template": "code_reviewer",
      "tier_strategy": "cheap_only",
      "required_responses": {},
      "config": {
        "output_format": "{{output_format}}",
        "apply_styling": true,
        "generate_toc": true
      },
      "tools": [
        "prettier",
        "markdown-toc"
      ],
      "success_criteria": {
        "properly_formatted": true,
        "toc_generated": true
      }
    },
    {
      "role": "quality_reviewer",
      "base_template": "documentation_writer",
      "tier_strategy": "progressive",
      "required_responses": {},
      "config": {
        "check_completeness": true,
        "check_clarity": true,
        "check_consistency": true,
        "suggest_improvements": true
      },
      "tools": [
        "readability_analyzer",
        "spell_checker"
      ],
      "success_criteria": {
        "quality_standards_met": true,
        "readability_acceptable": true
      }
    }
  ]
}
