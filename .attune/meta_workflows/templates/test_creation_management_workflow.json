{
  "template_id": "test_creation_management_workflow",
  "name": "Test Creation and Management Workflow",
  "description": "Enterprise-level test creation, inspection, updating, and management with comprehensive coverage",
  "version": "1.0.0",
  "author": "Attune AI Team",
  "created_at": "2026-01-17T10:00:00Z",
  "estimated_cost_range": [
    0.30,
    3.50
  ],
  "form_schema": {
    "title": "Test Creation and Management Configuration",
    "description": "Configure comprehensive test creation and management workflow for enterprise projects",
    "questions": [
      {
        "id": "test_scope",
        "type": "single_select",
        "options": [
          "Single function/class",
          "Single module/package",
          "Multiple modules",
          "Entire project (full suite)"
        ],
        "required": true,
        "help_text": "Determines the scope of test creation and analysis",
        "text": "What is the scope of your testing effort?",
        "default": null
      },
      {
        "id": "test_types",
        "type": "multi_select",
        "options": [
          "Unit tests (functions, classes)",
          "Integration tests (module interactions)",
          "End-to-end tests (full workflows)",
          "Performance/Load tests",
          "Security tests (penetration, fuzzing)",
          "Contract tests (API contracts)",
          "Regression tests (bug prevention)"
        ],
        "required": true,
        "help_text": "Select all applicable test types to create",
        "text": "What types of tests should be created?",
        "default": null
      },
      {
        "id": "testing_framework",
        "type": "single_select",
        "options": [
          "pytest (Python)",
          "unittest (Python standard)",
          "Jest (JavaScript/TypeScript)",
          "JUnit (Java)",
          "RSpec (Ruby)",
          "Auto-detect from project"
        ],
        "required": true,
        "text": "Which testing framework should be used?",
        "default": null
      },
      {
        "id": "coverage_target",
        "type": "single_select",
        "options": [
          "60% (basic coverage)",
          "70% (standard coverage)",
          "80% (good coverage)",
          "90% (high coverage)",
          "95%+ (comprehensive coverage)"
        ],
        "required": true,
        "help_text": "Minimum acceptable test coverage percentage",
        "text": "What is your target test coverage?",
        "default": null
      },
      {
        "id": "test_quality_checks",
        "type": "multi_select",
        "options": [
          "Assertion depth (avoid shallow tests)",
          "Edge case coverage (boundary conditions)",
          "Error handling tests (exception paths)",
          "Mock/fixture quality validation",
          "Test isolation verification",
          "Test performance (avoid slow tests)",
          "Flaky test detection"
        ],
        "required": true,
        "help_text": "Quality metrics to enforce on generated tests",
        "text": "What quality checks should be applied to tests?",
        "default": null
      },
      {
        "id": "test_inspection_mode",
        "type": "single_select",
        "options": [
          "Analyze existing tests only",
          "Create new tests only",
          "Both (analyze + create new)"
        ],
        "required": true,
        "text": "Should we analyze existing tests or create new ones?",
        "default": null
      },
      {
        "id": "update_outdated_tests",
        "type": "boolean",
        "required": true,
        "help_text": "Updates tests that are broken, obsolete, or low-quality",
        "text": "Update outdated or broken tests automatically?",
        "options": [],
        "default": null
      },
      {
        "id": "test_data_strategy",
        "type": "single_select",
        "options": [
          "Minimal fixtures (simple test data)",
          "Realistic fixtures (production-like data)",
          "Property-based testing (Hypothesis/QuickCheck)",
          "Snapshot testing (freeze outputs)",
          "Mixed strategy (combination)"
        ],
        "required": true,
        "help_text": "How test data should be generated and managed",
        "text": "What test data strategy should be used?",
        "default": null
      },
      {
        "id": "parallel_execution",
        "type": "boolean",
        "required": true,
        "help_text": "Enables parallel test execution for faster CI/CD",
        "text": "Enable parallel test execution?",
        "options": [],
        "default": null
      },
      {
        "id": "generate_test_reports",
        "type": "multi_select",
        "options": [
          "Coverage report (HTML + terminal)",
          "Test execution summary (JUnit XML)",
          "Performance metrics (test duration)",
          "Flaky test report",
          "Missing coverage report (uncovered lines)"
        ],
        "required": true,
        "text": "What test reports should be generated?",
        "default": null
      },
      {
        "id": "ci_integration",
        "type": "boolean",
        "required": false,
        "help_text": "Generates CI/CD configuration for automated testing",
        "text": "Generate CI/CD integration (GitHub Actions, etc.)?",
        "options": [],
        "default": null
      },
      {
        "id": "test_documentation",
        "type": "boolean",
        "required": true,
        "help_text": "Creates test plan documentation and examples",
        "text": "Generate test documentation and examples?",
        "options": [],
        "default": null
      }
    ]
  },
  "agent_composition_rules": [
    {
      "role": "test_analyzer",
      "base_template": "code_reviewer",
      "tier_strategy": "capable_first",
      "required_responses": {},
      "config": {
        "scope": "{{test_scope}}",
        "analyze_coverage": true,
        "identify_gaps": true,
        "analyze_quality": true
      },
      "tools": [
        "coverage.py",
        "pytest-cov",
        "ast_parser"
      ],
      "success_criteria": {
        "analysis_complete": true,
        "gaps_identified": true,
        "quality_assessed": true
      }
    },
    {
      "role": "unit_test_generator",
      "base_template": "testing_specialist",
      "tier_strategy": "progressive",
      "required_responses": {},
      "config": {
        "test_types": "{{test_types}}",
        "framework": "{{testing_framework}}",
        "coverage_target": "{{coverage_target}}",
        "quality_checks": "{{test_quality_checks}}"
      },
      "tools": [
        "pytest",
        "unittest",
        "hypothesis"
      ],
      "success_criteria": {
        "tests_generated": true,
        "coverage_target_met": true,
        "quality_validated": true
      }
    },
    {
      "role": "integration_test_creator",
      "base_template": "testing_specialist",
      "tier_strategy": "capable_first",
      "required_responses": {},
      "config": {
        "test_module_interactions": true,
        "test_data_strategy": "{{test_data_strategy}}",
        "isolation_level": "module"
      },
      "tools": [
        "pytest",
        "docker",
        "testcontainers"
      ],
      "success_criteria": {
        "integration_tests_created": true,
        "interactions_covered": true
      }
    },
    {
      "role": "e2e_test_designer",
      "base_template": "testing_specialist",
      "tier_strategy": "capable_first",
      "required_responses": {},
      "config": {
        "workflow_coverage": true,
        "user_scenarios": true,
        "realistic_data": "{{test_data_strategy}}"
      },
      "tools": [
        "playwright",
        "selenium",
        "cypress"
      ],
      "success_criteria": {
        "e2e_tests_created": true,
        "workflows_covered": true
      }
    },
    {
      "role": "test_quality_validator",
      "base_template": "code_reviewer",
      "tier_strategy": "progressive",
      "required_responses": {},
      "config": {
        "quality_checks": "{{test_quality_checks}}",
        "assertion_depth_min": 2,
        "edge_case_validation": true,
        "mock_quality_check": true
      },
      "tools": [
        "pytest",
        "pytest-clarity",
        "mutmut"
      ],
      "success_criteria": {
        "quality_validated": true,
        "shallow_tests_identified": true,
        "edge_cases_covered": true
      }
    },
    {
      "role": "test_updater",
      "base_template": "code_generator",
      "tier_strategy": "progressive",
      "required_responses": {
        "update_outdated_tests": true
      },
      "config": {
        "fix_broken_tests": true,
        "modernize_syntax": true,
        "improve_quality": true,
        "update_assertions": true
      },
      "tools": [
        "pytest",
        "ast_rewriter",
        "refactoring_tools"
      ],
      "success_criteria": {
        "tests_updated": true,
        "all_tests_pass": true,
        "quality_improved": true
      }
    },
    {
      "role": "fixture_manager",
      "base_template": "code_generator",
      "tier_strategy": "cheap_only",
      "required_responses": {},
      "config": {
        "test_data_strategy": "{{test_data_strategy}}",
        "create_factories": true,
        "shared_fixtures": true,
        "cleanup_strategy": "automatic"
      },
      "tools": [
        "pytest-fixtures",
        "factory_boy",
        "faker"
      ],
      "success_criteria": {
        "fixtures_created": true,
        "reusable": true,
        "cleanup_implemented": true
      }
    },
    {
      "role": "performance_test_creator",
      "base_template": "testing_specialist",
      "tier_strategy": "capable_first",
      "required_responses": {},
      "config": {
        "load_test": true,
        "stress_test": true,
        "benchmark_critical_paths": true,
        "parallel_execution": "{{parallel_execution}}"
      },
      "tools": [
        "pytest-benchmark",
        "locust",
        "k6"
      ],
      "success_criteria": {
        "perf_tests_created": true,
        "baselines_established": true
      }
    },
    {
      "role": "test_report_generator",
      "base_template": "documentation_writer",
      "tier_strategy": "cheap_only",
      "required_responses": {},
      "config": {
        "report_formats": "{{generate_test_reports}}",
        "coverage_html": true,
        "junit_xml": true,
        "trend_analysis": true
      },
      "tools": [
        "coverage",
        "pytest-html",
        "allure"
      ],
      "success_criteria": {
        "reports_generated": true,
        "actionable_insights": true
      }
    },
    {
      "role": "ci_integration_specialist",
      "base_template": "automation_specialist",
      "tier_strategy": "cheap_only",
      "required_responses": {
        "ci_integration": true
      },
      "config": {
        "platform": "github-actions",
        "parallel_execution": "{{parallel_execution}}",
        "coverage_upload": true,
        "slack_notifications": true
      },
      "tools": [
        "github-actions",
        "codecov",
        "coveralls"
      ],
      "success_criteria": {
        "ci_config_created": true,
        "automated_execution": true
      }
    },
    {
      "role": "test_documentation_writer",
      "base_template": "documentation_writer",
      "tier_strategy": "progressive",
      "required_responses": {
        "test_documentation": true
      },
      "config": {
        "create_test_plan": true,
        "document_fixtures": true,
        "example_tests": true,
        "best_practices_guide": true
      },
      "tools": [
        "markdown",
        "mkdocs"
      ],
      "success_criteria": {
        "documentation_complete": true,
        "examples_provided": true
      }
    }
  ]
}
